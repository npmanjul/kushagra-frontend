{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/anjulsachan/Documents/grain_bank/Frontend/src/components/common/GrainConfirmation.jsx"],"sourcesContent":["\"use client\";\nimport React from \"react\";\nimport {\n  X,\n  Package,\n  Scale,\n  Award,\n  Warehouse,\n  Info,\n  TrendingUp,\n  Droplets,\n  ArrowLeftRight,\n} from \"lucide-react\";\n\nconst GrainConfirmation = ({\n  isOpen,\n  onClose,\n  confirmationData,\n  onConfirm,\n}) => {\n  if (!isOpen || !confirmationData) return null;\n\n  const quantity = confirmationData.quantity || 0;\n  const price = confirmationData.currentPrice || 0;\n  const totalValue = price * quantity;\n  const moistureContent = confirmationData.moisture_content || 0;\n  const transactionType = confirmationData.transaction_type || \"Invalid\";\n\n  const netAmountInStorage = totalValue;\n\n  const handleConfirm = () => {\n    if (onConfirm) onConfirm();\n    onClose();\n  };\n\n  // Get transaction type badge color\n  const getTransactionTypeColor = (type) => {\n    switch (type?.toLowerCase()) {\n      case \"deposit\":\n        return \"from-green-400 to-emerald-500\";\n      case \"withdrawal\":\n        return \"from-orange-400 to-red-500\";\n      case \"transfer\":\n        return \"from-blue-400 to-indigo-500\";\n      default:\n        return \"from-gray-400 to-gray-500\";\n    }\n  };\n\n  return (\n    <div\n      className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm\"\n      aria-modal=\"true\"\n      role=\"dialog\"\n    >\n      <div className=\"relative bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto animate-in fade-in zoom-in duration-300 no-scrollbar\">\n        {/* Header */}\n        <div className=\"bg-gradient-to-r from-emerald-600 to-teal-600 px-4 sm:px-6 py-4 sm:py-5 relative sticky top-0 z-10\">\n          <button\n            onClick={onClose}\n            className=\"absolute top-3 sm:top-4 right-3 sm:right-4 text-white/80 hover:text-white transition-colors\"\n            aria-label=\"Close\"\n          >\n            <X size={24} />\n          </button>\n          <div className=\"flex items-center gap-3 pr-8\">\n            <div className=\"bg-white/20 backdrop-blur-sm p-2 rounded-lg\">\n              <Package size={24} className=\"text-white\" />\n            </div>\n            <div>\n              <h2 className=\"text-xl sm:text-2xl font-bold text-white\">\n                Confirm Storage\n              </h2>\n              <p className=\"text-emerald-50 text-xs sm:text-sm mt-1\">\n                Review your grain storage details\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Content */}\n        <div className=\"px-4 sm:px-6 py-4 sm:py-6 space-y-4\">\n          {/* Profile */}\n          <div className=\"bg-gradient-to-r from-blue-50 to-sky-50 border-2 border-blue-200 rounded-xl p-3 sm:p-4\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 text-lg font-bold\">\n                {confirmationData.farmer_image ? (\n                  <img\n                    src={confirmationData.farmer_image}\n                    alt={confirmationData.farmer_name}\n                    className=\"w-10 h-10 rounded-full object-cover\"\n                  />\n                ) : (\n                  <div className=\"w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center text-white font-bold text-lg\">\n                    {confirmationData.farmer_name?.charAt(0).toUpperCase() ||\n                      \"U\"}\n                  </div>\n                )}\n              </div>\n              <div className=\"flex justify-between w-full\">\n                <div className=\"flex-1\">\n                  <p className=\"text-sm sm:text-base font-semibold text-gray-700\">\n                    {confirmationData.farmer_name || \"Unknown Farmer\"}\n                  </p>\n                  <p className=\"text-xs text-gray-500\">\n                    {confirmationData.farmer_email || \"No email\"}\n                  </p>\n                  <p className=\"text-xs text-gray-500\">\n                    {confirmationData.farmer_phone_number || \"No phone number\"}\n                  </p>\n                </div>\n                <div>\n                  <p className=\"text-xs text-blue-600 font-bold\">\n                    {confirmationData.farmer_userId || \"No userId\"}\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Transaction Type Badge */}\n          <div className=\"bg-gradient-to-r from-slate-50 to-gray-50 border-2 border-gray-200 rounded-xl p-3 sm:p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-2\">\n                <ArrowLeftRight size={18} className=\"text-gray-600\" />\n                <span className=\"text-sm font-semibold text-gray-700\">\n                  Transaction Type\n                </span>\n              </div>\n              <div>\n                <span\n                  className={`inline-flex items-center gap-1.5 px-4 py-2 rounded-full text-xs sm:text-sm font-bold text-white bg-gradient-to-r ${getTransactionTypeColor(\n                    transactionType\n                  )} shadow-md`}\n                >\n                  <ArrowLeftRight size={14} />\n                  {transactionType}\n                </span>\n              </div>\n            </div>\n          </div>\n\n          {/* Market Price */}\n          <div className=\"bg-gradient-to-r from-purple-50 to-indigo-50 border-2 border-purple-200 rounded-xl p-3 sm:p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-2\">\n                <TrendingUp size={18} className=\"text-purple-600\" />\n                <span className=\"text-sm font-semibold text-gray-700\">\n                  Current Market Price\n                </span>\n              </div>\n              <div className=\"text-right\">\n                <p className=\"text-lg sm:text-xl font-bold text-purple-700\">\n                  ₹{price.toLocaleString(\"en-IN\")}\n                </p>\n                <p className=\"text-xs text-gray-500\">per quintal</p>\n              </div>\n            </div>\n          </div>\n\n          {/* Grain Details */}\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n            <DetailCard\n              icon={<Package size={16} className=\"text-emerald-600\" />}\n              label=\"Grain Category\"\n              value={confirmationData.grainCategory || \"-\"}\n            />\n            <DetailCard\n              icon={<Scale size={16} className=\"text-emerald-600\" />}\n              label=\"Quantity\"\n              value={`${quantity} Quintals`}\n            />\n            <DetailCard\n              icon={<Award size={16} className=\"text-emerald-600\" />}\n              label=\"Quality Grade\"\n              value={confirmationData.grainQuality || \"-\"}\n            />\n            <DetailCard\n              icon={<Warehouse size={16} className=\"text-emerald-600\" />}\n              label=\"Warehouse\"\n              value={confirmationData.warehouse || \"-\"}\n            />\n          </div>\n\n          {/* Moisture Content */}\n          <div className=\"bg-gradient-to-r from-cyan-50 to-blue-50 border-2 border-cyan-200 rounded-xl p-3 sm:p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-2\">\n                <Droplets size={18} className=\"text-cyan-600\" />\n                <span className=\"text-sm font-semibold text-gray-700\">\n                  Moisture Content\n                </span>\n              </div>\n              <div className=\"text-right\">\n                <p className=\"text-lg sm:text-xl font-bold text-cyan-700\">\n                  {moistureContent}%\n                </p>\n                <p className=\"text-xs text-gray-500\">\n                  {moistureContent <= 12 ? (\n                    <span className=\"text-green-600 font-semibold\">✓ Optimal</span>\n                  ) : moistureContent <= 14 ? (\n                    <span className=\"text-yellow-600 font-semibold\">⚠ Acceptable</span>\n                  ) : (\n                    <span className=\"text-red-600 font-semibold\">✗ High</span>\n                  )}\n                </p>\n              </div>\n            </div>\n            {moistureContent > 14 && (\n              <div className=\"mt-2 pt-2 border-t border-cyan-200\">\n                <p className=\"text-xs text-orange-600 font-medium flex items-center gap-1\">\n                  <Info size={12} />\n                  High moisture may affect storage quality\n                </p>\n              </div>\n            )}\n          </div>\n\n          {/* Total Grain Value */}\n          <div className=\"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl p-3\">\n            <p className=\"text-xs text-gray-600 mb-1\">Total Grain Value</p>\n            <p className=\"text-lg sm:text-xl font-bold text-gray-900\">\n              ₹{totalValue.toLocaleString(\"en-IN\")}\n            </p>\n            <p className=\"text-xs text-gray-500 mt-0.5\">\n              {quantity} × ₹{price.toLocaleString(\"en-IN\")}\n            </p>\n          </div>\n\n          {/* Info */}\n          <div className=\"bg-blue-50 border-l-4 border-blue-500 rounded-r-xl p-3 space-y-1.5\">\n            <div className=\"flex items-start gap-2\">\n              <Info size={16} className=\"text-blue-600 mt-0.5 flex-shrink-0\" />\n              <div className=\"space-y-1 text-xs sm:text-sm\">\n                <p className=\"text-gray-700\">\n                  <span className=\"font-semibold\">Min. period:</span> 6 months\n                </p>\n                <p className=\"text-gray-700\">\n                  <span className=\"font-semibold\">Storage fee:</span>{\" \"}\n                  ₹0.20/quintal/day\n                </p>\n                <p className=\"text-gray-700\">\n                  <span className=\"font-semibold\">\n                    Quality check is mandatory\n                  </span>\n                </p>\n              </div>\n            </div>\n          </div>\n\n          {/* Net Summary */}\n          <div className=\"bg-gradient-to-r from-slate-100 to-gray-100 rounded-xl p-4 border-2 border-gray-300\">\n            <div className=\"flex justify-between items-center\">\n              <div>\n                <p className=\"text-xs text-gray-600\">Net Amount</p>\n              </div>\n              <div className=\"text-right\">\n                <p className=\"text-xl sm:text-2xl font-bold text-gray-900\">\n                  ₹{netAmountInStorage.toLocaleString(\"en-IN\")}\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Actions */}\n        <div className=\"px-4 sm:px-6 py-3 sm:py-4 bg-gray-50 flex gap-3 sticky bottom-0\">\n          <button\n            onClick={onClose}\n            className=\"flex-1 px-4 py-2.5 sm:py-3 border-2 border-gray-300 text-gray-700 font-semibold rounded-xl hover:bg-gray-100 transition-all hover:border-gray-400 text-sm sm:text-base\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={handleConfirm}\n            className=\"flex-1 px-4 py-2.5 sm:py-3 bg-gradient-to-r from-emerald-600 to-teal-600 text-white font-semibold rounded-xl hover:from-emerald-700 hover:to-teal-700 transition-all shadow-lg hover:shadow-xl text-sm sm:text-base\"\n          >\n            Confirm Storage\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Reusable Detail Card\nconst DetailCard = ({ icon, label, value }) => (\n  <div className=\"group\">\n    <div className=\"flex items-center gap-2 mb-2\">\n      {icon}\n      <label className=\"text-xs sm:text-sm font-semibold text-gray-700\">\n        {label}\n      </label>\n    </div>\n    <div className=\"bg-gradient-to-r from-emerald-50 to-teal-50 border-2 border-emerald-200 rounded-xl px-3 py-2.5 transition-all group-hover:border-emerald-300\">\n      <p className=\"text-sm sm:text-base text-gray-900 font-medium break-words truncate\">\n        {value}\n      </p>\n    </div>\n  </div>\n);\n\nexport default GrainConfirmation;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 822, "column": 0}, "map": {"version":3,"sources":["file:///Users/anjulsachan/Documents/grain_bank/Frontend/src/app/admin/deposit/page.jsx"],"sourcesContent":["\"use client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Plus, AlertCircle, Search, User, X, Check, Droplets, ArrowDownCircle } from \"lucide-react\";\nimport toast from \"react-hot-toast\";\nimport API_BASE_URL from \"@/utils/constants\";\nimport GrainConfirmation from \"@/components/common/GrainConfirmation\";\nimport Loader from \"@/components/common/Loader\";\n\nconst DepositContent = () => {\n  const [form, setForm] = useState({\n    quantity: \"\",\n    category_id: \"\",\n    warehouse_id: \"\",\n    moisture_content: \"\",\n    transaction_type: \"deposit\",\n    farmerId: \"\",\n  });\n\n  const [grainTypes, setGrainTypes] = useState([]);\n  const [warehouses, setWarehouses] = useState([]);\n  const [modalOpen, setModalOpen] = useState(false);\n  const [selectedDepositData, setSelectedDepositData] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  // User search states\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [searchType, setSearchType] = useState(\"name\");\n  const [searchResults, setSearchResults] = useState([]);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [isSearching, setIsSearching] = useState(false);\n  const [showSearchDropdown, setShowSearchDropdown] = useState(false);\n  const [grainPrices, setGrainPrices] = useState(null);\n\n  // Detect search type based on input\n  const detectSearchType = (query) => {\n    const normalizedQuery = query.trim();\n\n    // Check if it's an email\n    if (normalizedQuery.includes(\"@\")) {\n      return \"email\";\n    }\n\n    // Check if it's a phone number\n    if (\n      /^[\\d\\s\\-\\+]+$/.test(normalizedQuery) &&\n      normalizedQuery.replace(/\\D/g, \"\").length >= 7\n    ) {\n      return \"phone_number\";\n    }\n\n    // Check if it's a userId\n    if (/^SGB\\d{10}$/i.test(normalizedQuery)) {\n      return \"userId\";\n    }\n\n    // Default to name search\n    return \"name\";\n  };\n\n  const searchUsers = async (query) => {\n    if (query.length < 2) {\n      setSearchResults([]);\n      return;\n    }\n\n    setIsSearching(true);\n    const detectedType = detectSearchType(query);\n    setSearchType(detectedType);\n\n    try {\n      const queryParam = `${detectedType}=${encodeURIComponent(query)}`;\n      const response = await fetch(\n        `${API_BASE_URL}/user/finduserdetails?${queryParam}`,\n        {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          },\n        }\n      );\n\n      const data = await response.json();\n\n      if (data.users && Array.isArray(data.users)) {\n        setSearchResults(data.users);\n        setShowSearchDropdown(true);\n      } else if (data.user) {\n        // Fallback for single user response\n        setSearchResults([data.user]);\n        setShowSearchDropdown(true);\n      } else {\n        setSearchResults([]);\n        setShowSearchDropdown(true);\n      }\n    } catch (error) {\n      console.error(\"Search error:\", error);\n      toast.error(\"Error searching users\", error.message);\n      setSearchResults([]);\n      setShowSearchDropdown(true);\n    } finally {\n      setIsSearching(false);\n    }\n  };\n\n  useEffect(() => {\n    const delayDebounceFn = setTimeout(() => {\n      if (searchQuery) {\n        searchUsers(searchQuery);\n      } else {\n        setSearchResults([]);\n        setShowSearchDropdown(false);\n      }\n    }, 500);\n\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchQuery]);\n\n  // Handle user selection\n  const handleSelectUser = (user) => {\n    setSelectedUser(user);\n    setForm({ ...form, farmerId: user._id || user.id });\n    setSearchQuery(\"\");\n    setShowSearchDropdown(false);\n    setSearchResults([]);\n    toast.success(`Selected farmer: ${user.name}`);\n  };\n\n  // Clear selected user\n  const handleClearUser = () => {\n    setSelectedUser(null);\n    setForm({ ...form, farmerId: \"\" });\n    setSearchQuery(\"\");\n  };\n\n  // Fetch all grain categories\n  const fetchGrainTypes = async () => {\n    setIsLoading(true);\n    try {\n      const response = await fetch(`${API_BASE_URL}/grain/allgraincategories`);\n      if (!response.ok) throw new Error(\"Failed to fetch grain types\");\n      const data = await response.json();\n\n      if (response.ok) {\n        setGrainTypes(data);\n      }\n    } catch (error) {\n      console.error(error);\n      toast.error(\"Failed to load grain categories\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Fetch all warehouses\n  const fetchWarehouses = async () => {\n    setIsLoading(true);\n    try {\n      const response = await fetch(`${API_BASE_URL}/warehouse/allwarehouse`);\n      if (!response.ok) throw new Error(\"Failed to fetch warehouses\");\n      const data = await response.json();\n\n      if (response.ok) {\n        setWarehouses(data.data);\n      }\n    } catch (error) {\n      console.error(error);\n      toast.error(\"Failed to load warehouses\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const fetchGrainPrices = async () => {\n    try {\n      const response = await fetch(\n        `${API_BASE_URL}/pricehistory/pricehistorybygrain?id=${form.category_id}`\n      );\n      if (!response.ok) throw new Error(\"Failed to fetch today's market price\");\n      const data = await response.json();\n\n      if (response.ok) {\n        setGrainPrices(data);\n      }\n    } catch (error) {\n      console.error(error);\n      toast.error(\"Failed to load today's market price\");\n    }\n  };\n\n  useEffect(() => {\n    fetchGrainTypes();\n    fetchWarehouses();\n  }, []);\n\n  useEffect(() => {\n    if (form.category_id) {\n      fetchGrainPrices();\n    }\n  }, [form.category_id]);\n\n  // Submit deposit to backend\n  const handleSubmit = async () => {\n    if (!form.farmerId) {\n      toast.error(\"Please select a farmer\");\n      return;\n    }\n\n    if (!form.category_id || !form.warehouse_id || !form.quantity || !form.moisture_content) {\n      toast.error(\"Please fill all required fields\");\n      return;\n    }\n\n    // Validate moisture content\n    const moistureValue = parseFloat(form.moisture_content);\n    if (isNaN(moistureValue) || moistureValue < 0 || moistureValue > 100) {\n      toast.error(\"Moisture content must be between 0 and 100%\");\n      return;\n    }\n\n    try {\n      const depositData = {\n        farmerId: form.farmerId,\n        warehouse_id: form.warehouse_id,\n        category_id: form.category_id,\n        quantity: form.quantity,\n        current_price: grainPrices?.price,\n        moisture_content: form.moisture_content,\n        transaction_type: form.transaction_type,\n      };\n\n      const response = await fetch(`${API_BASE_URL}/deposite/graindeposite`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n        body: JSON.stringify(depositData),\n      });\n\n      const data = await response.json();\n\n      if (response.ok) {\n        toast.success(\"Deposit submitted successfully\");\n        setForm({\n          quantity: \"\",\n          category_id: \"\",\n          warehouse_id: \"\",\n          farmerId: \"\",\n          moisture_content: \"\",\n          transaction_type: \"deposit\",\n        });\n        setSelectedUser(null);\n        setModalOpen(false);\n      } else {\n        toast.error(data.message || \"Failed to submit deposit\");\n      }\n    } catch (error) {\n      console.error(error);\n      toast.error(\"Error while submitting deposit\");\n    }\n  };\n\n  // Handle modal open\n  const handleOpenModal = () => {\n    if (!form.farmerId) {\n      toast.error(\"Please select a farmer\");\n      return;\n    }\n\n    if (!form.category_id || !form.warehouse_id || !form.quantity || !form.moisture_content) {\n      toast.error(\"Please fill all required fields\");\n      return;\n    }\n\n    const selectedGrain = grainTypes.find((g) => g._id === form.category_id);\n    const selectedWarehouse = warehouses.find(\n      (w) => w._id === form.warehouse_id\n    );\n\n    const confirmationData = {\n      farmer_name: selectedUser.name,\n      farmer_email: selectedUser.email,\n      farmer_phone_number: selectedUser.phone_number,\n      farmer_image: selectedUser.user_image,\n      grainCategory: selectedGrain?.grain_type || \"N/A\",\n      grain_id: selectedGrain?._id || \"N/A\",\n      grainQuality: selectedGrain?.quality || \"N/A\",\n      quantity: form.quantity,\n      warehouse: selectedWarehouse\n        ? `${selectedWarehouse.name} — ${selectedWarehouse.location}`\n        : \"N/A\",\n      currentPrice: grainPrices?.price,\n      farmer_userId: selectedUser.farmerId,\n      moisture_content: form.moisture_content,\n      transaction_type: form.transaction_type,\n    };\n\n    setSelectedDepositData(confirmationData);\n    setModalOpen(true);\n  };\n\n  // Get search type indicator\n  const getSearchTypeLabel = () => {\n    switch (searchType) {\n      case \"email\":\n        return \"Searching by Email\";\n      case \"phone_number\":\n        return \"Searching by Phone\";\n      case \"userId\":\n        return \"Searching by User ID\";\n      default:\n        return \"Searching by Name\";\n    }\n  };\n\n  if (isLoading) {\n    return <Loader />;\n  }\n\n  return (\n    <>\n      {modalOpen && selectedDepositData && (\n        <GrainConfirmation\n          isOpen={modalOpen}\n          onClose={() => setModalOpen(false)}\n          confirmationData={selectedDepositData}\n          onConfirm={handleSubmit}\n        />\n      )}\n\n      <div className=\"space-y-6\">\n        <div className=\"bg-white rounded-xl shadow-lg p-6 border border-gray-100\">\n          <h2 className=\"text-2xl font-bold mb-6 flex items-center text-gray-800\">\n            <div className=\"p-2 bg-green-100 rounded-lg mr-3\">\n              <Plus className=\"h-6 w-6 text-green-600\" />\n            </div>\n            New Grain Deposit\n          </h2>\n\n          <div className=\"space-y-6\">\n            {/* Farmer Selection */}\n            <div className=\"bg-gradient-to-r from-blue-50 to-indigo-50 p-5 rounded-xl border border-blue-200\">\n              <label className=\"block text-sm font-semibold text-gray-700 mb-3\">\n                Select Farmer <span className=\"text-red-500\">*</span>\n              </label>\n\n              {!selectedUser ? (\n                <div className=\"relative\">\n                  <div className=\"relative\">\n                    <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\" />\n                    <input\n                      type=\"text\"\n                      className=\"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white transition-all\"\n                      placeholder=\"Search by name, email, phone number, or user ID...\"\n                      value={searchQuery}\n                      onChange={(e) => setSearchQuery(e.target.value)}\n                      onFocus={() => searchQuery && setShowSearchDropdown(true)}\n                    />\n                    {isSearching && (\n                      <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2\">\n                        <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-500\"></div>\n                      </div>\n                    )}\n                  </div>\n\n                  {searchQuery && (\n                    <div className=\"mt-1\">\n                      <span className=\"text-xs text-blue-600 font-medium\">\n                        {getSearchTypeLabel()}\n                      </span>\n                    </div>\n                  )}\n\n                  {showSearchDropdown && searchResults.length > 0 && (\n                    <div className=\"absolute z-10 w-full mt-2 bg-white rounded-lg shadow-xl border border-gray-200 max-h-60 overflow-y-auto\">\n                      {searchResults.map((user, index) => (\n                        <div\n                          key={user._id || user.id || index}\n                          onClick={() => handleSelectUser(user)}\n                          className=\"px-4 py-3 hover:bg-gray-50 cursor-pointer flex items-center space-x-3 transition-colors border-b border-gray-100 last:border-b-0\"\n                        >\n                          <div className=\"flex-shrink-0\">\n                            {user.user_image ? (\n                              <img\n                                src={user.user_image}\n                                alt={user.name}\n                                className=\"w-10 h-10 rounded-full object-cover border-2 border-blue-200\"\n                              />\n                            ) : (\n                              <div className=\"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center text-white font-semibold\">\n                                {user.name?.charAt(0).toUpperCase() || \"U\"}\n                              </div>\n                            )}\n                          </div>\n                          <div className=\"flex-1\">\n                            <p className=\"font-semibold text-gray-900\">\n                              {user.name || \"Unknown User\"}\n                            </p>\n                            <p className=\"text-sm text-gray-500\">\n                              {user.email || \"No email\"}\n                            </p>\n                            {user.phone_number && (\n                              <p className=\"text-xs text-gray-400\">\n                                {user.phone_number}\n                              </p>\n                            )}\n                            {user.farmerId && (\n                              <p className=\"text-xs text-blue-600 font-medium\">\n                                ID: {user.farmerId}\n                              </p>\n                            )}\n                          </div>\n                          <div className=\"flex-shrink-0\">\n                            <span className=\"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full\">\n                              Select\n                            </span>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n\n                  {showSearchDropdown &&\n                    searchQuery &&\n                    searchResults.length === 0 &&\n                    !isSearching && (\n                      <div className=\"absolute z-10 w-full mt-2 bg-white rounded-lg shadow-xl border border-gray-200 p-4\">\n                        <div className=\"text-center\">\n                          <User className=\"h-8 w-8 text-gray-400 mx-auto mb-2\" />\n                          <p className=\"text-gray-500\">No farmers found</p>\n                          <p className=\"text-xs text-gray-400 mt-1\">\n                            Try searching with different criteria\n                          </p>\n                        </div>\n                      </div>\n                    )}\n                </div>\n              ) : (\n                <div className=\"bg-white rounded-lg border-2 border-green-200 p-4\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center space-x-3\">\n                      <div className=\"flex-shrink-0\">\n                        {selectedUser.user_image ? (\n                          <img\n                            src={selectedUser.user_image}\n                            alt={selectedUser.name}\n                            className=\"w-12 h-12 rounded-full object-cover border-2 border-green-200\"\n                          />\n                        ) : (\n                          <div className=\"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center text-white font-bold text-lg\">\n                            {selectedUser.name?.charAt(0).toUpperCase() || \"U\"}\n                          </div>\n                        )}\n                      </div>\n                      <div>\n                        <p className=\"font-semibold text-gray-900 flex items-center\">\n                          {selectedUser.name || \"Unknown User\"}\n                          <Check className=\"ml-2 h-5 w-5 text-green-500\" />\n                        </p>\n                        <p className=\"text-sm text-gray-500\">\n                          {selectedUser.email || \"No email\"}\n                        </p>\n                        {selectedUser.phone_number && (\n                          <p className=\"text-xs text-gray-400\">\n                            {selectedUser.phone_number}\n                          </p>\n                        )}\n                        {selectedUser.userId && (\n                          <p className=\"text-xs text-blue-600 font-medium\">\n                            ID: {selectedUser.userId}\n                          </p>\n                        )}\n                      </div>\n                    </div>\n                    <button\n                      onClick={handleClearUser}\n                      className=\"p-2 hover:bg-red-50 rounded-lg transition-colors group\"\n                      title=\"Remove farmer\"\n                    >\n                      <X className=\"h-5 w-5 text-gray-400 group-hover:text-red-500\" />\n                    </button>\n                  </div>\n                </div>\n              )}\n\n              <div className=\"mt-3 text-xs text-gray-600\">\n                <p className=\"font-medium mb-1\">Search Tips:</p>\n                <ul className=\"space-y-0.5\">\n                  <li>• Enter full or partial name to search by name</li>\n                  <li>• Include @ to search by email address</li>\n                  <li>• Enter numbers to search by phone</li>\n                  <li>• Enter User ID (e.g., SGB2025000002) for exact match</li>\n                </ul>\n              </div>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-5\">\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                  Grain Category <span className=\"text-red-500\">*</span>\n                </label>\n                <select\n                  className=\"w-full p-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white transition-all disabled:bg-gray-50 disabled:cursor-not-allowed\"\n                  value={form.category_id}\n                  onChange={(e) =>\n                    setForm((f) => ({ ...f, category_id: e.target.value }))\n                  }\n                  disabled={!selectedUser}\n                >\n                  <option value=\"\">Select Grain Type</option>\n                  {grainTypes.length > 0 ? (\n                    grainTypes.map((g) => (\n                      <option key={g._id} value={g._id}>\n                        {g.grain_type} - {g.quality}\n                      </option>\n                    ))\n                  ) : (\n                    <option disabled>Loading...</option>\n                  )}\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                  Quantity (Quintal) <span className=\"text-red-500\">*</span>\n                </label>\n                <input\n                  type=\"number\"\n                  min=\"0\"\n                  step=\"0.01\"\n                  className=\"w-full p-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white transition-all disabled:bg-gray-50 disabled:cursor-not-allowed\"\n                  placeholder=\"Enter quantity\"\n                  value={form.quantity}\n                  onChange={(e) =>\n                    setForm((f) => ({ ...f, quantity: e.target.value }))\n                  }\n                  disabled={!selectedUser}\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                  Current Price (₹/Quintal)\n                </label>\n                <div className=\"w-full p-3 border-2 border-gray-200 rounded-lg bg-gray-50 flex items-center\">\n                  <span className=\"text-lg font-semibold text-gray-700\">\n                    ₹ {grainPrices?.price || \"0.00\"}\n                  </span>\n                </div>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                  Warehouse <span className=\"text-red-500\">*</span>\n                </label>\n                <select\n                  className=\"w-full p-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white transition-all disabled:bg-gray-50 disabled:cursor-not-allowed\"\n                  value={form.warehouse_id}\n                  onChange={(e) =>\n                    setForm((f) => ({ ...f, warehouse_id: e.target.value }))\n                  }\n                  disabled={!selectedUser}\n                >\n                  <option value=\"\">Select Warehouse</option>\n                  {warehouses.length > 0 ? (\n                    warehouses.map((w) => (\n                      <option key={w._id} value={w._id}>\n                        {w.name} — {w.location}\n                        {w.capacity && ` (Capacity: ${w.capacity} quintals)`}\n                      </option>\n                    ))\n                  ) : (\n                    <option disabled>Loading...</option>\n                  )}\n                </select>\n              </div>\n\n              {/* Moisture Content Field */}\n              <div className=\"md:col-span-2\">\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                  Moisture Content (%) <span className=\"text-red-500\">*</span>\n                </label>\n                <div className=\"relative\">\n                  <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                    <Droplets className=\"h-5 w-5 text-blue-500\" />\n                  </div>\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    max=\"100\"\n                    step=\"0.1\"\n                    className=\"w-full pl-10 pr-12 py-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white transition-all disabled:bg-gray-50 disabled:cursor-not-allowed\"\n                    placeholder=\"Enter moisture percentage (e.g., 12.5)\"\n                    value={form.moisture_content}\n                    onChange={(e) => {\n                      const value = e.target.value;\n                      if (value === \"\" || (parseFloat(value) >= 0 && parseFloat(value) <= 100)) {\n                        setForm((f) => ({ ...f, moisture_content: value }));\n                      }\n                    }}\n                    disabled={!selectedUser}\n                  />\n                  <div className=\"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none\">\n                    <span className=\"text-gray-500 font-medium\">%</span>\n                  </div>\n                </div>\n                {form.moisture_content && (\n                  <div className={`mt-2 flex items-center space-x-2 ${\n                    parseFloat(form.moisture_content) <= 14 \n                      ? \"text-green-600\" \n                      : parseFloat(form.moisture_content) <= 18 \n                      ? \"text-yellow-600\" \n                      : \"text-red-600\"\n                  }`}>\n                    <div className={`h-2 w-2 rounded-full ${\n                      parseFloat(form.moisture_content) <= 14 \n                        ? \"bg-green-500\" \n                        : parseFloat(form.moisture_content) <= 18 \n                        ? \"bg-yellow-500\" \n                        : \"bg-red-500\"\n                    }`}></div>\n                    <span className=\"text-sm font-medium\">\n                      {parseFloat(form.moisture_content) <= 14 \n                        ? \"Optimal moisture level\" \n                        : parseFloat(form.moisture_content) <= 18 \n                        ? \"Acceptable moisture level\" \n                        : \"High moisture - may require drying\"}\n                    </span>\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* Deposit Terms & Conditions */}\n            <div className=\"bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-xl p-5\">\n              <div className=\"flex items-start\">\n                <div className=\"p-2 bg-yellow-100 rounded-lg mr-3\">\n                  <AlertCircle className=\"h-5 w-5 text-yellow-600\" />\n                </div>\n                <div className=\"flex-1\">\n                  <h4 className=\"font-semibold text-yellow-900 mb-2\">\n                    Deposit Terms & Conditions\n                  </h4>\n                  <ul className=\"text-sm text-yellow-800 space-y-1.5\">\n                    <li className=\"flex items-start\">\n                      <span className=\"mr-2\">•</span>\n                      <span>Minimum storage period: 6 months</span>\n                    </li>\n                    <li className=\"flex items-start\">\n                      <span className=\"mr-2\">•</span>\n                      <span>Storage fee: ₹0.20 per quintal per day</span>\n                    </li>\n                    <li className=\"flex items-start\">\n                      <span className=\"mr-2\">•</span>\n                      <span>Quality check is mandatory before deposit</span>\n                    </li>\n                    <li className=\"flex items-start\">\n                      <span className=\"mr-2\">•</span>\n                      <span>Insurance coverage available upon request</span>\n                    </li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n\n            <button\n              onClick={handleOpenModal}\n              type=\"button\"\n              disabled={\n                !selectedUser ||\n                !form.category_id ||\n                !form.warehouse_id ||\n                !form.quantity ||\n                !form.moisture_content\n              }\n              className=\"w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white py-3.5 rounded-lg font-semibold transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none disabled:hover:shadow-lg flex items-center justify-center space-x-2\"\n            >\n              <ArrowDownCircle className=\"h-5 w-5\" />\n              <span>Review & Submit Deposit</span>\n            </button>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default DepositContent;"],"names":[],"mappings":"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"}}]
}