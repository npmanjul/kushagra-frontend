{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/anjulsachan/Documents/grain_bank/Frontend/src/app/manager/transactions/page.jsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport {\n  ArrowDownCircle,\n  ArrowUpCircle,\n  Wallet,\n  DollarSign,\n  ChevronLeft,\n  ChevronRight,\n  CheckCircle,\n  XCircle,\n  Clock,\n  User,\n  MapPin,\n  Calendar,\n  Package,\n  Filter,\n  Search,\n  RefreshCw,\n  Eye,\n  Download,\n  TrendingUp,\n  ChevronsLeft,\n  ChevronsRight\n} from 'lucide-react';\nimport API_BASE_URL from '@/utils/constants';\n\nconst TransactionsList = () => {\n  const [transactions, setTransactions] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [activeCategory, setActiveCategory] = useState('');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [warehouse, setWarehouse] = useState('');\n  const [pagination, setPagination] = useState({\n    currentPage: 1,\n    limit: 20,\n    totalRecords: 0,\n    totalPages: 1\n  });\n  const [transactionCounts, setTransactionCounts] = useState({\n    sell: 0,\n    deposit: 0,\n    withdraw: 0,\n    loan: 0\n  });\n  const [selectedTransaction, setSelectedTransaction] = useState(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const limit = 20;\n\n  const categories = [\n    { key: '', label: 'All', icon: Filter, color: 'bg-gradient-to-r from-slate-600 to-slate-700', lightColor: 'bg-slate-50', textColor: 'text-slate-600', accent: 'border-slate-400' },\n    { key: 'deposit', label: 'Deposit', icon: ArrowDownCircle, color: 'bg-gradient-to-r from-emerald-500 to-teal-500', lightColor: 'bg-emerald-50', textColor: 'text-emerald-600', accent: 'border-emerald-400' },\n    { key: 'withdraw', label: 'Withdraw', icon: ArrowUpCircle, color: 'bg-gradient-to-r from-orange-400 to-amber-500', lightColor: 'bg-orange-50', textColor: 'text-orange-600', accent: 'border-orange-400' },\n    { key: 'sell', label: 'Sell', icon: DollarSign, color: 'bg-gradient-to-r from-sky-500 to-blue-500', lightColor: 'bg-sky-50', textColor: 'text-sky-600', accent: 'border-sky-400' },\n    { key: 'loan', label: 'Loan', icon: Wallet, color: 'bg-gradient-to-r from-violet-500 to-purple-500', lightColor: 'bg-violet-50', textColor: 'text-violet-600', accent: 'border-violet-400' },\n  ];\n\n  useEffect(() => {\n    fetchTransactions();\n  }, [activeCategory, currentPage]);\n\n  const fetchTransactions = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await axios.get(\n        `${API_BASE_URL}/transaction/getalltransactions`,\n        {\n          params: {\n            transaction_type: activeCategory,\n            limit: limit,\n            page: currentPage,\n          },\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('token')}`,\n          },\n        }\n      );\n      \n      // Update state with new response structure\n      setTransactions(response.data.data || []);\n      setPagination(response.data.pagination || {\n        currentPage: 1,\n        limit: 20,\n        totalRecords: 0,\n        totalPages: 1\n      });\n      setTransactionCounts(response.data.transactionCounts || {\n        sell: 0,\n        deposit: 0,\n        withdraw: 0,\n        loan: 0\n      });\n      setWarehouse(response.data.warehouse);\n    } catch (err) {\n      setError('Failed to fetch transactions. Please try again.');\n      console.error('Error fetching transactions:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getStatusBadge = (status) => {\n    const statusConfig = {\n      completed: { \n        color: 'bg-green-100 text-green-800 border-green-200', \n        icon: CheckCircle,\n        gradient: 'bg-gradient-to-r from-green-500 to-emerald-500'\n      },\n      pending: { \n        color: 'bg-yellow-100 text-yellow-800 border-yellow-200', \n        icon: Clock,\n        gradient: 'bg-gradient-to-r from-yellow-500 to-amber-500'\n      },\n      rejected: { \n        color: 'bg-red-100 text-red-800 border-red-200', \n        icon: XCircle,\n        gradient: 'bg-gradient-to-r from-red-500 to-rose-500'\n      },\n    };\n    const config = statusConfig[status] || statusConfig.pending;\n    const Icon = config.icon;\n    \n    return (\n      <span className={`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-semibold border shadow-sm ${config.color}`}>\n        <Icon size={14} />\n        {status?.charAt(0).toUpperCase() + status?.slice(1)}\n      </span>\n    );\n  };\n\n  const getTransactionTypeIcon = (type) => {\n    const icons = {\n      deposit: { icon: ArrowDownCircle, color: 'text-green-600 bg-green-100' },\n      withdraw: { icon: ArrowUpCircle, color: 'text-orange-600 bg-orange-100' },\n      sell: { icon: DollarSign, color: 'text-blue-600 bg-blue-100' },\n      loan: { icon: Wallet, color: 'text-purple-600 bg-purple-100' },\n    };\n    const config = icons[type] || icons.deposit;\n    const Icon = config.icon;\n    \n    return (\n      <div className={`p-3 rounded-2xl ${config.color} shadow-sm`}>\n        <Icon size={24} strokeWidth={2} />\n      </div>\n    );\n  };\n\n  const formatDate = (dateString) => {\n    if (!dateString) return 'N/A';\n    return new Date(dateString).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit',\n    });\n  };\n\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('en-IN', {\n      style: 'currency',\n      currency: 'INR',\n      maximumFractionDigits: 0,\n    }).format(amount || 0);\n  };\n\n  const getTotalTransactions = () => {\n    return transactionCounts.sell + transactionCounts.deposit + \n           transactionCounts.withdraw + transactionCounts.loan;\n  };\n\n  const ApprovalStatusComponent = ({ approval }) => {\n    if (!approval) return null;\n\n    const approvals = [\n      { label: 'Supervisor', data: approval.supervisor_approval, shortLabel: 'SUP' },\n      { label: 'Manager', data: approval.manager_approval, shortLabel: 'MGR' },\n      { label: 'Admin', data: approval.admin_approval, shortLabel: 'ADM' },\n    ];\n\n    return (\n      <div className=\"flex items-center gap-1.5 flex-wrap\">\n        {approvals.map((item, index) => (\n          <div\n            key={index}\n            className={`flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-medium transition-all ${\n              item.data?.status\n                ? 'bg-green-100 text-green-700 border border-green-200'\n                : item.data?.date\n                ? 'bg-red-100 text-red-700 border border-red-200'\n                : 'bg-gray-100 text-gray-500 border border-gray-200'\n            }`}\n            title={item.label}\n          >\n            {item.data?.status ? (\n              <CheckCircle size={12} />\n            ) : item.data?.date ? (\n              <XCircle size={12} />\n            ) : (\n              <Clock size={12} />\n            )}\n            <span className=\"hidden sm:inline\">{item.label}</span>\n            <span className=\"sm:hidden\">{item.shortLabel}</span>\n          </div>\n        ))}\n      </div>\n    );\n  };\n\n  const TransactionModal = ({ transaction, onClose }) => {\n    if (!transaction) return null;\n\n    return (\n      <div className=\"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\n        <div \n          className=\"bg-white rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden\"\n          onClick={(e) => e.stopPropagation()}\n        >\n          {/* Modal Header */}\n          <div className=\"sticky top-0 bg-white border-b border-gray-100 px-6 py-5 flex items-center justify-between\">\n            <div>\n              <h3 className=\"text-xl font-bold text-gray-800\">Transaction Details</h3>\n              <p className=\"text-sm text-gray-500 mt-0.5\">ID: {transaction._id?.slice(-8).toUpperCase()}</p>\n            </div>\n            <button\n              onClick={onClose}\n              className=\"p-2 hover:bg-gray-100 rounded-xl transition-colors\"\n            >\n              <XCircle size={24} className=\"text-gray-400 hover:text-gray-600\" />\n            </button>\n          </div>\n\n          {/* Modal Body */}\n          <div className=\"p-6 space-y-6 overflow-y-auto max-h-[calc(90vh-80px)]\">\n            {/* Transaction Type & Status */}\n            <div className=\"flex items-center justify-between bg-gray-50 rounded-2xl p-4\">\n              <div className=\"flex items-center gap-4\">\n                {getTransactionTypeIcon(transaction.transaction_type)}\n                <div>\n                  <p className=\"text-sm text-gray-500\">Transaction Type</p>\n                  <p className=\"text-lg font-bold text-gray-800 capitalize\">\n                    {transaction.transaction_type}\n                  </p>\n                </div>\n              </div>\n              {getStatusBadge(transaction.transaction_status)}\n            </div>\n\n            {/* User Info */}\n            <div className=\"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-5 border border-blue-100\">\n              <h4 className=\"text-sm font-semibold text-gray-600 mb-3 flex items-center gap-2\">\n                <User size={16} />\n                Farmer Details\n              </h4>\n              <div className=\"flex items-center gap-4\">\n                <img\n                  src={transaction.user_id?.farmerProfile?.user_image || '/placeholder-user.png'}\n                  alt={transaction.user_id?.name}\n                  className=\"w-16 h-16 rounded-2xl object-cover border-4 border-white shadow-lg\"\n                  onError={(e) => {\n                    e.target.src = 'https://ui-avatars.com/api/?name=' + encodeURIComponent(transaction.user_id?.name || 'User');\n                  }}\n                />\n                <div className=\"flex-1\">\n                  <p className=\"font-bold text-gray-800 text-lg\">{transaction.user_id?.name}</p>\n                  <p className=\"text-sm text-gray-500\">{transaction.user_id?.email}</p>\n                  <p className=\"text-sm text-gray-500\">{transaction.user_id?.phone_number}</p>\n                  <span className=\"inline-block mt-2 px-3 py-1 bg-blue-100 text-blue-700 rounded-lg text-xs font-semibold\">\n                    {transaction.user_id?.farmerProfile?.farmerId}\n                  </span>\n                </div>\n              </div>\n            </div>\n\n            {/* Warehouse Info */}\n            {transaction.warehouse_id && (\n              <div className=\"flex items-center gap-4 p-4 bg-purple-50 rounded-2xl border border-purple-100\">\n                <div className=\"p-3 bg-purple-100 rounded-xl\">\n                  <MapPin className=\"text-purple-600\" size={24} />\n                </div>\n                <div>\n                  <p className=\"text-sm text-gray-500\">Warehouse</p>\n                  <p className=\"font-bold text-gray-800\">\n                    {transaction.warehouse_id.name}\n                  </p>\n                  <p className=\"text-sm text-gray-600\">{transaction.warehouse_id.location}</p>\n                </div>\n              </div>\n            )}\n\n            {/* Grain Details */}\n            <div>\n              <h4 className=\"font-bold text-gray-800 mb-4 flex items-center gap-2\">\n                <Package size={18} />\n                Grain Details\n              </h4>\n              <div className=\"space-y-3\">\n                {transaction.grain?.map((item, index) => (\n                  <div\n                    key={index}\n                    className=\"border-2 border-gray-100 rounded-2xl p-4 hover:border-blue-200 transition-all bg-white shadow-sm\"\n                  >\n                    <div className=\"flex items-center justify-between mb-3\">\n                      <span className=\"font-bold text-gray-800 text-lg\">\n                        {item.category_id?.grain_type}\n                      </span>\n                      <span className=\"px-3 py-1 bg-gray-100 text-gray-700 rounded-lg text-sm font-semibold\">\n                        Grade {item.category_id?.quality}\n                      </span>\n                    </div>\n                    <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-4 text-sm\">\n                      <div className=\"bg-gray-50 rounded-xl p-3\">\n                        <p className=\"text-gray-500 text-xs\">Quantity</p>\n                        <p className=\"font-bold text-gray-800\">{item.quantity_quintal?.toFixed(2)} qtl</p>\n                      </div>\n                      <div className=\"bg-gray-50 rounded-xl p-3\">\n                        <p className=\"text-gray-500 text-xs\">Price/Quintal</p>\n                        <p className=\"font-bold text-gray-800\">{formatCurrency(item.price_per_quintal)}</p>\n                      </div>\n                      {item.moisture_content > 0 && (\n                        <div className=\"bg-yellow-50 rounded-xl p-3\">\n                          <p className=\"text-gray-500 text-xs\">Moisture</p>\n                          <p className=\"font-bold text-yellow-700\">{item.moisture_content}%</p>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* Total Amount */}\n            <div className=\"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 rounded-2xl p-5 text-white shadow-lg\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-blue-100 text-sm font-medium\">Total Amount</p>\n                  <p className=\"text-4xl font-bold mt-1\">{formatCurrency(transaction.total_amount)}</p>\n                </div>\n                <div className=\"p-4 bg-white/20 rounded-2xl backdrop-blur-sm\">\n                  <TrendingUp size={32} />\n                </div>\n              </div>\n            </div>\n\n            {/* Approval Status */}\n            <div>\n              <h4 className=\"font-bold text-gray-800 mb-4 flex items-center gap-2\">\n                <CheckCircle size={18} />\n                Approval Workflow\n              </h4>\n              <div className=\"space-y-3\">\n                {[\n                  { label: 'Supervisor', data: transaction.approval_status?.supervisor_approval },\n                  { label: 'Manager', data: transaction.approval_status?.manager_approval },\n                  { label: 'Admin', data: transaction.approval_status?.admin_approval },\n                ].map((item, index) => (\n                  <div\n                    key={index}\n                    className={`flex items-center justify-between p-4 rounded-2xl border-2 transition-all ${\n                      item.data?.status\n                        ? 'bg-green-50 border-green-200'\n                        : item.data?.date\n                        ? 'bg-red-50 border-red-200'\n                        : 'bg-gray-50 border-gray-200'\n                    }`}\n                  >\n                    <div className=\"flex items-center gap-4\">\n                      <div className={`p-2 rounded-xl ${\n                        item.data?.status\n                          ? 'bg-green-100'\n                          : item.data?.date\n                          ? 'bg-red-100'\n                          : 'bg-gray-200'\n                      }`}>\n                        {item.data?.status ? (\n                          <CheckCircle className=\"text-green-600\" size={24} />\n                        ) : item.data?.date ? (\n                          <XCircle className=\"text-red-600\" size={24} />\n                        ) : (\n                          <Clock className=\"text-gray-400\" size={24} />\n                        )}\n                      </div>\n                      <div>\n                        <p className=\"font-semibold text-gray-800\">{item.label}</p>\n                        {item.data?.user_id ? (\n                          <p className=\"text-sm text-gray-500\">{item.data.user_id.name}</p>\n                        ) : (\n                          <p className=\"text-sm text-gray-400\">Pending approval</p>\n                        )}\n                      </div>\n                    </div>\n                    {item.data?.date && (\n                      <span className=\"text-xs text-gray-500 bg-white px-3 py-1 rounded-lg shadow-sm\">\n                        {formatDate(item.data.date)}\n                      </span>\n                    )}\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* Remarks */}\n            {transaction.remarks && (\n              <div className=\"bg-amber-50 rounded-2xl p-4 border border-amber-200\">\n                <p className=\"text-sm text-amber-700 font-medium mb-1\">Remarks</p>\n                <p className=\"font-semibold text-gray-800 capitalize\">\n                  {transaction.remarks.replace(/_/g, ' ')}\n                </p>\n              </div>\n            )}\n\n            {/* Transaction Date */}\n            <div className=\"flex items-center gap-3 text-gray-500 bg-gray-50 rounded-xl p-3\">\n              <Calendar size={18} />\n              <span className=\"text-sm\">\n                <span className=\"font-medium\">Transaction Date:</span> {formatDate(transaction.transaction_date)}\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  // Pagination Component\n  const PaginationControls = () => {\n    if (pagination.totalPages <= 1) return null;\n\n    const getPageNumbers = () => {\n      const pages = [];\n      const maxVisible = 5;\n      let start = Math.max(1, currentPage - Math.floor(maxVisible / 2));\n      let end = Math.min(pagination.totalPages, start + maxVisible - 1);\n      \n      if (end - start + 1 < maxVisible) {\n        start = Math.max(1, end - maxVisible + 1);\n      }\n\n      for (let i = start; i <= end; i++) {\n        pages.push(i);\n      }\n      return pages;\n    };\n\n    return (\n      <div className=\"mt-8 flex flex-col sm:flex-row items-center justify-between gap-4 bg-white rounded-2xl p-4 shadow-sm border border-gray-100\">\n        <p className=\"text-gray-600 text-sm\">\n          Showing <span className=\"font-bold text-gray-800\">{((currentPage - 1) * pagination.limit) + 1}</span> to{' '}\n          <span className=\"font-bold text-gray-800\">{Math.min(currentPage * pagination.limit, pagination.totalRecords)}</span> of{' '}\n          <span className=\"font-bold text-gray-800\">{pagination.totalRecords}</span> transactions\n        </p>\n        \n        <div className=\"flex items-center gap-1.5\">\n          {/* First Page */}\n          <button\n            onClick={() => setCurrentPage(1)}\n            disabled={currentPage === 1}\n            className=\"p-2 rounded-xl border border-gray-200 text-gray-600 hover:bg-gray-100 disabled:opacity-40 disabled:cursor-not-allowed transition-all\"\n            title=\"First Page\"\n          >\n            <ChevronsLeft size={18} />\n          </button>\n\n          {/* Previous Page */}\n          <button\n            onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\n            disabled={currentPage === 1}\n            className=\"flex items-center gap-1 px-3 py-2 rounded-xl border border-gray-200 text-gray-600 hover:bg-gray-100 disabled:opacity-40 disabled:cursor-not-allowed transition-all\"\n          >\n            <ChevronLeft size={18} />\n            <span className=\"hidden sm:inline\">Prev</span>\n          </button>\n\n          {/* Page Numbers */}\n          <div className=\"hidden sm:flex items-center gap-1\">\n            {getPageNumbers().map((pageNum) => (\n              <button\n                key={pageNum}\n                onClick={() => setCurrentPage(pageNum)}\n                className={`w-10 h-10 rounded-xl font-semibold transition-all ${\n                  currentPage === pageNum\n                    ? 'bg-gradient-to-r from-blue-500 to-indigo-600 text-white shadow-lg shadow-blue-200'\n                    : 'text-gray-600 hover:bg-gray-100 border border-gray-200'\n                }`}\n              >\n                {pageNum}\n              </button>\n            ))}\n          </div>\n\n          {/* Mobile Page Indicator */}\n          <div className=\"sm:hidden px-3 py-2 bg-gray-100 rounded-xl\">\n            <span className=\"font-semibold text-gray-800\">{currentPage}</span>\n            <span className=\"text-gray-500\"> / {pagination.totalPages}</span>\n          </div>\n\n          {/* Next Page */}\n          <button\n            onClick={() => setCurrentPage((prev) => Math.min(prev + 1, pagination.totalPages))}\n            disabled={currentPage === pagination.totalPages}\n            className=\"flex items-center gap-1 px-3 py-2 rounded-xl border border-gray-200 text-gray-600 hover:bg-gray-100 disabled:opacity-40 disabled:cursor-not-allowed transition-all\"\n          >\n            <span className=\"hidden sm:inline\">Next</span>\n            <ChevronRight size={18} />\n          </button>\n\n          {/* Last Page */}\n          <button\n            onClick={() => setCurrentPage(pagination.totalPages)}\n            disabled={currentPage === pagination.totalPages}\n            className=\"p-2 rounded-xl border border-gray-200 text-gray-600 hover:bg-gray-100 disabled:opacity-40 disabled:cursor-not-allowed transition-all\"\n            title=\"Last Page\"\n          >\n            <ChevronsRight size={18} />\n          </button>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"min-h-screen p-4 \">\n      <div className=\"max-w-7xl mx-auto\">\n        {/* Header */}\n        <div className=\"mb-8 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3\">\n          <div>\n            <h1 className=\"text-3xl md:text-4xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 bg-clip-text text-transparent mb-2\">\n            Transactions\n          </h1>\n          <p className=\"text-gray-600\">\n            Manage and track all your grain transactions\n          </p>\n          </div>\n          <p className=\"text-gray-100 font-bold bg-blue-600 px-6 py-1 rounded-full\">\n            {warehouse}\n          </p>\n        </div>\n\n        {/* Stats Cards */}\n        <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8\">\n          {categories.slice(1).map((cat) => {\n            const count = transactionCounts[cat.key] || 0;\n            return (\n              <div\n                key={cat.key}\n                onClick={() => {\n                  setActiveCategory(cat.key);\n                  setCurrentPage(1);\n                }}\n                className={`relative overflow-hidden bg-white rounded-2xl p-5 shadow-sm border-2 transition-all cursor-pointer group hover:shadow-xl ${\n                  activeCategory === cat.key ? 'border-blue-400 shadow-lg shadow-blue-100' : 'border-gray-100 hover:border-gray-200'\n                }`}\n              >\n                <div className={`absolute top-0 right-0 w-20 h-20 ${cat.lightColor} rounded-bl-full opacity-50 group-hover:opacity-100 transition-opacity`} />\n                <div className={`relative z-10 w-12 h-12 ${cat.color} rounded-2xl flex items-center justify-center mb-4 shadow-lg`}>\n                  <cat.icon size={24} className=\"text-white\" />\n                </div>\n                <p className=\"text-gray-500 text-sm font-medium relative z-10\">{cat.label}</p>\n                <p className=\"text-3xl font-bold text-gray-800 mt-1 relative z-10\">\n                  {count}\n                </p>\n                {activeCategory === cat.key && (\n                  <div className=\"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-500 to-indigo-500\" />\n                )}\n              </div>\n            );\n          })}\n        </div>\n\n        {/* Category Tabs */}\n        <div className=\"bg-white rounded-2xl shadow-sm border border-gray-100 mb-6 p-2\">\n          <div className=\"flex flex-wrap gap-2\">\n            {categories.map((cat) => (\n              <button\n                key={cat.key}\n                onClick={() => {\n                  setActiveCategory(cat.key);\n                  setCurrentPage(1);\n                }}\n                className={`flex items-center gap-2 px-5 py-3 rounded-xl font-semibold text-sm transition-all ${\n                  activeCategory === cat.key\n                    ? `${cat.color} text-white shadow-lg`\n                    : `${cat.textColor} hover:bg-gray-100`\n                }`}\n              >\n                <cat.icon size={18} />\n                {cat.label}\n                {cat.key === '' ? (\n                  <span className=\"ml-1 px-2 py-0.5 bg-white/20 rounded-lg text-xs\">\n                    {getTotalTransactions()}\n                  </span>\n                ) : (\n                  <span className={`ml-1 px-2 py-0.5 rounded-lg text-xs ${\n                    activeCategory === cat.key ? 'bg-white/20' : 'bg-gray-100'\n                  }`}>\n                    {transactionCounts[cat.key] || 0}\n                  </span>\n                )}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Refresh Button & Info */}\n        <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6\">\n          <div className=\"flex items-center gap-3\">\n            <p className=\"text-gray-600\">\n              Showing <span className=\"font-bold text-gray-800\">{transactions.length}</span> of{' '}\n              <span className=\"font-bold text-gray-800\">{pagination.totalRecords}</span> transactions\n            </p>\n            {activeCategory && (\n              <span className={`px-3 py-1 rounded-lg text-xs font-semibold ${\n                categories.find(c => c.key === activeCategory)?.lightColor\n              } ${categories.find(c => c.key === activeCategory)?.textColor}`}>\n                {activeCategory.charAt(0).toUpperCase() + activeCategory.slice(1)} only\n              </span>\n            )}\n          </div>\n          <button\n            onClick={fetchTransactions}\n            disabled={loading}\n            className=\"flex items-center gap-2 px-5 py-2.5 bg-white rounded-xl border border-gray-200 text-gray-700 hover:bg-gray-50 hover:border-gray-300 transition-all font-medium shadow-sm\"\n          >\n            <RefreshCw size={16} className={loading ? 'animate-spin' : ''} />\n            Refresh\n          </button>\n        </div>\n\n        {/* Loading State */}\n        {loading && (\n          <div className=\"flex items-center justify-center py-24\">\n            <div className=\"flex flex-col items-center gap-6\">\n              <div className=\"relative\">\n                <div className=\"w-16 h-16 border-4 border-blue-200 rounded-full animate-pulse\"></div>\n                <div className=\"absolute top-0 left-0 w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin\"></div>\n              </div>\n              <p className=\"text-gray-500 font-medium\">Loading transactions...</p>\n            </div>\n          </div>\n        )}\n\n        {/* Error State */}\n        {error && !loading && (\n          <div className=\"bg-red-50 border-2 border-red-200 rounded-2xl p-8 text-center\">\n            <div className=\"w-16 h-16 bg-red-100 rounded-2xl flex items-center justify-center mx-auto mb-4\">\n              <XCircle className=\"w-8 h-8 text-red-500\" />\n            </div>\n            <p className=\"text-red-700 font-semibold text-lg mb-2\">Oops! Something went wrong</p>\n            <p className=\"text-red-600 mb-4\">{error}</p>\n            <button\n              onClick={fetchTransactions}\n              className=\"px-6 py-2.5 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-colors font-semibold shadow-lg shadow-red-200\"\n            >\n              Try Again\n            </button>\n          </div>\n        )}\n\n        {/* Transaction Cards */}\n        {!loading && !error && (\n          <div className=\"space-y-4\">\n            {transactions.length === 0 ? (\n              <div className=\"bg-white rounded-2xl p-16 text-center shadow-sm border border-gray-100\">\n                <div className=\"w-20 h-20 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-6\">\n                  <Package className=\"w-10 h-10 text-gray-400\" />\n                </div>\n                <p className=\"text-gray-700 text-xl font-semibold mb-2\">No transactions found</p>\n                <p className=\"text-gray-500\">\n                  {activeCategory \n                    ? `No ${activeCategory} transactions available. Try a different filter.`\n                    : 'No transactions available yet. Check back later.'\n                  }\n                </p>\n              </div>\n            ) : (\n              transactions.map((transaction) => (\n                <div\n                  key={transaction._id}\n                  className=\"bg-white rounded-2xl shadow-sm border border-gray-100 p-5 hover:shadow-xl hover:border-blue-200 transition-all cursor-pointer group\"\n                  onClick={() => {\n                    setSelectedTransaction(transaction);\n                    setIsModalOpen(true);\n                  }}\n                >\n                  <div className=\"flex flex-col lg:flex-row lg:items-center gap-4\">\n                    {/* Transaction Type Icon & User Info */}\n                    <div className=\"flex items-center gap-4 flex-1 min-w-0\">\n                      {getTransactionTypeIcon(transaction.transaction_type)}\n                      <div className=\"flex items-center gap-3 min-w-0\">\n                        <img\n                          src={transaction.user_id?.farmerProfile?.user_image || '/placeholder-user.png'}\n                          alt={transaction.user_id?.name}\n                          className=\"w-12 h-12 rounded-xl object-cover border-2 border-gray-100 shadow-sm flex-shrink-0\"\n                          onError={(e) => {\n                            e.target.src = 'https://ui-avatars.com/api/?name=' + encodeURIComponent(transaction.user_id?.name || 'User');\n                          }}\n                        />\n                        <div className=\"min-w-0\">\n                          <p className=\"font-bold text-gray-800 truncate\">\n                            {transaction.user_id?.name}\n                          </p>\n                          <p className=\"text-sm text-gray-500 truncate\">\n                            {transaction.user_id?.farmerProfile?.farmerId}\n                          </p>\n                        </div>\n                      </div>\n                    </div>\n\n                    {/* Grain Info */}\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"flex flex-wrap gap-2 mb-2\">\n                        {transaction.grain?.map((item, index) => (\n                          <span\n                            key={index}\n                            className=\"inline-flex items-center px-3 py-1.5 bg-blue-50 text-blue-700 rounded-lg text-sm font-semibold border border-blue-100\"\n                          >\n                            <Package size={14} className=\"mr-1.5\" />\n                            {item.category_id?.grain_type} \n                            <span className=\"ml-1 text-blue-500\">({item.quantity_quintal?.toFixed(2)} qtl)</span>\n                          </span>\n                        ))}\n                      </div>\n                      <ApprovalStatusComponent approval={transaction.approval_status} />\n                    </div>\n\n                    {/* Amount & Status */}\n                    <div className=\"flex items-center justify-between lg:justify-end gap-4 pt-4 lg:pt-0 border-t lg:border-t-0 border-gray-100\">\n                      <div className=\"text-left lg:text-right\">\n                        <p className=\"text-2xl font-bold text-gray-800\">\n                          {formatCurrency(transaction.total_amount)}\n                        </p>\n                        <p className=\"text-sm text-gray-500 flex items-center gap-1 lg:justify-end\">\n                          <Calendar size={14} />\n                          {formatDate(transaction.transaction_date)}\n                        </p>\n                      </div>\n                      <div className=\"flex flex-col items-end gap-2\">\n                        {getStatusBadge(transaction.transaction_status)}\n                        <button className=\"opacity-0 group-hover:opacity-100 transition-all p-2 bg-gray-100 rounded-xl hover:bg-blue-100 hover:text-blue-600\">\n                          <Eye size={18} />\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Warehouse & Remarks */}\n                  <div className=\"mt-4 pt-4 border-t border-gray-100 flex flex-wrap items-center gap-4\">\n                    {transaction.warehouse_id && (\n                      <div className=\"flex items-center gap-2 text-gray-600 bg-gray-50 px-3 py-1.5 rounded-lg\">\n                        <MapPin size={14} className=\"text-purple-500\" />\n                        <span className=\"text-sm\">\n                          {transaction.warehouse_id.name}, {transaction.warehouse_id.location}\n                        </span>\n                      </div>\n                    )}\n                    {transaction.remarks && (\n                      <div className=\"flex items-center gap-2 bg-amber-50 px-3 py-1.5 rounded-lg\">\n                        <span className=\"text-sm text-amber-700 font-medium capitalize\">\n                          {transaction.remarks.replace(/_/g, ' ')}\n                        </span>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n        )}\n\n        {/* Pagination */}\n        {!loading && !error && <PaginationControls />}\n\n        {/* Transaction Detail Modal */}\n        {isModalOpen && (\n          <TransactionModal\n            transaction={selectedTransaction}\n            onClose={() => {\n              setIsModalOpen(false);\n              setSelectedTransaction(null);\n            }}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default TransactionsList;"],"names":[],"mappings":"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"}}]
}