(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,50439,23731,e=>{"use strict";let s=(0,e.i(75254).default)("wheat",[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]]);e.s(["default",()=>s],23731),e.s(["Wheat",()=>s],50439)},87316,e=>{"use strict";let s=(0,e.i(75254).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>s],87316)},52571,e=>{"use strict";let s=(0,e.i(75254).default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);e.s(["Info",()=>s],52571)},58645,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(61659),l=e.i(3116),d=e.i(25652),r=e.i(98919),i=e.i(87316),n=e.i(72520),c=e.i(52571),o=e.i(5766),x=e.i(37902),m=e.i(37727),h=e.i(50439),b=e.i(78583);let j=({isOpen:e,onClose:t,onConfirm:l,loanData:o,tenure:j=12})=>{if(!e)return null;let u=e=>"â‚¹"+Number(e).toLocaleString(),g=Math.ceil(j/3),p=Math.round(.0125*o.totalLoanAmount*g),f=o.totalLoanAmount+p,N=j>0?Math.round(f/j):0,y=(o.totalLoanAmount/o.totalGrainValue*100).toFixed(1);return(0,s.jsxs)("div",{className:"jsx-84858bcd742d0820 fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fadeIn",children:[(0,s.jsxs)("div",{className:"jsx-84858bcd742d0820 bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden animate-slideUp",children:[(0,s.jsxs)("div",{className:"jsx-84858bcd742d0820 bg-gradient-to-r from-blue-600 to-indigo-700 p-6 text-white relative",children:[(0,s.jsx)("button",{onClick:t,className:"jsx-84858bcd742d0820 absolute top-4 right-4 p-2 hover:bg-white/20 rounded-lg transition-colors",children:(0,s.jsx)(m.X,{className:"h-5 w-5"})}),(0,s.jsxs)("div",{className:"jsx-84858bcd742d0820 flex items-center gap-3 mb-2",children:[(0,s.jsx)("div",{className:"jsx-84858bcd742d0820 bg-white/20 p-2 rounded-lg",children:(0,s.jsx)(b.FileText,{className:"h-6 w-6"})}),(0,s.jsx)("h2",{className:"jsx-84858bcd742d0820 text-2xl font-bold",children:"Loan Confirmation"})]}),(0,s.jsx)("p",{className:"jsx-84858bcd742d0820 text-blue-100",children:"Review your loan details before confirmation"})]}),(0,s.jsxs)("div",{className:"jsx-84858bcd742d0820 p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[(0,s.jsxs)("div",{className:"jsx-84858bcd742d0820 grid md:grid-cols-3 gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"jsx-84858bcd742d0820 bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-4 border border-green-200",children:[(0,s.jsxs)("div",{className:"jsx-84858bcd742d0820 flex items-center justify-between mb-2",children:[(0,s.jsx)("span",{className:"jsx-84858bcd742d0820 text-sm font-medium text-gray-700",children:"Loan Amount"}),(0,s.jsx)(a.CreditCard,{className:"h-4 w-4 text-green-600"})]}),(0,s.jsx)("p",{className:"jsx-84858bcd742d0820 text-2xl font-bold text-gray-900",children:u(o.totalLoanAmount)}),(0,s.jsx)("p",{className:"jsx-84858bcd742d0820 text-xs text-gray-600 mt-1",children:"Principal amount"})]}),(0,s.jsxs)("div",{className:"jsx-84858bcd742d0820 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-4 border border-blue-200",children:[(0,s.jsxs)("div",{className:"jsx-84858bcd742d0820 flex items-center justify-between mb-2",children:[(0,s.jsx)("span",{className:"jsx-84858bcd742d0820 text-sm font-medium text-gray-700",children:"Monthly EMI"}),(0,s.jsx)(i.Calendar,{className:"h-4 w-4 text-blue-600"})]}),(0,s.jsx)("p",{className:"jsx-84858bcd742d0820 text-2xl font-bold text-gray-900",children:u(N)}),(0,s.jsxs)("p",{className:"jsx-84858bcd742d0820 text-xs text-gray-600 mt-1",children:["For ",j," months"]})]}),(0,s.jsxs)("div",{className:"jsx-84858bcd742d0820 bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-4 border border-purple-200",children:[(0,s.jsxs)("div",{className:"jsx-84858bcd742d0820 flex items-center justify-between mb-2",children:[(0,s.jsx)("span",{className:"jsx-84858bcd742d0820 text-sm font-medium text-gray-700",children:"Total Payable"}),(0,s.jsx)(d.TrendingUp,{className:"h-4 w-4 text-purple-600"})]}),(0,s.jsx)("p",{className:"jsx-84858bcd742d0820 text-2xl font-bold text-gray-900",children:u(f)}),(0,s.jsxs)("p",{className:"jsx-84858bcd742d0820 text-xs text-gray-600 mt-1",children:["Incl. ",u(p)," interest"]})]})]}),(0,s.jsx)("div",{className:"jsx-84858bcd742d0820 bg-amber-50 border border-amber-200 rounded-xl p-4 mb-6",children:(0,s.jsxs)("div",{className:"jsx-84858bcd742d0820 flex items-start gap-3",children:[(0,s.jsx)(r.Shield,{className:"h-5 w-5 text-amber-600 mt-0.5"}),(0,s.jsxs)("div",{className:"jsx-84858bcd742d0820 flex-1",children:[(0,s.jsx)("h3",{className:"jsx-84858bcd742d0820 font-semibold text-gray-800 mb-1",children:"Secured Against Grain"}),(0,s.jsxs)("div",{className:"jsx-84858bcd742d0820 flex justify-between items-center",children:[(0,s.jsxs)("p",{className:"jsx-84858bcd742d0820 text-sm text-gray-700",children:["Total Grain Value: ",(0,s.jsx)("span",{className:"jsx-84858bcd742d0820 font-semibold",children:u(o.totalGrainValue)})]}),(0,s.jsx)("div",{className:"jsx-84858bcd742d0820 bg-amber-100 px-3 py-1 rounded-full",children:(0,s.jsxs)("span",{className:"jsx-84858bcd742d0820 text-xs font-semibold text-amber-800",children:["LTV: ",y,"%"]})})]})]})]})}),(0,s.jsxs)("div",{className:"jsx-84858bcd742d0820 mb-6",children:[(0,s.jsxs)("h3",{className:"jsx-84858bcd742d0820 font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[(0,s.jsx)(h.Wheat,{className:"h-5 w-5 text-gray-600"}),"Grain-wise Loan Distribution"]}),(0,s.jsx)("div",{className:"jsx-84858bcd742d0820 space-y-3",children:o.distribution.map((e,t)=>(0,s.jsxs)("div",{className:"jsx-84858bcd742d0820 bg-gray-50 rounded-xl p-4 border border-gray-200 hover:shadow-md transition-shadow",children:[(0,s.jsxs)("div",{className:"jsx-84858bcd742d0820 flex items-center justify-between mb-2",children:[(0,s.jsxs)("div",{className:"jsx-84858bcd742d0820 flex items-center gap-3",children:[(0,s.jsx)("span",{className:"jsx-84858bcd742d0820 text-2xl",children:{Wheat:"ğŸŒ¾",Rice:"ğŸŒ¾",Bajra:"ğŸŒ¾",Corn:"ğŸŒ½",Barley:"ğŸŒ¾"}[e.grain_type]||"ğŸŒ¾"}),(0,s.jsxs)("div",{className:"jsx-84858bcd742d0820",children:[(0,s.jsx)("p",{className:"jsx-84858bcd742d0820 font-semibold text-gray-800",children:e.grain_type}),(0,s.jsxs)("p",{className:"jsx-84858bcd742d0820 text-xs text-gray-500",children:["Grade ",e.quality]})]})]}),(0,s.jsxs)("div",{className:"jsx-84858bcd742d0820 text-right",children:[(0,s.jsx)("p",{className:"jsx-84858bcd742d0820 font-bold text-lg text-gray-900",children:u(e.loan_allocated)}),(0,s.jsxs)("p",{className:"jsx-84858bcd742d0820 text-xs text-gray-500",children:[e.loan_allocated_quantity," Qtl"]})]})]}),(0,s.jsxs)("div",{className:"jsx-84858bcd742d0820 flex justify-between items-center pt-2 border-t border-gray-200",children:[(0,s.jsx)("span",{className:"jsx-84858bcd742d0820 text-xs text-gray-600",children:"Current Price"}),(0,s.jsxs)("span",{className:"jsx-84858bcd742d0820 text-sm font-medium text-gray-700",children:[u(e.todayPricePerQtl),"/Qtl"]})]})]},t))})]}),(0,s.jsx)("div",{className:"jsx-84858bcd742d0820 bg-blue-50 border border-blue-200 rounded-xl p-4 mb-6",children:(0,s.jsxs)("div",{className:"jsx-84858bcd742d0820 flex items-start gap-2",children:[(0,s.jsx)(c.Info,{className:"h-4 w-4 text-blue-600 mt-0.5"}),(0,s.jsxs)("div",{className:"jsx-84858bcd742d0820 text-xs text-blue-800 space-y-1",children:[(0,s.jsx)("p",{className:"jsx-84858bcd742d0820",children:"â€¢ Interest Rate: 1.25% per quarter"}),(0,s.jsx)("p",{className:"jsx-84858bcd742d0820",children:"â€¢ Processing Fee: â‚¹0"}),(0,s.jsx)("p",{className:"jsx-84858bcd742d0820",children:"â€¢ Prepayment allowed without penalty"}),(0,s.jsx)("p",{className:"jsx-84858bcd742d0820",children:"â€¢ Loan secured against stored grain"})]})]})}),(0,s.jsxs)("div",{className:"jsx-84858bcd742d0820 flex gap-3",children:[(0,s.jsx)("button",{onClick:t,className:"jsx-84858bcd742d0820 flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,s.jsxs)("button",{onClick:l,className:"jsx-84858bcd742d0820 flex-1 px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-700 text-white rounded-xl font-semibold hover:from-blue-700 hover:to-indigo-800 transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center justify-center gap-2 group",children:["Confirm Loan",(0,s.jsx)(n.ArrowRight,{className:"h-5 w-5 group-hover:translate-x-1 transition-transform"})]})]})]})]}),(0,s.jsx)(x.default,{id:"84858bcd742d0820",children:"@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.animate-fadeIn.jsx-84858bcd742d0820{animation:.2s ease-out fadeIn}.animate-slideUp.jsx-84858bcd742d0820{animation:.3s ease-out slideUp}"})]})};var u=e.i(31795);function g(e){return"â‚¹"+Number(e).toLocaleString()}function p(){return Math.round(3e5)}e.s(["default",0,()=>{let[e,x]=(0,t.useState)(""),[m,h]=(0,t.useState)(""),b=Number(e)||0,f=Math.ceil((Number(m)||0)/3),N=b/p()*100,[y,v]=(0,t.useState)(!1),[w,k]=(0,t.useState)({}),C=async()=>{try{let e=await fetch(`${u.default}/loan/loancalculation`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({loan_amount:b})});if(!e.ok)throw Error("Failed to fetch loan calculation");let s=await e.json();v(!0),k(s)}catch(e){console.error("Error fetching loan calculation:",e),o.toast.error("Failed to load loan calculation")}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 rounded-2xl shadow-xl p-8 text-white",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"text-3xl font-bold mb-2 flex items-center",children:[(0,s.jsx)(a.CreditCard,{className:"mr-3 h-8 w-8"}),"Credit Facility"]}),(0,s.jsx)("p",{className:"text-blue-100",children:"Get instant credit against your stored grain"})]}),(0,s.jsx)(r.Shield,{className:"h-12 w-12 text-blue-200"})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsx)("h3",{className:"font-semibold text-white/90",children:"Available Credit"}),(0,s.jsx)(d.TrendingUp,{className:"h-5 w-5 text-green-300"})]}),(0,s.jsx)("p",{className:"text-4xl font-bold mb-2",children:g(p())}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"bg-green-400/20 rounded-full px-3 py-1",children:(0,s.jsx)("span",{className:"text-xs font-medium text-green-300",children:"60% LTV"})}),(0,s.jsx)("span",{className:"text-sm text-white/70",children:"of grain value"})]})]}),(0,s.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsx)("h3",{className:"font-semibold text-white/90",children:"Active Loans"}),(0,s.jsx)(l.Clock,{className:"h-5 w-5 text-yellow-300"})]}),(0,s.jsx)("p",{className:"text-4xl font-bold mb-2",children:g(0)}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"bg-blue-400/20 rounded-full px-3 py-1",children:(0,s.jsx)("span",{className:"text-xs font-medium text-blue-300",children:"No dues"})}),(0,s.jsx)("span",{className:"text-sm text-white/70",children:"All clear"})]})]})]})]}),(0,s.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-800 mb-3",children:"Credit Amount"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 font-semibold",children:"â‚¹"}),(0,s.jsx)("input",{type:"number",className:"w-full pl-10 pr-4 py-4 border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-blue-100 focus:border-blue-500 transition-all bg-gray-50 hover:bg-white text-lg font-medium",placeholder:"Enter amount",max:p(),value:e,onChange:e=>{let s=Math.max(0,Math.min(Number(e.target.value||0),p()));x(""===e.target.value?"":s)}})]}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[(0,s.jsx)("span",{children:"0"}),(0,s.jsx)("span",{className:"font-semibold",children:g(p())})]}),(0,s.jsx)("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full transition-all duration-300",style:{width:`${N}%`}})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-800 mb-3",children:"Repayment Tenure (Months)"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(i.Calendar,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 h-5 w-5"}),(0,s.jsx)("input",{type:"number",className:"w-full pl-12 pr-4 py-4 border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-blue-100 focus:border-blue-500 transition-all bg-gray-50 hover:bg-white text-lg font-medium",placeholder:"Enter tenure in months",value:m,onChange:e=>{let s=e.target.value;h(""===s?"":Math.max(0,Number(s)))}}),(0,s.jsx)("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 font-medium",children:"months"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,s.jsx)(c.Info,{className:"h-4 w-4 text-gray-400"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Enter your preferred repayment period"})]})]}),(0,s.jsx)("div",{className:"bg-gradient-to-br from-indigo-50 to-blue-50 rounded-xl p-6 border border-indigo-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-800 mb-2",children:"Interest Rate"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-indigo-600",children:"1.25%"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"per quarter"})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Processing Fee"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-green-600",children:"â‚¹0"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"No hidden charges"})]})]})}),(0,s.jsxs)("button",{className:"w-full bg-gradient-to-r from-blue-600 to-indigo-700 text-white py-4 rounded-xl font-semibold hover:from-blue-700 hover:to-indigo-800 transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center justify-center gap-2 group",onClick:()=>C(),type:"button",children:["Apply for Credit",(0,s.jsx)(n.ArrowRight,{className:"h-5 w-5 group-hover:translate-x-1 transition-transform"})]})]})})]}),(0,s.jsx)(j,{isOpen:y,onClose:()=>v(!1),onConfirm:()=>{v(!1)},loanData:w,tenure:12})]})}],58645)}]);