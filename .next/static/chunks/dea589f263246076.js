(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,68562,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(55436),r=e.i(7233),l=e.i(47615),i=e.i(40160),n=e.i(86536),o=e.i(83627),d=e.i(95468),c=e.i(43432),x=e.i(63488),m=e.i(46897),g=e.i(83086),h=e.i(32811),u=e.i(7486),p=e.i(61911),b=e.i(73375),f=e.i(63059),y=e.i(92161),j=e.i(37727),N=e.i(64978),v=e.i(70956),w=e.i(15057),_=e.i(10813),C=e.i(16715),k=e.i(63209),P=e.i(82293);let S=(0,e.i(75254).default)("hard-hat",[["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["rect",{x:"2",y:"15",width:"20",height:"4",rx:"1",key:"g3x8cw"}]]);var A=e.i(95116),I=e.i(84614),$=e.i(63727),D=e.i(78583),F=e.i(73708),M=e.i(87316),E=e.i(88081),T=e.i(23609),B=e.i(98361),L=e.i(91810),U=e.i(76838),R=e.i(3116),O=e.i(98919),z=e.i(52571),G=e.i(74886),H=e.i(62031),W=e.i(3281),Z=e.i(61659),J=e.i(32095),Y=e.i(90597),V=e.i(31278),X=e.i(52754),q=e.i(26912),Q=e.i(21218),K=e.i(48256),ee=e.i(96390),es=e.i(94351),ea=e.i(42009),et=e.i(27516),er=e.i(18724),el=e.i(31795);let ei=({isOpen:e,onClose:t,staffId:r})=>{var l,o;let[g,p]=(0,a.useState)("identity"),[y,N]=(0,a.useState)(null),[v,w]=(0,a.useState)(0),[_,S]=(0,a.useState)([]),[A,ei]=(0,a.useState)(0),[en,eo]=(0,a.useState)(null),[ed,ec]=(0,a.useState)(null),[ex,em]=(0,a.useState)(!1),[eg,eh]=(0,a.useState)(null);(0,a.useEffect)(()=>{e&&r&&eu()},[e,r]);let eu=async()=>{em(!0),eh(null);try{let e=await fetch(`${el.default}/employee/getstaffdetail?staffId=${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),s=await e.json();s.success?ec(s.data):eh(s.message||"Failed to fetch staff details")}catch(e){eh("Failed to fetch staff details. Please try again."),console.error("Error fetching staff:",e)}finally{em(!1)}};if((0,a.useEffect)(()=>{e||(p("identity"),ec(null),eh(null),N(null))},[e]),!e)return null;let ep=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})}catch(s){return e}},eb=e=>{if(!e)return"N/A";let s=[e.line1,e.line2,e.city,e.state,e.country,e.postalCode].filter(Boolean);return s.length>0?s.join(", "):"N/A"},ef=async e=>{try{let s=await fetch(e),a=await s.blob(),t=window.URL.createObjectURL(a),r=document.createElement("a");r.href=t,r.download=`staff-profile-${Date.now()}.jpg`,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(t)}catch(s){window.open(e,"_blank")}},ey=()=>{window.print()},ej=(e,s=[e])=>{let a=Array.isArray(s)?s:[s];S(a),ei(-1!==a.indexOf(e)?a.indexOf(e):0),N(e),w(0)},eN=e=>{let s="next"===e?(A+1)%_.length:(A-1+_.length)%_.length;ei(s),N(_[s]),w(0)},ev=({label:e,value:a,field:t,relatedImage:r=null,icon:l,maskValue:i=!1})=>{if(!a||"N/A"===a||Array.isArray(a)&&0===a.length)return null;let n=i?String(a).replace(/\d(?=\d{4})/g,"*"):a;return(0,s.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white hover:shadow-md transition-all duration-300",children:(0,s.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg shadow",children:(0,s.jsx)("div",{className:"text-white",children:l})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"flex items-center gap-2.5 mb-1.5",children:(0,s.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:e})}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("p",{className:"text-base font-semibold text-gray-900",children:n}),(0,s.jsx)("button",{onClick:()=>{var e;return e=String(a),void(navigator.clipboard.writeText(e),eo(t),setTimeout(()=>eo(null),2e3))},className:"p-1.5 hover:bg-gray-100 rounded-lg transition-colors",title:"Copy to clipboard",children:en===t?(0,s.jsx)(d.CheckCircle2,{className:"w-3.5 h-3.5 text-green-600"}):(0,s.jsx)(G.Copy,{className:"w-3.5 h-3.5 text-gray-400"})})]}),r&&(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsxs)("p",{className:"text-xs text-gray-500 mb-2.5 flex items-center gap-1.5",children:[(0,s.jsx)(F.Image,{className:"w-3.5 h-3.5"}),"Supporting Documents"]}),(0,s.jsx)("div",{className:"flex gap-2.5 flex-wrap",children:Array.isArray(r)?r.map((a,t)=>(0,s.jsx)(ew,{src:a,alt:`${e} ${t+1}`,onClick:()=>ej(a,r)},t)):(0,s.jsx)(ew,{src:r,alt:e,onClick:()=>ej(r)})})]})]})]})})})})},ew=({src:e,alt:a,onClick:t})=>(0,s.jsx)("div",{className:"relative group cursor-pointer",onClick:t,children:(0,s.jsxs)("div",{className:"w-20 h-20 rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 transform hover:scale-105 ring-1 ring-gray-200 hover:ring-indigo-400",children:[(0,s.jsx)("img",{src:e,alt:a,className:"w-full h-full object-cover"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-all duration-300 flex items-center justify-center",children:(0,s.jsx)("div",{className:"p-1.5 bg-white/20 backdrop-blur-sm rounded-full transform scale-0 group-hover:scale-100 transition-transform duration-300",children:(0,s.jsx)(n.Eye,{className:"w-4 h-4 text-white"})})})]})}),e_=({icon:e,title:a,color:t="from-indigo-500 to-purple-600"})=>(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,s.jsx)("div",{className:`p-1.5 bg-gradient-to-br ${t} rounded-lg shadow-sm`,children:(0,s.jsx)(e,{className:"w-4 h-4 text-white"})}),(0,s.jsx)("h4",{className:"text-sm font-semibold text-gray-700",children:a})]}),eC=[{id:"identity",label:"Personal Info",icon:I.User,color:"from-indigo-500 to-purple-600"},{id:"work",label:"Employment",icon:$.Briefcase,color:"from-emerald-500 to-green-600"},{id:"documents",label:"Documents & IDs",icon:D.FileText,color:"from-blue-500 to-indigo-600"},{id:"finance",label:"Bank & Salary",icon:X.Wallet,color:"from-amber-500 to-orange-600"},{id:"additional",label:"Additional",icon:z.Info,color:"from-violet-500 to-purple-600"}];return ex?(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl p-8 flex flex-col items-center justify-center",children:[(0,s.jsx)(V.Loader2,{className:"w-12 h-12 text-indigo-600 animate-spin mb-4"}),(0,s.jsx)("p",{className:"text-gray-600 font-medium",children:"Loading staff details..."})]})}):eg?(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8 flex flex-col items-center justify-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:(0,s.jsx)(k.AlertCircle,{className:"w-8 h-8 text-red-600"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Error Loading Data"}),(0,s.jsx)("p",{className:"text-gray-600 text-center mb-6",children:eg}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsxs)("button",{onClick:eu,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors flex items-center gap-2",children:[(0,s.jsx)(C.RefreshCw,{className:"w-4 h-4"}),"Retry"]}),(0,s.jsx)("button",{onClick:t,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors",children:"Close"})]})]})}):ed?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[92vh] overflow-hidden flex flex-col",children:[(0,s.jsxs)("div",{className:"relative overflow-hidden flex-shrink-0",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600",children:(0,s.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48Y2lyY2xlIGN4PSIzMCIgY3k9IjMwIiByPSIyIi8+PC9nPjwvZz48L3N2Zz4=')] opacity-20"})}),(0,s.jsx)("div",{className:"relative px-5 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute -inset-1 bg-white/20 rounded-full blur animate-pulse"}),(0,s.jsx)("div",{className:"relative w-14 h-14 rounded-full overflow-hidden border-2 border-white/50 cursor-pointer hover:border-white transition-colors",onClick:()=>ed.photo&&ej(ed.photo),children:(0,s.jsx)("img",{src:ed.photo,alt:ed.name,className:"w-full h-full object-cover"})}),(0,s.jsx)("div",{className:"absolute -bottom-1 -right-1 p-1 bg-indigo-500 rounded-full border-2 border-white",children:(0,s.jsx)(h.UserCog,{className:"w-3 h-3 text-white"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[ed.name,ed.is_active&&(0,s.jsx)(U.BadgeCheck,{className:"w-5 h-5 text-green-300"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 text-white/70 text-xs mt-1",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(E.Hash,{className:"w-3 h-3"}),ed.employee_id]}),(0,s.jsx)("span",{children:"•"}),(0,s.jsxs)("span",{className:"flex items-center gap-1 capitalize",children:[(0,s.jsx)(h.UserCog,{className:"w-3 h-3"}),ed.role]}),(0,s.jsx)("span",{children:"•"}),(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(M.Calendar,{className:"w-3 h-3"}),"Joined: ",ep(ed.date_of_joining)]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(l=ed.is_active,o=ed.employment_status,l&&"Active"===o?(0,s.jsxs)("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-green-100 rounded-full",children:[(0,s.jsx)(d.CheckCircle2,{className:"w-3.5 h-3.5 text-green-600"}),(0,s.jsx)("span",{className:"text-xs font-medium text-green-700",children:"Active"})]}):(0,s.jsxs)("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-gray-100 rounded-full",children:[(0,s.jsx)(j.X,{className:"w-3.5 h-3.5 text-gray-600"}),(0,s.jsx)("span",{className:"text-xs font-medium text-gray-700",children:"Inactive"})]})),ed.is_engaged?(0,s.jsxs)("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-blue-100 rounded-full",children:[(0,s.jsx)(u.Building2,{className:"w-3.5 h-3.5 text-blue-600"}),(0,s.jsx)("span",{className:"text-xs font-medium text-blue-700",children:"Assigned"})]}):(0,s.jsxs)("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-amber-100 rounded-full",children:[(0,s.jsx)(R.Clock,{className:"w-3.5 h-3.5 text-amber-600"}),(0,s.jsx)("span",{className:"text-xs font-medium text-amber-700",children:"Unassigned"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:ey,className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg transition-all duration-300",title:"Print Profile",children:(0,s.jsx)(W.Printer,{className:"w-4 h-4 text-white"})}),(0,s.jsx)("button",{onClick:()=>{navigator.share&&navigator.share({title:`Staff Profile - ${ed?.name}`,text:`View profile of ${ed?.name}`,url:window.location.href})},className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg transition-all duration-300",title:"Share Profile",children:(0,s.jsx)(H.Share2,{className:"w-4 h-4 text-white"})}),(0,s.jsx)("button",{onClick:t,className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg transition-all duration-300 hover:scale-110 hover:rotate-90 ml-2",children:(0,s.jsx)(j.X,{className:"w-4 h-4 text-white"})})]})]})]})})]}),(0,s.jsx)("div",{className:"flex bg-gradient-to-r from-gray-50 to-gray-100 px-3 py-2 gap-2 flex-shrink-0 border-b border-gray-200 overflow-x-auto",children:eC.map(e=>{let a=e.icon;return(0,s.jsxs)("button",{onClick:()=>p(e.id),className:`flex-shrink-0 px-4 py-2 flex items-center justify-center gap-2 font-medium rounded-lg transition-all duration-300 ${g===e.id?"bg-white text-gray-800 shadow-md scale-[1.02] border border-gray-200":"text-gray-500 hover:bg-white/50 hover:text-gray-700"}`,children:[(0,s.jsx)("div",{className:`p-1.5 rounded-lg bg-gradient-to-br ${g===e.id?e.color:"from-gray-300 to-gray-400"} shadow-sm`,children:(0,s.jsx)(a,{className:"w-3.5 h-3.5 text-white"})}),(0,s.jsx)("span",{className:"text-sm whitespace-nowrap",children:e.label})]},e.id)})}),(0,s.jsx)("div",{className:"flex-1 p-4 overflow-y-auto bg-gradient-to-br from-gray-50 via-white to-gray-50",children:(0,s.jsxs)("div",{className:"space-y-3",children:["identity"===g&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e_,{icon:I.User,title:"Basic Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,s.jsx)(ev,{label:"Full Name",value:ed.name,field:"name",icon:(0,s.jsx)(I.User,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"Employee ID",value:ed.employee_id,field:"employee_id",icon:(0,s.jsx)(E.Hash,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"Date of Birth",value:ep(ed.dob),field:"dob",icon:(0,s.jsx)(M.Calendar,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"Gender",value:ed.gender?.charAt(0).toUpperCase()+ed.gender?.slice(1),field:"gender",icon:(0,s.jsx)(I.User,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"Marital Status",value:ed.marital_status,field:"marital_status",icon:(0,s.jsx)(Y.Heart,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"Nationality",value:ed.nationality,field:"nationality",icon:(0,s.jsx)(K.Globe,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"Blood Group",value:ed.blood_group,field:"blood_group",icon:(0,s.jsx)(ee.Droplet,{className:"w-4 h-4"})})]}),(0,s.jsx)(e_,{icon:c.Phone,title:"Contact Information",color:"from-green-500 to-emerald-600"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,s.jsx)(ev,{label:"Primary Phone",value:ed.phone_number,field:"phone_number",icon:(0,s.jsx)(c.Phone,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"Secondary Phone",value:ed.secondary_phone_number,field:"secondary_phone_number",icon:(0,s.jsx)(c.Phone,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"Email Address",value:ed.email,field:"email",icon:(0,s.jsx)(x.Mail,{className:"w-4 h-4"})})]}),(0,s.jsx)(e_,{icon:es.Home,title:"Address Information",color:"from-orange-500 to-red-600"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[(0,s.jsx)(ev,{label:"Permanent Address",value:eb(ed.permanent_address),field:"permanent_address",icon:(0,s.jsx)(m.MapPin,{className:"w-4 h-4"})}),!ed.same_as_permanent&&(0,s.jsx)(ev,{label:"Current Address",value:eb(ed.current_address),field:"current_address",icon:(0,s.jsx)(m.MapPin,{className:"w-4 h-4"})}),ed.same_as_permanent&&(0,s.jsx)("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:(0,s.jsxs)("p",{className:"text-sm text-blue-700 flex items-center gap-2",children:[(0,s.jsx)(z.Info,{className:"w-4 h-4"}),"Current address is same as permanent address"]})})]}),(0,s.jsx)(e_,{icon:F.Image,title:"Profile Photo",color:"from-purple-500 to-pink-600"}),(0,s.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(ew,{src:ed.photo,alt:"Profile Photo",onClick:()=>ej(ed.photo)}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Profile Picture"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Click to view full image"})]})]})})]}),"work"===g&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e_,{icon:$.Briefcase,title:"Employment Details"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,s.jsx)(ev,{label:"Role",value:ed.role?.charAt(0).toUpperCase()+ed.role?.slice(1),field:"role",icon:(0,s.jsx)($.Briefcase,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"Department",value:ed.department,field:"department",icon:(0,s.jsx)(u.Building2,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"Designation",value:ed.designation,field:"designation",icon:(0,s.jsx)(ea.Award,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"Employment Type",value:ed.employment_type,field:"employment_type",icon:(0,s.jsx)(q.FileCheck,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"Employment Status",value:ed.employment_status,field:"employment_status",icon:(0,s.jsx)(Q.Activity,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"Date of Joining",value:ep(ed.date_of_joining),field:"date_of_joining",icon:(0,s.jsx)(M.Calendar,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"Registration Date",value:ep(ed.registration_date),field:"registration_date",icon:(0,s.jsx)(M.Calendar,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"Total Experience",value:`${ed.total_experience_years||0} Years`,field:"total_experience_years",icon:(0,s.jsx)(R.Clock,{className:"w-4 h-4"})})]}),ed.office&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e_,{icon:u.Building2,title:"Office Assignment",color:"from-indigo-500 to-purple-600"}),(0,s.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Office Name"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:ed.office.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Location"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:ed.office.location})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Branch Code"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:ed.office.branch_code})]})]})})]}),ed.reporting_manager&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e_,{icon:P.UserCheck,title:"Reporting Manager",color:"from-teal-500 to-cyan-600"}),(0,s.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:ed.reporting_manager})})]}),ed.skills&&ed.skills.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e_,{icon:ea.Award,title:"Skills",color:"from-amber-500 to-orange-600"}),(0,s.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:ed.skills.map((e,a)=>(0,s.jsx)("span",{className:"px-3 py-1.5 bg-gradient-to-r from-indigo-50 to-purple-50 text-indigo-700 rounded-full text-sm font-medium border border-indigo-200",children:e},a))})})]}),ed.experience&&ed.experience.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e_,{icon:et.History,title:"Work Experience",color:"from-violet-500 to-purple-600"}),(0,s.jsx)("div",{className:"space-y-3",children:ed.experience.map((e,a)=>(0,s.jsxs)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h5",{className:"text-sm font-semibold text-gray-800",children:e.title}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:e.companyName})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:[ep(e.startDate)," - ",ep(e.endDate)]}),e.lastDrawnSalary&&(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Last Salary: ₹",e.lastDrawnSalary?.toLocaleString()]})]})]}),e.responsibilities&&(0,s.jsx)("p",{className:"text-xs text-gray-600 mt-2 border-t pt-2",children:e.responsibilities})]},a))})]}),(0,s.jsx)("div",{className:`p-4 rounded-xl border ${ed.onboarding_completed?"bg-green-50 border-green-200":"bg-amber-50 border-amber-200"}`,children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[ed.onboarding_completed?(0,s.jsx)(d.CheckCircle2,{className:"w-5 h-5 text-green-600"}):(0,s.jsx)(R.Clock,{className:"w-5 h-5 text-amber-600"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:`text-sm font-semibold ${ed.onboarding_completed?"text-green-800":"text-amber-800"}`,children:["Onboarding ",ed.onboarding_completed?"Completed":"In Progress"]}),(0,s.jsxs)("p",{className:`text-xs ${ed.onboarding_completed?"text-green-700":"text-amber-700"}`,children:["Step ",ed.step_completed," of 7 completed"]})]})]})})]}),"documents"===g&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e_,{icon:D.FileText,title:"Government IDs"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,s.jsx)(ev,{label:"PAN Number",value:ed.govt_ids?.pan_number,field:"pan_number",maskValue:!0,icon:(0,s.jsx)(Z.CreditCard,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"Aadhaar Number",value:ed.govt_ids?.aadhaar_number,field:"aadhaar_number",maskValue:!0,icon:(0,s.jsx)(Z.CreditCard,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"Passport Number",value:ed.govt_ids?.passport_number,field:"passport_number",icon:(0,s.jsx)(D.FileText,{className:"w-4 h-4"})}),ed.govt_ids?.passport_expiry&&(0,s.jsx)(ev,{label:"Passport Expiry",value:ep(ed.govt_ids?.passport_expiry),field:"passport_expiry",icon:(0,s.jsx)(M.Calendar,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"PF Number",value:ed.govt_ids?.pf_number,field:"pf_number",icon:(0,s.jsx)(D.FileText,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"ESI Number",value:ed.govt_ids?.esi_number,field:"esi_number",icon:(0,s.jsx)(D.FileText,{className:"w-4 h-4"})})]}),!ed.govt_ids?.pan_number&&!ed.govt_ids?.aadhaar_number&&!ed.govt_ids?.passport_number&&(0,s.jsx)("div",{className:"p-4 rounded-xl border border-amber-200 bg-amber-50",children:(0,s.jsxs)("p",{className:"text-sm text-amber-700 flex items-center gap-2",children:[(0,s.jsx)(k.AlertCircle,{className:"w-4 h-4"}),"No government ID documents have been added yet."]})}),(0,s.jsx)(e_,{icon:J.GraduationCap,title:"Education",color:"from-blue-500 to-indigo-600"}),ed.education&&ed.education.length>0?(0,s.jsx)("div",{className:"space-y-3",children:ed.education.map((e,a)=>(0,s.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Qualification"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:e.qualification})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Institution"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:e.institution})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Board/University"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:e.boardOrUniversity})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Year of Passing"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:e.yearOfPassing})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Percentage/CGPA"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:e.percentageOrCgpa})]})]})},a))}):(0,s.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-gray-50",children:(0,s.jsxs)("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[(0,s.jsx)(z.Info,{className:"w-4 h-4"}),"No education details have been added yet."]})}),(0,s.jsx)(e_,{icon:ea.Award,title:"Certifications",color:"from-amber-500 to-orange-600"}),ed.certifications&&ed.certifications.length>0?(0,s.jsx)("div",{className:"space-y-3",children:ed.certifications.map((e,a)=>(0,s.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Title"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:e.title})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Issuer"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:e.issuer})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Issue Date"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:ep(e.issueDate)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Expiry Date"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:ep(e.expiryDate)})]})]})},a))}):(0,s.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-gray-50",children:(0,s.jsxs)("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[(0,s.jsx)(z.Info,{className:"w-4 h-4"}),"No certifications have been added yet."]})})]}),"finance"===g&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e_,{icon:X.Wallet,title:"Salary Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[ed.salary?(0,s.jsx)(ev,{label:"Monthly Salary",value:`₹${ed.salary?.toLocaleString()}`,field:"salary",icon:(0,s.jsx)(X.Wallet,{className:"w-4 h-4"})}):(0,s.jsx)("div",{className:"p-4 rounded-xl border border-amber-200 bg-amber-50",children:(0,s.jsxs)("p",{className:"text-sm text-amber-700 flex items-center gap-2",children:[(0,s.jsx)(k.AlertCircle,{className:"w-4 h-4"}),"Salary information not available"]})}),(0,s.jsx)(ev,{label:"Tax Status",value:ed.govt_ids?.tax_status,field:"tax_status",icon:(0,s.jsx)(D.FileText,{className:"w-4 h-4"})})]}),(0,s.jsx)(e_,{icon:T.Landmark,title:"Bank Account Details",color:"from-green-500 to-emerald-600"}),ed.bank_details&&(ed.bank_details.account_number||ed.bank_details.bank_name||ed.bank_details.account_holder)?(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,s.jsx)(ev,{label:"Account Holder Name",value:ed.bank_details.account_holder,field:"account_holder",icon:(0,s.jsx)(I.User,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"Account Number",value:ed.bank_details.account_number,field:"account_number",maskValue:!0,icon:(0,s.jsx)(Z.CreditCard,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"Bank Name",value:ed.bank_details.bank_name,field:"bank_name",icon:(0,s.jsx)(T.Landmark,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"Branch Name",value:ed.bank_details.branch_name,field:"branch_name",icon:(0,s.jsx)(m.MapPin,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"IFSC Code",value:ed.bank_details.ifsc_code,field:"ifsc_code",icon:(0,s.jsx)(E.Hash,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"UPI ID",value:ed.bank_details.upi_id,field:"upi_id",icon:(0,s.jsx)(Z.CreditCard,{className:"w-4 h-4"})})]}):(0,s.jsx)("div",{className:"p-4 rounded-xl border border-amber-200 bg-amber-50",children:(0,s.jsxs)("p",{className:"text-sm text-amber-700 flex items-center gap-2",children:[(0,s.jsx)(k.AlertCircle,{className:"w-4 h-4"}),"Bank account details have not been added yet."]})})]}),"additional"===g&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e_,{icon:er.PhoneCall,title:"Emergency Contacts",color:"from-red-500 to-rose-600"}),ed.emergency_contacts&&ed.emergency_contacts.length>0?(0,s.jsx)("div",{className:"space-y-3",children:ed.emergency_contacts.map((e,a)=>(0,s.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Name"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:e.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Relationship"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:e.relationship})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Phone"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:e.phone})]}),e.alternatePhone&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Alternate Phone"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:e.alternatePhone})]}),e.address&&(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Address"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:e.address})]})]})},a))}):(0,s.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-gray-50",children:(0,s.jsxs)("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[(0,s.jsx)(z.Info,{className:"w-4 h-4"}),"No emergency contacts have been added yet."]})}),(0,s.jsx)(e_,{icon:Q.Activity,title:"Medical Information",color:"from-pink-500 to-rose-600"}),ed.medical_conditions?(0,s.jsx)(ev,{label:"Medical Conditions",value:ed.medical_conditions,field:"medical_conditions",icon:(0,s.jsx)(Q.Activity,{className:"w-4 h-4"})}):(0,s.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-gray-50",children:(0,s.jsxs)("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[(0,s.jsx)(d.CheckCircle2,{className:"w-4 h-4 text-green-500"}),"No medical conditions reported"]})}),(0,s.jsx)(e_,{icon:O.Shield,title:"Background Verification",color:"from-indigo-500 to-purple-600"}),(0,s.jsx)("div",{className:`p-4 rounded-xl border ${"Passed"===ed.background_check_status?"bg-green-50 border-green-200":"Failed"===ed.background_check_status?"bg-red-50 border-red-200":"bg-amber-50 border-amber-200"}`,children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:["Passed"===ed.background_check_status?(0,s.jsx)(d.CheckCircle2,{className:"w-5 h-5 text-green-600"}):"Failed"===ed.background_check_status?(0,s.jsx)(j.X,{className:"w-5 h-5 text-red-600"}):(0,s.jsx)(R.Clock,{className:"w-5 h-5 text-amber-600"}),(0,s.jsx)("div",{children:(0,s.jsxs)("p",{className:`text-sm font-semibold ${"Passed"===ed.background_check_status?"text-green-800":"Failed"===ed.background_check_status?"text-red-800":"text-amber-800"}`,children:["Background Check: ",ed.background_check_status||"Pending"]})})]})}),(0,s.jsx)(e_,{icon:D.FileText,title:"HR Notes",color:"from-gray-500 to-gray-600"}),ed.hr_notes?(0,s.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:(0,s.jsx)("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:ed.hr_notes})}):(0,s.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-gray-50",children:(0,s.jsxs)("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[(0,s.jsx)(z.Info,{className:"w-4 h-4"}),"No HR notes available"]})}),(0,s.jsx)(e_,{icon:z.Info,title:"System Information",color:"from-gray-500 to-gray-600"}),(0,s.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-gray-50",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Created At"}),(0,s.jsx)("p",{className:"text-xs font-medium text-gray-700",children:ep(ed.created_at)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Updated At"}),(0,s.jsx)("p",{className:"text-xs font-medium text-gray-700",children:ep(ed.updated_at)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Is Engaged"}),(0,s.jsx)("p",{className:"text-xs font-medium text-gray-700",children:ed.is_engaged?"Yes":"No"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Profile ID"}),(0,s.jsx)("p",{className:"text-xs font-medium text-gray-700 truncate",title:ed.employee_profile_id,children:ed.employee_profile_id?.slice(-8)})]})]})})]})]})}),(0,s.jsx)("div",{className:"border-t border-gray-200 bg-gradient-to-r from-gray-50 via-white to-gray-50 px-5 py-3 flex-shrink-0",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[(0,s.jsx)(z.Info,{className:"w-3.5 h-3.5"}),(0,s.jsx)("span",{children:"Read-only view. Contact administrator for any changes."})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsxs)("button",{onClick:eu,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-all duration-300 font-medium text-sm flex items-center gap-2",children:[(0,s.jsx)(C.RefreshCw,{className:"w-4 h-4"}),"Refresh"]}),(0,s.jsxs)("button",{onClick:ey,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-all duration-300 font-medium text-sm flex items-center gap-2",children:[(0,s.jsx)(W.Printer,{className:"w-4 h-4"}),"Print"]}),(0,s.jsx)("button",{onClick:t,className:"px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:shadow-lg transition-all duration-300 font-medium text-sm transform hover:scale-105",children:"Close"})]})]})})]})}),y&&(0,s.jsx)(({image:e,onClose:a})=>e?(0,s.jsxs)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex items-center justify-center z-[60]",onClick:a,children:[(0,s.jsx)("button",{onClick:a,className:"absolute top-4 right-4 p-2.5 bg-white/10 hover:bg-white/20 rounded-xl transition-all duration-300 hover:scale-110 group z-10",children:(0,s.jsx)(j.X,{className:"w-5 h-5 text-white group-hover:rotate-90 transition-transform duration-300"})}),_.length>1&&(0,s.jsx)("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 px-3 py-1.5 bg-white/10 backdrop-blur-sm rounded-full",children:(0,s.jsxs)("span",{className:"text-white text-sm font-medium",children:[A+1," / ",_.length]})}),_.length>1&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),eN("prev")},className:"absolute left-4 top-1/2 -translate-y-1/2 p-3 bg-white/10 hover:bg-white/20 rounded-xl transition-all duration-300 hover:scale-110 group",children:(0,s.jsx)(b.ChevronLeft,{className:"w-6 h-6 text-white group-hover:-translate-x-1 transition-transform"})}),(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),eN("next")},className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 bg-white/10 hover:bg-white/20 rounded-xl transition-all duration-300 hover:scale-110 group",children:(0,s.jsx)(f.ChevronRight,{className:"w-6 h-6 text-white group-hover:translate-x-1 transition-transform"})})]}),(0,s.jsxs)("div",{className:"relative max-w-[85vw] max-h-[85vh] p-4",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl bg-white/5 backdrop-blur-sm border border-white/10",children:[(0,s.jsx)("img",{src:e,alt:"Staff",className:"max-w-full max-h-[75vh] object-contain transition-transform duration-500",style:{transform:`rotate(${v}deg)`}}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-black/70 to-transparent"})]}),(0,s.jsx)("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 flex items-center gap-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2.5 bg-white/10 backdrop-blur-xl rounded-xl border border-white/20",children:[(0,s.jsx)("button",{onClick:()=>w(e=>e-90),className:"p-2.5 hover:bg-white/20 rounded-lg transition-all duration-200 group",title:"Rotate Left",children:(0,s.jsx)(L.RotateCw,{className:"w-4 h-4 text-white transform -scale-x-100 group-hover:rotate-[-90deg] transition-transform duration-300"})}),(0,s.jsx)("div",{className:"w-px h-6 bg-white/20"}),(0,s.jsx)("button",{onClick:()=>w(e=>e+90),className:"p-2.5 hover:bg-white/20 rounded-lg transition-all duration-200 group",title:"Rotate Right",children:(0,s.jsx)(L.RotateCw,{className:"w-4 h-4 text-white group-hover:rotate-90 transition-transform duration-300"})}),(0,s.jsx)("div",{className:"w-px h-6 bg-white/20"}),(0,s.jsx)("button",{onClick:()=>window.open(e,"_blank"),className:"p-2.5 hover:bg-white/20 rounded-lg transition-all duration-200 group",title:"Open in New Tab",children:(0,s.jsx)(B.Maximize2,{className:"w-4 h-4 text-white group-hover:scale-110 transition-transform duration-300"})}),(0,s.jsx)("div",{className:"w-px h-6 bg-white/20"}),(0,s.jsxs)("button",{onClick:()=>ef(e),className:"flex items-center gap-2 px-3.5 py-2.5 bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 rounded-lg transition-all duration-300 hover:scale-105",title:"Download",children:[(0,s.jsx)(i.Download,{className:"w-4 h-4 text-white"}),(0,s.jsx)("span",{className:"text-white font-medium text-sm",children:"Download"})]})]})})]})]}):null,{image:y,onClose:()=>N(null)})]}):(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8 flex flex-col items-center justify-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:(0,s.jsx)(I.User,{className:"w-8 h-8 text-gray-400"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Data Found"}),(0,s.jsx)("p",{className:"text-gray-600 text-center mb-6",children:"Staff details could not be found."}),(0,s.jsx)("button",{onClick:t,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Close"})]})})};var en=e.i(56909),eo=e.i(81418),ed=e.i(69074),ec=e.i(27612),ex=e.i(78894),em=e.i(64659),eg=e.i(55900);let eh=({label:e,field:a,type:t="text",required:r=!1,icon:l,options:i=null,nestedPath:n=null,placeholder:o="",disabled:c=!1,value:x,onChange:m,onBlur:g,hasError:h,errorMessage:u,isValid:p,isChanged:b})=>(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsxs)("label",{className:"text-xs font-medium text-gray-700 flex items-center gap-1.5",children:[l&&(0,s.jsx)(l,{className:"w-3.5 h-3.5 text-gray-400"}),e,r&&(0,s.jsx)("span",{className:"text-red-500",children:"*"}),b&&(0,s.jsx)("span",{className:"ml-auto text-xs text-amber-600 font-normal",children:"Modified"})]}),(0,s.jsxs)("div",{className:"relative",children:[i?(0,s.jsxs)("select",{value:x||"",onChange:e=>m(a,e.target.value,n),disabled:c,className:`w-full px-3 py-2 border rounded-lg text-sm transition-all ${h?"border-red-300 bg-red-50":b?"border-amber-300 bg-amber-50":"border-gray-300"} ${c?"bg-gray-100 cursor-not-allowed":""} focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500`,children:[(0,s.jsxs)("option",{value:"",children:["Select ",e]}),i.map(e=>(0,s.jsx)("option",{value:"object"==typeof e?e.value:e,children:"object"==typeof e?e.label:e},"object"==typeof e?e.value:e))]}):"textarea"===t?(0,s.jsx)("textarea",{value:x||"",onChange:e=>m(a,e.target.value,n),onBlur:()=>g&&g(a),disabled:c,placeholder:o,rows:3,className:`w-full px-3 py-2 border rounded-lg text-sm transition-all resize-none ${h?"border-red-300 bg-red-50":b?"border-amber-300 bg-amber-50":"border-gray-300"} ${c?"bg-gray-100 cursor-not-allowed":""} focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500`}):(0,s.jsx)("input",{type:t,value:x||"",onChange:e=>m(a,"number"===t?Number(e.target.value):e.target.value,n),onBlur:()=>g&&g(a),disabled:c,placeholder:o,className:`w-full px-3 py-2 border rounded-lg text-sm transition-all ${h?"border-red-300 bg-red-50":b?"border-amber-300 bg-amber-50":"border-gray-300"} ${c?"bg-gray-100 cursor-not-allowed":""} focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500`}),h&&(0,s.jsx)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:(0,s.jsx)(k.AlertCircle,{className:"w-4 h-4 text-red-500"})}),p&&!h&&(0,s.jsx)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:(0,s.jsx)(d.CheckCircle2,{className:"w-4 h-4 text-green-500"})})]}),h&&(0,s.jsxs)("p",{className:"text-xs text-red-600 flex items-center gap-1",children:[(0,s.jsx)(k.AlertCircle,{className:"w-3 h-3"}),u]})]}),eu=({icon:e,title:a,color:t="from-cyan-500 to-blue-600",collapsible:r=!1,isExpanded:l=!1,onToggle:i=null})=>(0,s.jsxs)("div",{className:`flex items-center justify-between mb-4 ${r?"cursor-pointer":""}`,onClick:()=>r&&i&&i(),children:[(0,s.jsxs)("h3",{className:"text-sm font-semibold text-gray-800 flex items-center gap-2",children:[(0,s.jsx)("div",{className:`p-1.5 bg-gradient-to-br ${t} rounded-lg shadow-sm`,children:(0,s.jsx)(e,{className:"w-4 h-4 text-white"})}),a]}),r&&(0,s.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded transition-colors",children:l?(0,s.jsx)(eg.ChevronUp,{className:"w-4 h-4 text-gray-500"}):(0,s.jsx)(em.ChevronDown,{className:"w-4 h-4 text-gray-500"})})]}),ep=({currentImage:e,onImageChange:t,onImageRemove:r})=>{let[l,i]=(0,a.useState)(e),[o,d]=(0,a.useState)(!1),[c,x]=(0,a.useState)(0),[m,g]=(0,a.useState)(null);(0,a.useEffect)(()=>{i(e)},[e]);let h=async e=>{let s=e.name.split(".").pop(),a=`staff_photo_${Date.now()}.${s}`,t=await fetch(`${el.default}/aws/getpresigneduploadurls`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({files:[{fileName:a,fileType:e.type,folder:"employee-photos"}]})});if(!t.ok)throw Error("Failed to get presigned URL");let r=await t.json();if(!r.success||!r.urls||0===r.urls.length)throw Error("Failed to get presigned URL");return r.urls[0]},u=async(e,s)=>{if(!(await fetch(s,{method:"PUT",headers:{"Content-Type":e.type},body:e})).ok)throw Error("Failed to upload file to S3");return s.split("?")[0]},p=async s=>{let a=s.target.files[0];if(a){if(a.size>5242880)return void g("File size must be less than 5MB");if(!a.type.startsWith("image/"))return void g("Only image files are allowed");d(!0),g(null),x(0);try{let e=new FileReader;e.onloadend=()=>{i(e.result)},e.readAsDataURL(a),x(20);let{uploadUrl:s,publicUrl:r}=await h(a);x(40),await u(a,s),x(80),i(r),t(r),x(100),setTimeout(()=>{x(0)},500)}catch(s){console.error("Error uploading image:",s),g("Failed to upload image. Please try again."),i(e)}finally{d(!1)}}};return(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"text-xs font-medium text-gray-700 flex items-center gap-1.5",children:[(0,s.jsx)(F.Image,{className:"w-3.5 h-3.5 text-gray-400"}),"Profile Photo"]}),(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)("div",{className:`w-24 h-24 rounded-xl overflow-hidden border-2 border-dashed transition-colors ${o?"border-cyan-400 bg-cyan-50":"border-gray-300 hover:border-cyan-400"}`,children:o?(0,s.jsxs)("div",{className:"w-full h-full flex flex-col items-center justify-center bg-cyan-50",children:[(0,s.jsx)(V.Loader2,{className:"w-6 h-6 text-cyan-500 animate-spin mb-1"}),(0,s.jsxs)("span",{className:"text-xs text-cyan-600",children:[c,"%"]})]}):l?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("img",{src:l,alt:"Profile",className:"w-full h-full object-cover"}),(0,s.jsxs)("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[(0,s.jsx)("button",{type:"button",onClick:()=>window.open(l,"_blank"),className:"p-1.5 bg-white/20 backdrop-blur-sm rounded-lg hover:bg-white/30 transition-colors",children:(0,s.jsx)(n.Eye,{className:"w-4 h-4 text-white"})}),(0,s.jsx)("button",{type:"button",onClick:()=>{i(null),g(null),r()},className:"p-1.5 bg-white/20 backdrop-blur-sm rounded-lg hover:bg-white/30 transition-colors",children:(0,s.jsx)(ec.Trash2,{className:"w-4 h-4 text-white"})})]})]}):(0,s.jsxs)("label",{className:"cursor-pointer w-full h-full flex flex-col items-center justify-center text-gray-400 hover:text-cyan-500 transition-colors",children:[(0,s.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:p,disabled:o}),(0,s.jsx)(ed.Upload,{className:"w-6 h-6 mb-1"}),(0,s.jsx)("span",{className:"text-xs",children:"Upload"})]})}),o&&c>0&&(0,s.jsx)("div",{className:"absolute -bottom-2 left-0 right-0 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-gradient-to-r from-cyan-500 to-blue-500 transition-all duration-300",style:{width:`${c}%`}})})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Upload a profile photo. Recommended size: 256x256 pixels."}),(0,s.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Supported formats: JPG, PNG (max 5MB)"}),m&&(0,s.jsxs)("p",{className:"text-xs text-red-600 mt-1 flex items-center gap-1",children:[(0,s.jsx)(k.AlertCircle,{className:"w-3 h-3"}),m]}),l&&!o&&(0,s.jsxs)("label",{className:"mt-2 inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-cyan-600 hover:bg-cyan-50 rounded-lg cursor-pointer transition-colors",children:[(0,s.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:p,disabled:o}),(0,s.jsx)(C.RefreshCw,{className:"w-3.5 h-3.5"}),"Change Photo"]})]})]})]})},eb=({isOpen:e,onClose:t,onSave:l,staffId:i})=>{let n,[g,u]=(0,a.useState)({}),[p,b]=(0,a.useState)({}),[f,y]=(0,a.useState)("personal"),[N,v]=(0,a.useState)({}),[w,_]=(0,a.useState)(!1),[P,B]=(0,a.useState)(new Set),[L,U]=(0,a.useState)(!1),[O,G]=(0,a.useState)({}),[H,W]=(0,a.useState)({}),[ei,ed]=(0,a.useState)({}),[em,eg]=(0,a.useState)(!1),[eb,ef]=(0,a.useState)(!1),[ey,ej]=(0,a.useState)(null),[eN,ev]=(0,a.useState)(!1);(0,a.useEffect)(()=>{e&&i&&ew()},[e,i]),(0,a.useEffect)(()=>{e||(y("personal"),v({}),_(!1),B(new Set),G({}),W({}),ev(!1))},[e]);let ew=async()=>{eg(!0),ej(null);try{let e=await fetch(`${el.default}/employee/getstaffdetail?staffId=${i}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),s=await e.json();if(s.success){let e=s.data,a={_id:e._id,name:e.name||"",phone_number:e.phone_number||"",secondary_phone_number:e.secondary_phone_number||"",email:e.email||"",gender:e.gender||"",dob:e.dob?e.dob.split("T")[0]:"",role:e.role||"",designation:e.designation||"",is_active:e.is_active??!0,is_on_duty:e.is_on_duty??!1,employee_id:e.employee_id||"",photo:e.photo||"",marital_status:e.marital_status||"",nationality:e.nationality||"",blood_group:e.blood_group||"",permanent_address:e.permanent_address||{line1:"",line2:"",city:"",state:"",country:"",postalCode:""},current_address:e.current_address||{line1:"",line2:"",city:"",state:"",country:"",postalCode:""},same_as_permanent:e.same_as_permanent??!1,employment_type:e.employment_type||"",date_of_joining:e.date_of_joining?e.date_of_joining.split("T")[0]:"",employment_status:e.employment_status||"",salary:e.salary||0,hourly_rate:e.hourly_rate||0,shift_type:e.shift_type||"",bank_details:e.bank_details||{account_number:"",ifsc_code:"",account_holder:"",bank_name:"",branch_name:"",upi_id:""},govt_ids:e.govt_ids||{pan_number:"",aadhaar_number:"",passport_number:"",passport_expiry:"",pf_number:"",esi_number:"",tax_status:""},education:e.education||[],certifications:e.certifications||[],experience:e.experience||[],total_experience_years:e.total_experience_years||0,skills:e.skills||[],medical_conditions:e.medical_conditions||"",emergency_contacts:e.emergency_contacts||[],hr_notes:e.hr_notes||"",background_check_status:e.background_check_status||"",warehouse:e.warehouse?._id||"",supervisor:e.supervisor?._id||"",supervisor_name:e.supervisor?.name||""};u(a),b(JSON.parse(JSON.stringify(a)))}else ej(s.message||"Failed to fetch staff details")}catch(e){ej("Failed to fetch staff details. Please try again."),console.error("Error fetching staff:",e)}finally{eg(!1)}},e_=async()=>{let e={};if(["name","phone_number","email"].forEach(s=>{g[s]||(e[s]="This field is required")}),g.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g.email)&&(e.email="Invalid email format"),g.phone_number&&!/^\d{10}$/.test(g.phone_number)&&(e.phone_number="Phone number must be 10 digits"),Object.keys(e).length>0)return void v(e);ef(!0),ej(null);try{let e={staffId:i,...g,modifiedFields:Array.from(P),modifiedAt:new Date().toISOString()},s=await fetch(`${el.default}/employee/updatestaffdetail?staffId=${i}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(e)}),a=await s.json();a.success?(ev(!0),_(!1),B(new Set),b(JSON.parse(JSON.stringify(g))),l&&l(a.data),setTimeout(()=>{ev(!1),t()},1500)):ej(a.message||"Failed to update staff details")}catch(e){ej("Failed to update staff details. Please try again."),console.error("Error updating staff:",e)}finally{ef(!1)}};if(!e)return null;let eC=e=>{if(!e)return"";try{return e.split("T")[0]}catch{return e}},ek=(e,s,a=null)=>{u(t=>{if(a){let[e,r]=a.split(".");return{...t,[e]:{...t[e],[r]:s}}}return{...t,[e]:s}});let t=a||e;B(e=>new Set(e).add(t)),_(!0),v(s=>{let a={...s};return delete a[e],a})},eP=(e,s,a,t)=>{u(r=>{let l=[...r[e]||[]];return l[s]={...l[s],[a]:t},{...r,[e]:l}}),B(s=>new Set(s).add(e)),_(!0)},eS=(e,s)=>{u(a=>({...a,[e]:[...a[e]||[],s]})),B(s=>new Set(s).add(e)),_(!0)},eA=(e,s)=>{u(a=>({...a,[e]:a[e].filter((e,a)=>a!==s)})),B(s=>new Set(s).add(e)),_(!0)},eI=e=>{let s=((e,s)=>{switch(e){case"email":return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)?null:"Invalid email format";case"phone_number":case"secondary_phone_number":return!s||/^\d{10}$/.test(s)?null:"Phone number must be 10 digits";case"postalCode":return!s||/^\d{6}$/.test(s)?null:"Postal code must be 6 digits";default:return null}})(e,g[e]);s?(v(a=>({...a,[e]:s})),W(s=>({...s,[e]:"error"}))):W(s=>({...s,[e]:"success"}))},e$=()=>{w?U(!0):t()},eD=[{id:"personal",label:"Personal Info",icon:I.User,color:"from-blue-500 to-cyan-600"},{id:"employment",label:"Employment",icon:$.Briefcase,color:"from-teal-500 to-emerald-600"},{id:"documents",label:"Documents",icon:D.FileText,color:"from-emerald-500 to-teal-600"},{id:"finance",label:"Bank & Salary",icon:X.Wallet,color:"from-amber-500 to-orange-600"},{id:"additional",label:"Additional",icon:z.Info,color:"from-pink-500 to-rose-600"}],eF=e=>{let{field:a,nestedPath:t}=e,r=t?t.split(".").reduce((e,s)=>e?.[s],g):g[a],l=N[a],i="success"===H[a],n=P.has(t||a);return(0,s.jsx)(eh,{...e,value:r,onChange:ek,onBlur:eI,hasError:l,errorMessage:l,isValid:i,isChanged:n})},eM=e=>{let{sectionKey:a}=e;return(0,s.jsx)(eu,{...e,isExpanded:!!a&&ei[a],onToggle:a?()=>{ed(e=>({...e,[a]:!e[a]}))}:null})},eE=e=>(0,s.jsx)("div",{className:"space-y-3",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[eF({label:"Address Line 1",field:"line1",nestedPath:`${e}.line1`,icon:es.Home,placeholder:"Street address"}),eF({label:"Address Line 2",field:"line2",nestedPath:`${e}.line2`,icon:es.Home,placeholder:"Apartment, suite, etc."}),eF({label:"City",field:"city",nestedPath:`${e}.city`,icon:m.MapPin}),eF({label:"State",field:"state",nestedPath:`${e}.state`,icon:m.MapPin}),eF({label:"Country",field:"country",nestedPath:`${e}.country`,icon:K.Globe}),eF({label:"Postal Code",field:"postalCode",nestedPath:`${e}.postalCode`,icon:E.Hash})]})});return em?(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl p-8 flex flex-col items-center justify-center",children:[(0,s.jsx)(V.Loader2,{className:"w-12 h-12 text-cyan-600 animate-spin mb-4"}),(0,s.jsx)("p",{className:"text-gray-600 font-medium",children:"Loading staff details..."})]})}):ey&&!g._id?(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8 flex flex-col items-center justify-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:(0,s.jsx)(k.AlertCircle,{className:"w-8 h-8 text-red-600"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Error Loading Data"}),(0,s.jsx)("p",{className:"text-gray-600 text-center mb-6",children:ey}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsxs)("button",{onClick:ew,className:"px-4 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2",children:[(0,s.jsx)(C.RefreshCw,{className:"w-4 h-4"}),"Retry"]}),(0,s.jsx)("button",{onClick:t,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors",children:"Close"})]})]})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[92vh] overflow-hidden flex flex-col",children:[(0,s.jsxs)("div",{className:"relative overflow-hidden flex-shrink-0",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-600 via-blue-600 to-indigo-600",children:(0,s.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48Y2lyY2xlIGN4PSIzMCIgY3k9IjMwIiByPSIyIi8+PC9nPjwvZz48L3N2Zz4=')] opacity-20"})}),(0,s.jsx)("div",{className:"relative px-5 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute -inset-1 bg-white/20 rounded-full blur animate-pulse"}),(0,s.jsx)("div",{className:"relative w-12 h-12 rounded-full overflow-hidden border-2 border-white/50",children:(0,s.jsx)("img",{src:g.photo||`https://ui-avatars.com/api/?name=${g.name}&background=random&size=256`,alt:g.name,className:"w-full h-full object-cover"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[(0,s.jsx)(o.Edit3,{className:"w-5 h-5"}),"Edit Staff Profile"]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 text-white/70 text-xs mt-1",children:[(0,s.jsx)("span",{children:g.name}),(0,s.jsx)("span",{children:"•"}),(0,s.jsxs)("span",{children:["ID: ",g.employee_id]}),g.designation&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:"•"}),(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(A.Wrench,{className:"w-3 h-3"}),g.designation.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())]})]}),w&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:"•"}),(0,s.jsxs)("span",{className:"text-yellow-300 font-medium flex items-center gap-1",children:[(0,s.jsx)(k.AlertCircle,{className:"w-3 h-3"}),P.size," field(s) modified"]})]})]})]})]}),(0,s.jsx)("div",{className:"flex items-center gap-3",children:(0,s.jsx)("button",{onClick:e$,className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg transition-all duration-300",children:(0,s.jsx)(j.X,{className:"w-4 h-4 text-white"})})})]})})]}),eN&&(0,s.jsxs)("div",{className:"bg-green-50 border-b border-green-200 px-5 py-3 flex items-center gap-3",children:[(0,s.jsx)(d.CheckCircle2,{className:"w-5 h-5 text-green-600"}),(0,s.jsx)("span",{className:"text-sm font-medium text-green-800",children:"Staff details updated successfully!"})]}),ey&&g._id&&(0,s.jsxs)("div",{className:"bg-red-50 border-b border-red-200 px-5 py-3 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(k.AlertCircle,{className:"w-5 h-5 text-red-600"}),(0,s.jsx)("span",{className:"text-sm font-medium text-red-800",children:ey})]}),(0,s.jsx)("button",{onClick:()=>ej(null),className:"p-1 hover:bg-red-100 rounded transition-colors",children:(0,s.jsx)(j.X,{className:"w-4 h-4 text-red-600"})})]}),(0,s.jsx)("div",{className:"flex bg-gradient-to-r from-gray-50 to-gray-100 px-3 py-2 gap-2 flex-shrink-0 border-b border-gray-200 overflow-x-auto",children:eD.map(e=>{let a=e.icon;return(0,s.jsxs)("button",{onClick:()=>y(e.id),className:`flex-shrink-0 px-4 py-2 flex items-center gap-2 font-medium rounded-lg transition-all duration-300 ${f===e.id?"bg-white text-gray-800 shadow-md scale-[1.02] border border-gray-200":"text-gray-500 hover:bg-white/50 hover:text-gray-700"}`,children:[(0,s.jsx)("div",{className:`p-1.5 rounded-lg bg-gradient-to-br ${f===e.id?e.color:"from-gray-300 to-gray-400"} shadow-sm`,children:(0,s.jsx)(a,{className:"w-3.5 h-3.5 text-white"})}),(0,s.jsx)("span",{className:"text-sm whitespace-nowrap",children:e.label})]},e.id)})}),(0,s.jsx)("div",{className:"flex-1 p-4 overflow-y-auto bg-gradient-to-br from-gray-50 via-white to-gray-50",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto space-y-4",children:["personal"===f&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[eM({icon:I.User,title:"Basic Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[eF({label:"Full Name",field:"name",required:!0,icon:I.User}),eF({label:"Employee ID",field:"employee_id",icon:E.Hash,disabled:!0}),eF({label:"Date of Birth",field:"dob",type:"date",icon:M.Calendar}),eF({label:"Gender",field:"gender",options:["male","female","other"],icon:I.User}),eF({label:"Marital Status",field:"marital_status",options:["Single","Married","Divorced","Widowed"],icon:Y.Heart}),eF({label:"Nationality",field:"nationality",icon:K.Globe}),eF({label:"Blood Group",field:"blood_group",options:["A+","A-","B+","B-","AB+","AB-","O+","O-"],icon:ee.Droplet})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[eM({icon:c.Phone,title:"Contact Information",color:"from-green-500 to-emerald-600"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[eF({label:"Primary Phone",field:"phone_number",required:!0,icon:c.Phone,placeholder:"10 digit phone number"}),eF({label:"Secondary Phone",field:"secondary_phone_number",icon:c.Phone,placeholder:"10 digit phone number"}),(0,s.jsx)("div",{className:"md:col-span-2",children:eF({label:"Email Address",field:"email",type:"email",required:!0,icon:x.Mail})})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[eM({icon:es.Home,title:"Permanent Address",color:"from-orange-500 to-red-600"}),eE("permanent_address")]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[eM({icon:m.MapPin,title:"Current Address",color:"from-teal-500 to-cyan-600"}),(0,s.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:g.same_as_permanent,onChange:e=>ek("same_as_permanent",e.target.checked),className:"w-4 h-4 rounded border-gray-300 text-cyan-600 focus:ring-cyan-500"}),(0,s.jsx)("span",{className:"text-xs text-gray-600",children:"Same as permanent address"})]})]}),!g.same_as_permanent&&eE("current_address"),g.same_as_permanent&&(0,s.jsx)("p",{className:"text-sm text-gray-500 italic",children:"Current address is same as permanent address"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[eM({icon:F.Image,title:"Profile Photo",color:"from-purple-500 to-pink-600"}),(n=g.photo,(0,s.jsx)(ep,{currentImage:n,onImageChange:e=>ek("photo",e),onImageRemove:()=>ek("photo","")}))]})]}),"employment"===f&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[eM({icon:$.Briefcase,title:"Employment Details"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[eF({label:"Designation",field:"designation",options:[{value:"picker",label:"Picker"},{value:"packer",label:"Packer"},{value:"loader",label:"Loader"},{value:"forklift_operator",label:"Forklift Operator"},{value:"inventory_clerk",label:"Inventory Clerk"},{value:"quality_checker",label:"Quality Checker"},{value:"receiving_clerk",label:"Receiving Clerk"},{value:"shipping_clerk",label:"Shipping Clerk"},{value:"warehouse_associate",label:"Warehouse Associate"},{value:"material_handler",label:"Material Handler"}],icon:A.Wrench}),eF({label:"Employment Type",field:"employment_type",options:["Full-Time","Part-Time","Contract","Temporary","Daily Wage"],icon:q.FileCheck}),eF({label:"Employment Status",field:"employment_status",options:["Active","On Leave","Terminated","Resigned"],icon:Q.Activity}),eF({label:"Date of Joining",field:"date_of_joining",type:"date",icon:M.Calendar}),eF({label:"Shift Type",field:"shift_type",options:[{value:"morning",label:"Morning (6 AM - 2 PM)"},{value:"afternoon",label:"Afternoon (2 PM - 10 PM)"},{value:"night",label:"Night (10 PM - 6 AM)"},{value:"rotating",label:"Rotating Shifts"},{value:"flexible",label:"Flexible"}],icon:R.Clock}),eF({label:"Total Experience (Years)",field:"total_experience_years",type:"number",icon:R.Clock})]}),(0,s.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-100 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,s.jsxs)("label",{className:"text-xs font-medium text-gray-700 flex items-center gap-1.5",children:[(0,s.jsx)(Q.Activity,{className:"w-3.5 h-3.5 text-gray-400"}),"Active Status"]}),(0,s.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:g.is_active,onChange:e=>ek("is_active",e.target.checked),className:"sr-only peer"}),(0,s.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-cyan-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-cyan-600"})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,s.jsxs)("label",{className:"text-xs font-medium text-gray-700 flex items-center gap-1.5",children:[(0,s.jsx)(S,{className:"w-3.5 h-3.5 text-gray-400"}),"On Duty"]}),(0,s.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:g.is_on_duty,onChange:e=>ek("is_on_duty",e.target.checked),className:"sr-only peer"}),(0,s.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-orange-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"})]})]})]}),g.supervisor_name&&(0,s.jsx)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-100",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-blue-800",children:[(0,s.jsx)(h.UserCog,{className:"w-4 h-4"}),(0,s.jsxs)("span",{children:["Reports to: ",(0,s.jsx)("strong",{children:g.supervisor_name})]})]})})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[eM({icon:et.History,title:"Work Experience",color:"from-violet-500 to-purple-600"}),(0,s.jsxs)("button",{onClick:()=>eS("experience",{companyName:"",title:"",startDate:"",endDate:"",responsibilities:"",lastDrawnSalary:0}),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-cyan-600 hover:bg-cyan-50 rounded-lg transition-colors",children:[(0,s.jsx)(r.Plus,{className:"w-3.5 h-3.5"}),"Add Experience"]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[g.experience?.map((e,a)=>(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:["Experience #",a+1]}),(0,s.jsx)("button",{onClick:()=>eA("experience",a),className:"p-1 text-red-500 hover:bg-red-50 rounded transition-colors",children:(0,s.jsx)(ec.Trash2,{className:"w-4 h-4"})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Company Name"}),(0,s.jsx)("input",{type:"text",value:e.companyName||"",onChange:e=>eP("experience",a,"companyName",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500"})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Job Title"}),(0,s.jsx)("input",{type:"text",value:e.title||"",onChange:e=>eP("experience",a,"title",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500"})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Start Date"}),(0,s.jsx)("input",{type:"date",value:eC(e.startDate),onChange:e=>eP("experience",a,"startDate",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500"})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"End Date"}),(0,s.jsx)("input",{type:"date",value:eC(e.endDate),onChange:e=>eP("experience",a,"endDate",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500"})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Last Drawn Salary"}),(0,s.jsx)("input",{type:"number",value:e.lastDrawnSalary||"",onChange:e=>eP("experience",a,"lastDrawnSalary",Number(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500"})]}),(0,s.jsxs)("div",{className:"md:col-span-2 space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Responsibilities"}),(0,s.jsx)("textarea",{value:e.responsibilities||"",onChange:e=>eP("experience",a,"responsibilities",e.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 resize-none"})]})]})]},a)),(!g.experience||0===g.experience.length)&&(0,s.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No work experience added"})]})]})]}),"documents"===f&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[eM({icon:Z.CreditCard,title:"Government IDs"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[eF({label:"PAN Number",field:"pan_number",nestedPath:"govt_ids.pan_number",icon:Z.CreditCard}),eF({label:"Aadhaar Number",field:"aadhaar_number",nestedPath:"govt_ids.aadhaar_number",icon:Z.CreditCard}),eF({label:"Passport Number",field:"passport_number",nestedPath:"govt_ids.passport_number",icon:D.FileText}),eF({label:"Passport Expiry",field:"passport_expiry",nestedPath:"govt_ids.passport_expiry",type:"date",icon:M.Calendar}),eF({label:"PF Number",field:"pf_number",nestedPath:"govt_ids.pf_number",icon:D.FileText}),eF({label:"ESI Number",field:"esi_number",nestedPath:"govt_ids.esi_number",icon:D.FileText}),eF({label:"Tax Status",field:"tax_status",nestedPath:"govt_ids.tax_status",icon:D.FileText})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[eM({icon:J.GraduationCap,title:"Education",color:"from-blue-500 to-indigo-600"}),(0,s.jsxs)("button",{onClick:()=>eS("education",{qualification:"",institution:"",boardOrUniversity:"",yearOfPassing:"",percentageOrCgpa:"",certificateUrl:""}),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-cyan-600 hover:bg-cyan-50 rounded-lg transition-colors",children:[(0,s.jsx)(r.Plus,{className:"w-3.5 h-3.5"}),"Add Education"]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[g.education?.map((e,a)=>(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:["Education #",a+1]}),(0,s.jsx)("button",{onClick:()=>eA("education",a),className:"p-1 text-red-500 hover:bg-red-50 rounded transition-colors",children:(0,s.jsx)(ec.Trash2,{className:"w-4 h-4"})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Qualification"}),(0,s.jsx)("input",{type:"text",value:e.qualification||"",onChange:e=>eP("education",a,"qualification",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500"})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Institution"}),(0,s.jsx)("input",{type:"text",value:e.institution||"",onChange:e=>eP("education",a,"institution",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500"})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Board/University"}),(0,s.jsx)("input",{type:"text",value:e.boardOrUniversity||"",onChange:e=>eP("education",a,"boardOrUniversity",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500"})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Year of Passing"}),(0,s.jsx)("input",{type:"number",value:e.yearOfPassing||"",onChange:e=>eP("education",a,"yearOfPassing",Number(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500"})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Percentage/CGPA"}),(0,s.jsx)("input",{type:"text",value:e.percentageOrCgpa||"",onChange:e=>eP("education",a,"percentageOrCgpa",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500"})]})]})]},a)),(!g.education||0===g.education.length)&&(0,s.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No education records added"})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[eM({icon:ea.Award,title:"Certifications",color:"from-amber-500 to-orange-600"}),(0,s.jsxs)("button",{onClick:()=>eS("certifications",{title:"",issuer:"",issueDate:"",expiryDate:"",credentialUrl:""}),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-cyan-600 hover:bg-cyan-50 rounded-lg transition-colors",children:[(0,s.jsx)(r.Plus,{className:"w-3.5 h-3.5"}),"Add Certification"]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[g.certifications?.map((e,a)=>(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:["Certification #",a+1]}),(0,s.jsx)("button",{onClick:()=>eA("certifications",a),className:"p-1 text-red-500 hover:bg-red-50 rounded transition-colors",children:(0,s.jsx)(ec.Trash2,{className:"w-4 h-4"})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Title"}),(0,s.jsx)("input",{type:"text",value:e.title||"",onChange:e=>eP("certifications",a,"title",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500"})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Issuer"}),(0,s.jsx)("input",{type:"text",value:e.issuer||"",onChange:e=>eP("certifications",a,"issuer",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500"})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Issue Date"}),(0,s.jsx)("input",{type:"date",value:eC(e.issueDate),onChange:e=>eP("certifications",a,"issueDate",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500"})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Expiry Date"}),(0,s.jsx)("input",{type:"date",value:eC(e.expiryDate),onChange:e=>eP("certifications",a,"expiryDate",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500"})]})]})]},a)),(!g.certifications||0===g.certifications.length)&&(0,s.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No certifications added"})]})]})]}),"finance"===f&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[eM({icon:X.Wallet,title:"Salary Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[eF({label:"Monthly Salary (₹)",field:"salary",type:"number",icon:X.Wallet}),eF({label:"Hourly Rate (₹)",field:"hourly_rate",type:"number",icon:R.Clock,placeholder:"For part-time/hourly workers"})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[eM({icon:T.Landmark,title:"Bank Account Details",color:"from-green-500 to-emerald-600"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[eF({label:"Account Holder Name",field:"account_holder",nestedPath:"bank_details.account_holder",icon:I.User}),eF({label:"Account Number",field:"account_number",nestedPath:"bank_details.account_number",icon:Z.CreditCard}),eF({label:"Bank Name",field:"bank_name",nestedPath:"bank_details.bank_name",icon:T.Landmark}),eF({label:"Branch Name",field:"branch_name",nestedPath:"bank_details.branch_name",icon:m.MapPin}),eF({label:"IFSC Code",field:"ifsc_code",nestedPath:"bank_details.ifsc_code",icon:E.Hash}),eF({label:"UPI ID",field:"upi_id",nestedPath:"bank_details.upi_id",icon:Z.CreditCard})]})]})]}),"additional"===f&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[eM({icon:er.PhoneCall,title:"Emergency Contacts",color:"from-red-500 to-rose-600"}),(0,s.jsxs)("button",{onClick:()=>eS("emergency_contacts",{name:"",relationship:"",phone:"",alternatePhone:"",address:""}),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-cyan-600 hover:bg-cyan-50 rounded-lg transition-colors",children:[(0,s.jsx)(r.Plus,{className:"w-3.5 h-3.5"}),"Add Contact"]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[g.emergency_contacts?.map((e,a)=>(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:["Contact #",a+1]}),(0,s.jsx)("button",{onClick:()=>eA("emergency_contacts",a),className:"p-1 text-red-500 hover:bg-red-50 rounded transition-colors",children:(0,s.jsx)(ec.Trash2,{className:"w-4 h-4"})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Name"}),(0,s.jsx)("input",{type:"text",value:e.name||"",onChange:e=>eP("emergency_contacts",a,"name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500"})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Relationship"}),(0,s.jsxs)("select",{value:e.relationship||"",onChange:e=>eP("emergency_contacts",a,"relationship",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500",children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{value:"Spouse",children:"Spouse"}),(0,s.jsx)("option",{value:"Parent",children:"Parent"}),(0,s.jsx)("option",{value:"Sibling",children:"Sibling"}),(0,s.jsx)("option",{value:"Child",children:"Child"}),(0,s.jsx)("option",{value:"Friend",children:"Friend"}),(0,s.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Phone"}),(0,s.jsx)("input",{type:"tel",value:e.phone||"",onChange:e=>eP("emergency_contacts",a,"phone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500"})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Alternate Phone"}),(0,s.jsx)("input",{type:"tel",value:e.alternatePhone||"",onChange:e=>eP("emergency_contacts",a,"alternatePhone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500"})]}),(0,s.jsxs)("div",{className:"md:col-span-2 space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Address"}),(0,s.jsx)("textarea",{value:e.address||"",onChange:e=>eP("emergency_contacts",a,"address",e.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 resize-none"})]})]})]},a)),(!g.emergency_contacts||0===g.emergency_contacts.length)&&(0,s.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No emergency contacts added"})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[eM({icon:Q.Activity,title:"Medical & HR Information",color:"from-pink-500 to-rose-600"}),(0,s.jsxs)("div",{className:"space-y-4",children:[eF({label:"Medical Conditions",field:"medical_conditions",type:"textarea",icon:Q.Activity,placeholder:"List any medical conditions or allergies..."}),eF({label:"Background Check Status",field:"background_check_status",options:["Pending","In Progress","Passed","Failed"],icon:eo.ShieldCheck}),eF({label:"HR Notes",field:"hr_notes",type:"textarea",icon:D.FileText,placeholder:"Internal HR notes..."})]})]})]})]})}),(0,s.jsx)("div",{className:"border-t border-gray-200 bg-gradient-to-r from-gray-50 via-white to-gray-50 px-5 py-3 flex-shrink-0",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[w&&(0,s.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-amber-100 rounded-lg",children:[(0,s.jsx)(k.AlertCircle,{className:"w-3.5 h-3.5 text-amber-600"}),(0,s.jsxs)("span",{className:"text-xs font-medium text-amber-800",children:[P.size," unsaved change",1!==P.size?"s":""]})]}),(0,s.jsxs)("button",{onClick:()=>{u(JSON.parse(JSON.stringify(p))),B(new Set),_(!1),v({}),W({})},disabled:!w,className:`flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-lg transition-colors ${w?"text-gray-600 hover:bg-gray-100":"text-gray-400 cursor-not-allowed"}`,children:[(0,s.jsx)(C.RefreshCw,{className:"w-3.5 h-3.5"}),"Reset Changes"]})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{onClick:e$,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-all duration-300 font-medium text-sm",children:"Cancel"}),(0,s.jsx)("button",{onClick:e_,disabled:!w||Object.keys(N).length>0||eb,className:`group px-5 py-2 bg-gradient-to-r from-cyan-600 via-blue-600 to-indigo-600 text-white rounded-lg hover:shadow-lg transition-all duration-300 font-medium text-sm flex items-center gap-2 ${!w||Object.keys(N).length>0||eb?"opacity-50 cursor-not-allowed":"transform hover:scale-105"}`,children:eb?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(V.Loader2,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(en.Save,{className:"w-4 h-4"}),"Save Changes",w&&(0,s.jsx)("span",{className:"ml-1 px-2 py-0.5 bg-white/20 rounded-full text-xs",children:P.size})]})})]})]})})]})}),(0,s.jsx)(()=>L?(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[70] p-4",children:(0,s.jsx)("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:(0,s.jsxs)("div",{className:"p-5",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)("div",{className:"p-2 bg-amber-100 rounded-lg",children:(0,s.jsx)(ex.AlertTriangle,{className:"w-5 h-5 text-amber-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Unsaved Changes"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"You have unsaved changes. Are you sure you want to discard them?"})]})]}),(0,s.jsxs)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[(0,s.jsxs)("p",{className:"text-xs font-medium text-gray-700 mb-2",children:["Modified fields (",P.size,"):"]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1 max-h-24 overflow-y-auto",children:Array.from(P).map(e=>(0,s.jsx)("span",{className:"px-2 py-1 bg-white text-xs rounded border border-gray-200",children:e.replace(/_/g," ").replace(/\./g," → ")},e))})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-3 mt-5",children:[(0,s.jsx)("button",{onClick:()=>U(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),(0,s.jsx)("button",{onClick:()=>{U(!1),t()},className:"px-4 py-2 text-sm font-medium bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Discard Changes"})]})]})})}):null,{})]})};e.s(["default",0,()=>{let[e,I]=(0,a.useState)([]),[$,D]=(0,a.useState)(!0),[F,M]=(0,a.useState)(null),[E,T]=(0,a.useState)(!1),[B,L]=(0,a.useState)(!1),[U,R]=(0,a.useState)(null),[O,z]=(0,a.useState)(""),[G,H]=(0,a.useState)("all"),[W,Z]=(0,a.useState)("all"),[J,Y]=(0,a.useState)("table"),[V,X]=(0,a.useState)(!1),[q,Q]=(0,a.useState)(!1),[K,ee]=(0,a.useState)(1);(0,a.useEffect)(()=>{es()},[]);let es=async()=>{D(!0),M(null);try{let e=await fetch(`${el.default}/warehouse/allstaff`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),s=await e.json();s.success?I(s.data||[]):M(s.message||"Failed to fetch staff")}catch(e){M("Failed to fetch staff. Please try again."),console.error("Error fetching staff:",e)}finally{D(!1)}},ea=e=>{R(e),T(!0)},et=e=>{R(e),L(!0)},er=e.filter(e=>{let s=e.name?.toLowerCase().includes(O.toLowerCase())||e.employee_id?.toLowerCase().includes(O.toLowerCase())||e.phone?.includes(O)||e.email?.toLowerCase().includes(O.toLowerCase())||e.warehouse_name?.toLowerCase().includes(O.toLowerCase())||e.warehouse_location?.toLowerCase().includes(O.toLowerCase())||e.designation?.toLowerCase().includes(O.toLowerCase()),a="all"===G||"active"===G&&e.is_active||"inactive"===G&&!e.is_active||"on_duty"===G&&e.is_on_duty||"off_duty"===G&&!e.is_on_duty,t="all"===W||e.designation?.toLowerCase()===W.toLowerCase();return s&&a&&t}),en=Math.ceil(er.length/10),eo=er.slice((K-1)*10,10*K),ed=[...new Set(e.map(e=>e.designation).filter(Boolean))],ec=[{label:"Total Staff",value:e.length,icon:p.Users,color:"from-blue-500 to-cyan-600",bgColor:"bg-blue-50",change:`${e.length}`,trend:"neutral"},{label:"Active",value:e.filter(e=>e.is_active).length,icon:d.CheckCircle2,color:"from-green-500 to-emerald-600",bgColor:"bg-green-50",change:`${Math.round(e.filter(e=>e.is_active).length/e.length*100)||0}%`,trend:"up"},{label:"On Duty",value:e.filter(e=>e.is_on_duty).length,icon:S,color:"from-orange-500 to-amber-600",bgColor:"bg-orange-50",change:`${e.filter(e=>e.is_on_duty).length}`,trend:"up"},{label:"Available",value:e.filter(e=>!e.is_on_duty&&e.is_active).length,icon:P.UserCheck,color:"from-teal-500 to-cyan-600",bgColor:"bg-teal-50",change:`${e.filter(e=>!e.is_on_duty&&e.is_active).length}`,trend:"neutral"}],ex=(e,s)=>e?s?{label:"On Duty",bgColor:"bg-orange-100",textColor:"text-orange-700",dotColor:"bg-orange-500"}:{label:"Available",bgColor:"bg-green-100",textColor:"text-green-700",dotColor:"bg-green-500"}:{label:"Inactive",bgColor:"bg-gray-100",textColor:"text-gray-700",dotColor:"bg-gray-400"},em=e=>{let s={picker:"bg-blue-100 text-blue-700",packer:"bg-purple-100 text-purple-700",loader:"bg-amber-100 text-amber-700",forklift_operator:"bg-red-100 text-red-700",inventory_clerk:"bg-cyan-100 text-cyan-700",quality_checker:"bg-green-100 text-green-700",default:"bg-gray-100 text-gray-700"};return s[e?.toLowerCase()]||s.default},eg=({staffMember:e})=>{let a=ex(e.is_active,e.is_on_duty),t=em(e.designation);return(0,s.jsxs)("div",{className:"bg-white rounded-xl p-4 sm:p-5 shadow-sm border border-gray-100 hover:shadow-xl hover:border-cyan-200 transition-all duration-300 group",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-xl overflow-hidden shadow-md group-hover:shadow-lg transition-shadow",children:(0,s.jsx)("img",{src:e.photo,alt:e.name,className:"w-full h-full object-cover",onError:s=>{s.target.src=`https://ui-avatars.com/api/?name=${e.name}&background=random&size=256`}})}),(0,s.jsx)("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white ${e.is_active?"bg-green-500":"bg-gray-400"}`})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"font-semibold text-gray-900 flex items-center gap-2 text-sm sm:text-base",children:[e.name,e.is_active&&e.is_on_duty&&(0,s.jsx)(S,{className:"w-4 h-4 text-orange-500"})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 font-mono",children:e.employee_id})]})]}),(0,s.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-semibold ${a.bgColor} ${a.textColor}`,children:[(0,s.jsx)("span",{className:`w-1.5 h-1.5 rounded-full ${a.dotColor} animate-pulse`}),a.label]})]}),e.designation&&(0,s.jsx)("div",{className:"mb-3",children:(0,s.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-medium ${t}`,children:[(0,s.jsx)(A.Wrench,{className:"w-3 h-3"}),e.designation.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())]})}),(0,s.jsxs)("div",{className:"bg-gradient-to-r from-cyan-50 to-blue-50 rounded-lg p-3 mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)(u.Building2,{className:"w-4 h-4 text-cyan-600"}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-800",children:e.warehouse_name||"Not Assigned"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-600",children:[(0,s.jsx)(m.MapPin,{className:"w-3 h-3"}),e.warehouse_location||"N/A"]})]}),(0,s.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,s.jsx)("div",{className:"p-1.5 bg-gray-100 rounded-lg",children:(0,s.jsx)(c.Phone,{className:"w-3.5 h-3.5 text-gray-500"})}),(0,s.jsx)("span",{className:"truncate",children:e.phone})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,s.jsx)("div",{className:"p-1.5 bg-gray-100 rounded-lg",children:(0,s.jsx)(x.Mail,{className:"w-3.5 h-3.5 text-gray-500"})}),(0,s.jsx)("span",{className:"truncate text-xs",children:e.email})]})]}),e.supervisor_name&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500 mb-4 pb-3 border-b border-gray-100",children:[(0,s.jsx)(h.UserCog,{className:"w-3.5 h-3.5"}),(0,s.jsxs)("span",{children:["Reports to: ",(0,s.jsx)("span",{className:"font-medium text-gray-700",children:e.supervisor_name})]})]}),(0,s.jsxs)("div",{className:"flex gap-2 pt-3 border-t border-gray-100",children:[(0,s.jsxs)("button",{onClick:()=>ea(e),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2.5 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-all duration-200 text-sm font-medium group-hover:shadow-sm",children:[(0,s.jsx)(n.Eye,{className:"w-4 h-4"}),"View"]}),(0,s.jsxs)("button",{onClick:()=>et(e),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2.5 bg-gradient-to-r from-cyan-500 to-blue-600 text-white rounded-xl hover:shadow-lg hover:shadow-cyan-200 transition-all duration-200 text-sm font-medium",children:[(0,s.jsx)(o.Edit3,{className:"w-4 h-4"}),"Edit"]})]})]})};return $?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"w-16 h-16 border-4 border-cyan-200 rounded-full animate-spin border-t-cyan-600 mx-auto"}),(0,s.jsx)(p.Users,{className:"w-6 h-6 text-cyan-600 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"})]}),(0,s.jsx)("p",{className:"mt-4 text-gray-600 font-medium",children:"Loading staff..."})]})}):F&&0===e.length?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(k.AlertCircle,{className:"w-8 h-8 text-red-600"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Failed to Load Staff"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:F}),(0,s.jsxs)("button",{onClick:es,className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-cyan-600 to-blue-600 text-white rounded-xl hover:shadow-lg transition-all font-medium",children:[(0,s.jsx)(C.RefreshCw,{className:"w-4 h-4"}),"Try Again"]})]})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100 p-3 sm:p-4 lg:p-6 space-y-4 sm:space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[(0,s.jsxs)("div",{className:"w-full sm:w-auto",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 mb-2",children:[(0,s.jsx)("div",{className:"p-2 sm:p-2.5 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-lg sm:rounded-xl shadow-lg shadow-cyan-200",children:(0,s.jsx)(p.Users,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),(0,s.jsx)("h1",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 bg-clip-text text-transparent",children:"Staff Management"}),(0,s.jsx)(g.Sparkles,{className:"w-4 h-4 sm:w-5 sm:h-5 text-amber-500 animate-pulse"})]}),(0,s.jsx)("p",{className:"text-gray-500 text-xs sm:text-sm ml-0 sm:ml-14",children:"Manage and monitor all warehouse staff members"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 w-full sm:w-auto",children:[(0,s.jsx)("button",{onClick:()=>X(!V),className:"sm:hidden p-2 bg-white border border-gray-200 rounded-lg",children:(0,s.jsx)(y.Menu,{className:"w-5 h-5 text-gray-600"})}),(0,s.jsxs)("button",{onClick:es,className:"flex items-center justify-center gap-2 px-3 sm:px-4 py-2 sm:py-2.5 bg-white border border-gray-200 rounded-lg sm:rounded-xl hover:bg-gray-50 hover:border-gray-300 transition-all duration-200 text-gray-600 text-xs sm:text-sm font-medium shadow-sm",children:[(0,s.jsx)(C.RefreshCw,{className:`w-4 h-4 ${$?"animate-spin":""}`}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Refresh"})]}),(0,s.jsxs)("button",{className:"flex items-center justify-center gap-2 px-3 sm:px-4 py-2 sm:py-2.5 bg-white border border-gray-200 rounded-lg sm:rounded-xl hover:bg-gray-50 hover:border-gray-300 transition-all duration-200 text-gray-600 text-xs sm:text-sm font-medium shadow-sm flex-1 sm:flex-initial",children:[(0,s.jsx)(i.Download,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Export"})]}),(0,s.jsxs)("button",{className:"flex items-center justify-center gap-2 px-3 sm:px-5 py-2 sm:py-2.5 bg-gradient-to-r from-cyan-600 to-blue-600 text-white rounded-lg sm:rounded-xl hover:shadow-lg hover:shadow-cyan-200 transition-all duration-300 text-xs sm:text-sm font-semibold flex-1 sm:flex-initial",children:[(0,s.jsx)(r.Plus,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Add Staff"})]})]})]}),V&&(0,s.jsxs)("div",{className:"sm:hidden bg-white rounded-xl shadow-lg border border-gray-100 p-4 space-y-3 animate-in slide-in-from-top duration-200",children:[(0,s.jsxs)("button",{onClick:()=>{Q(!q),X(!1)},className:"w-full flex items-center justify-between px-3 py-2 bg-gray-50 rounded-lg text-sm font-medium text-gray-700",children:[(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[(0,s.jsx)(l.Filter,{className:"w-4 h-4"}),"Filters"]}),(0,s.jsx)(f.ChevronRight,{className:"w-4 h-4"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"View Type"}),(0,s.jsxs)("div",{className:"flex gap-1 bg-gray-100 p-1 rounded-lg",children:[(0,s.jsx)("button",{onClick:()=>Y("table"),className:`p-1.5 rounded ${"table"===J?"bg-white shadow-sm":""}`,children:(0,s.jsx)(v.List,{className:"w-4 h-4 text-gray-600"})}),(0,s.jsx)("button",{onClick:()=>Y("grid"),className:`p-1.5 rounded ${"grid"===J?"bg-white shadow-sm":""}`,children:(0,s.jsx)(N.Grid3x3,{className:"w-4 h-4 text-gray-600"})})]})]})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:ec.map((e,a)=>(0,s.jsxs)("div",{className:"bg-white rounded-lg sm:rounded-2xl p-3 sm:p-5 shadow-sm border border-gray-100 hover:shadow-lg hover:border-gray-200 transition-all duration-300 group relative overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute top-0 right-0 w-20 sm:w-32 h-20 sm:h-32 bg-gradient-to-br from-gray-50 to-transparent rounded-full -translate-y-8 sm:-translate-y-16 translate-x-8 sm:translate-x-16 group-hover:scale-150 transition-transform duration-500"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-2 sm:mb-3",children:[(0,s.jsx)("div",{className:`p-2 sm:p-3 bg-gradient-to-br ${e.color} rounded-lg sm:rounded-xl shadow-lg group-hover:scale-110 group-hover:rotate-3 transition-all duration-300`,children:(0,s.jsx)(e.icon,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),(0,s.jsxs)("div",{className:`flex items-center gap-1 text-xs ${"up"===e.trend?"text-green-600":"down"===e.trend?"text-red-600":"text-gray-500"}`,children:["up"===e.trend&&(0,s.jsx)(w.ArrowUpRight,{className:"w-3 h-3"}),"down"===e.trend&&(0,s.jsx)(_.ArrowDownRight,{className:"w-3 h-3"}),(0,s.jsx)("span",{className:"font-medium",children:e.change})]})]}),(0,s.jsx)("p",{className:"text-[10px] sm:text-xs font-medium text-gray-500 uppercase tracking-wider mb-1",children:e.label}),(0,s.jsx)("p",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:e.value})]})]},a))}),(0,s.jsxs)("div",{className:"bg-white rounded-lg sm:rounded-2xl shadow-sm border border-gray-100 p-3 sm:p-4",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-4",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)(t.Search,{className:"w-4 h-4 absolute left-3 sm:left-4 top-1/2 -translate-y-1/2 text-gray-400"}),(0,s.jsx)("input",{type:"text",placeholder:"Search by name, ID, phone, email, warehouse, designation...",value:O,onChange:e=>z(e.target.value),className:"w-full pl-9 sm:pl-11 pr-3 sm:pr-4 py-2 sm:py-2.5 bg-gray-50 border border-gray-200 rounded-lg sm:rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent focus:bg-white transition-all duration-200 text-sm"})]}),(0,s.jsx)("div",{className:"hidden sm:flex items-center gap-2",children:["all","active","inactive","on_duty","off_duty"].map(e=>(0,s.jsx)("button",{onClick:()=>H(e),className:`px-3 py-2 text-xs font-medium rounded-lg capitalize transition-all duration-200 ${G===e?"bg-cyan-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:e.replace(/_/g," ")},e))}),ed.length>0&&(0,s.jsx)("div",{className:"hidden lg:block",children:(0,s.jsxs)("select",{value:W,onChange:e=>Z(e.target.value),className:"px-3 py-2 text-xs font-medium rounded-lg border border-gray-200 bg-gray-50 focus:ring-2 focus:ring-cyan-500 focus:border-transparent",children:[(0,s.jsx)("option",{value:"all",children:"All Roles"}),ed.map(e=>(0,s.jsx)("option",{value:e,children:e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())},e))]})}),(0,s.jsxs)("button",{onClick:()=>Q(!q),className:"sm:hidden flex items-center justify-center gap-2 px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-gray-600 text-sm font-medium",children:[(0,s.jsx)(l.Filter,{className:"w-4 h-4"}),"Filters",("all"!==G||"all"!==W)&&(0,s.jsx)("span",{className:"w-2 h-2 rounded-full bg-cyan-500"})]}),(0,s.jsxs)("div",{className:"hidden lg:flex gap-1 bg-gray-100 p-1 rounded-lg",children:[(0,s.jsx)("button",{onClick:()=>Y("table"),className:`p-1.5 rounded transition-all ${"table"===J?"bg-white shadow-sm text-cyan-600":"text-gray-600"}`,title:"Table View",children:(0,s.jsx)(v.List,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:()=>Y("grid"),className:`p-1.5 rounded transition-all ${"grid"===J?"bg-white shadow-sm text-cyan-600":"text-gray-600"}`,title:"Grid View",children:(0,s.jsx)(N.Grid3x3,{className:"w-4 h-4"})})]})]}),q&&(0,s.jsxs)("div",{className:"sm:hidden mt-3 pt-3 border-t border-gray-100 animate-in slide-in-from-top duration-200 space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-xs text-gray-500 font-medium",children:"Filter by status:"}),(0,s.jsx)("button",{onClick:()=>Q(!1),className:"p-1 hover:bg-gray-100 rounded",children:(0,s.jsx)(j.X,{className:"w-4 h-4 text-gray-400"})})]}),(0,s.jsx)("div",{className:"flex gap-2 flex-wrap",children:["all","active","inactive","on_duty","off_duty"].map(e=>(0,s.jsx)("button",{onClick:()=>{H(e)},className:`px-3 py-1.5 text-xs font-medium rounded-lg capitalize transition-all duration-200 ${G===e?"bg-cyan-600 text-white":"bg-gray-100 text-gray-600"}`,children:e.replace(/_/g," ")},e))}),ed.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"text-xs text-gray-500 font-medium mt-2",children:"Filter by role:"}),(0,s.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,s.jsx)("button",{onClick:()=>Z("all"),className:`px-3 py-1.5 text-xs font-medium rounded-lg transition-all duration-200 ${"all"===W?"bg-cyan-600 text-white":"bg-gray-100 text-gray-600"}`,children:"All Roles"}),ed.map(e=>(0,s.jsx)("button",{onClick:()=>Z(e),className:`px-3 py-1.5 text-xs font-medium rounded-lg transition-all duration-200 ${W===e?"bg-cyan-600 text-white":"bg-gray-100 text-gray-600"}`,children:e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())},e))]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Showing"," ",(0,s.jsx)("span",{className:"font-semibold text-gray-700",children:eo.length})," ","of"," ",(0,s.jsx)("span",{className:"font-semibold text-gray-700",children:er.length})," ","staff members"]}),("all"!==G||"all"!==W)&&(0,s.jsxs)("button",{onClick:()=>{H("all"),Z("all")},className:"text-xs text-cyan-600 hover:text-cyan-700 font-medium flex items-center gap-1",children:["Clear filters",(0,s.jsx)(j.X,{className:"w-3 h-3"})]})]}),"table"===J&&(0,s.jsxs)("div",{className:"hidden lg:block bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200",children:[(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Staff Member"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Designation"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Warehouse"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Contact"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Status"}),(0,s.jsx)("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-100",children:eo.map(e=>{let a=ex(e.is_active,e.is_on_duty),t=em(e.designation);return(0,s.jsxs)("tr",{className:"hover:bg-gradient-to-r hover:from-cyan-50/30 hover:to-white transition-all duration-200 group",children:[(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"w-11 h-11 rounded-xl overflow-hidden shadow-md group-hover:shadow-lg transition-all duration-200",children:(0,s.jsx)("img",{src:e.photo,alt:e.name,className:"w-full h-full object-cover",onError:s=>{s.target.src=`https://ui-avatars.com/api/?name=${e.name}&background=random&size=256`}})}),(0,s.jsx)("div",{className:`absolute -bottom-0.5 -right-0.5 w-3.5 h-3.5 rounded-full border-2 border-white ${e.is_active?"bg-green-500":"bg-gray-400"}`})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"font-semibold text-gray-900 text-sm flex items-center gap-2",children:[e.name,e.is_active&&e.is_on_duty&&(0,s.jsx)(S,{className:"w-4 h-4 text-orange-500"})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 font-mono",children:e.employee_id})]})]})}),(0,s.jsx)("td",{className:"px-6 py-4",children:e.designation?(0,s.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-medium ${t}`,children:[(0,s.jsx)(A.Wrench,{className:"w-3 h-3"}),e.designation.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())]}):(0,s.jsx)("span",{className:"text-xs text-gray-400",children:"Not Assigned"})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"p-2 bg-cyan-50 rounded-lg",children:(0,s.jsx)(u.Building2,{className:"w-4 h-4 text-cyan-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.warehouse_name||"Not Assigned"}),(0,s.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[(0,s.jsx)(m.MapPin,{className:"w-3 h-3"}),e.warehouse_location||"N/A"]})]})]})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,s.jsx)(c.Phone,{className:"w-3.5 h-3.5 text-gray-400"}),e.phone]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[(0,s.jsx)(x.Mail,{className:"w-3 h-3 text-gray-400"}),e.email]})]})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-semibold ${a.bgColor} ${a.textColor}`,children:[(0,s.jsx)("span",{className:`w-1.5 h-1.5 rounded-full ${a.dotColor} animate-pulse`}),a.label]}),e.supervisor_name&&(0,s.jsxs)("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[(0,s.jsx)(h.UserCog,{className:"w-3 h-3"}),e.supervisor_name]})]})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,s.jsxs)("button",{onClick:()=>ea(e),className:"flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-all duration-200 text-xs font-semibold",children:[(0,s.jsx)(n.Eye,{className:"w-3.5 h-3.5"}),"View"]}),(0,s.jsxs)("button",{onClick:()=>et(e),className:"flex items-center gap-1.5 px-3 py-1.5 bg-gradient-to-r from-cyan-500 to-blue-500 text-white rounded-lg hover:shadow-md hover:shadow-cyan-200 transition-all duration-200 text-xs font-semibold",children:[(0,s.jsx)(o.Edit3,{className:"w-3.5 h-3.5"}),"Edit"]})]})})]},e._id)})})]})}),en>1&&(0,s.jsxs)("div",{className:"px-6 py-4 bg-gradient-to-r from-gray-50 to-white border-t border-gray-100 flex items-center justify-between",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Page"," ",(0,s.jsx)("span",{className:"font-semibold text-gray-700",children:K})," ","of"," ",(0,s.jsx)("span",{className:"font-semibold text-gray-700",children:en})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>ee(e=>Math.max(1,e-1)),disabled:1===K,className:"px-3 py-1.5 text-sm font-medium text-gray-600 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:Math.min(5,en)},(e,a)=>{let t;return t=en<=5||K<=3?a+1:K>=en-2?en-4+a:K-2+a,(0,s.jsx)("button",{onClick:()=>ee(t),className:`px-3 py-1.5 text-sm font-medium rounded-lg transition-colors ${K===t?"bg-cyan-600 text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,children:t},t)}),(0,s.jsx)("button",{onClick:()=>ee(e=>Math.min(en,e+1)),disabled:K===en,className:"px-3 py-1.5 text-sm font-medium text-gray-600 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),"grid"===J&&(0,s.jsx)("div",{className:"hidden lg:grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:eo.map(e=>(0,s.jsx)(eg,{staffMember:e},e._id))}),(0,s.jsx)("div",{className:"lg:hidden grid grid-cols-1 sm:grid-cols-2 gap-3",children:eo.map(e=>(0,s.jsx)(eg,{staffMember:e},e._id))}),0===er.length&&!$&&(0,s.jsxs)("div",{className:"bg-white rounded-xl sm:rounded-2xl p-8 sm:p-16 text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(p.Users,{className:"w-8 h-8 text-gray-400"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No staff members found"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:O||"all"!==G||"all"!==W?"Try adjusting your search or filter criteria":"No staff members have been added yet"}),(O||"all"!==G||"all"!==W)&&(0,s.jsxs)("button",{onClick:()=>{z(""),H("all"),Z("all")},className:"inline-flex items-center gap-2 px-4 py-2 text-cyan-600 hover:bg-cyan-50 rounded-lg transition-colors text-sm font-medium",children:[(0,s.jsx)(C.RefreshCw,{className:"w-4 h-4"}),"Clear filters"]})]}),er.length>0&&en>1&&(0,s.jsx)("div",{className:"lg:hidden bg-white rounded-xl p-3 border border-gray-100",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:["Page ",(0,s.jsx)("span",{className:"font-semibold text-gray-700",children:K})," ","of ",(0,s.jsx)("span",{className:"font-semibold text-gray-700",children:en})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>ee(e=>Math.max(1,e-1)),disabled:1===K,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:(0,s.jsx)(b.ChevronLeft,{className:"w-4 h-4"})}),(0,s.jsx)("span",{className:"px-3 py-1 bg-cyan-600 text-white text-sm font-medium rounded-lg",children:K}),(0,s.jsx)("button",{onClick:()=>ee(e=>Math.min(en,e+1)),disabled:K===en,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:(0,s.jsx)(f.ChevronRight,{className:"w-4 h-4"})})]})]})})]}),(0,s.jsx)(ei,{isOpen:E,onClose:()=>T(!1),staffId:U?._id}),(0,s.jsx)(eb,{isOpen:B,onClose:()=>L(!1),staffId:U?._id,onSave:e=>{I(s=>s.map(s=>s._id===e._id?{...s,...e}:s)),L(!1)}})]})}],68562)}]);