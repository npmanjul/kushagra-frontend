(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,88844,e=>{"use strict";let a=(0,e.i(75254).default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);e.s(["Package",()=>a],88844)},12426,e=>{"use strict";let a=(0,e.i(75254).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>a],12426)},63059,e=>{"use strict";let a=(0,e.i(75254).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>a],63059)},87316,e=>{"use strict";let a=(0,e.i(75254).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>a],87316)},73375,e=>{"use strict";let a=(0,e.i(75254).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["ChevronLeft",()=>a],73375)},47615,e=>{"use strict";let a=(0,e.i(75254).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);e.s(["Filter",()=>a],47615)},19897,31026,e=>{"use strict";var a=e.i(75254);let s=(0,a.default)("chevrons-left",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);e.s(["ChevronsLeft",()=>s],19897);let t=(0,a.default)("chevrons-right",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);e.s(["ChevronsRight",()=>t],31026)},84577,e=>{"use strict";let a=(0,e.i(75254).default)("circle-arrow-down",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);e.s(["ArrowDownCircle",()=>a],84577)},43034,e=>{"use strict";let a=(0,e.i(75254).default)("circle-arrow-up",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);e.s(["ArrowUpCircle",()=>a],43034)},72998,e=>{"use strict";var a=e.i(43476),s=e.i(71645),t=e.i(81949),r=e.i(84577),l=e.i(43034),i=e.i(52754),d=e.i(12426),o=e.i(73375),n=e.i(63059),c=e.i(69638),x=e.i(73884),m=e.i(3116),g=e.i(84614),h=e.i(46897),p=e.i(87316),b=e.i(88844),u=e.i(47615),y=e.i(16715),j=e.i(86536),f=e.i(25652),N=e.i(19897),v=e.i(31026),w=e.i(31795);e.s(["default",0,()=>{let[e,k]=(0,s.useState)([]),[C,_]=(0,s.useState)(!0),[z,P]=(0,s.useState)(null),[A,M]=(0,s.useState)(""),[S,R]=(0,s.useState)(1),[$,D]=(0,s.useState)(""),[U,q]=(0,s.useState)({currentPage:1,limit:20,totalRecords:0,totalPages:1}),[L,T]=(0,s.useState)({sell:0,deposit:0,withdraw:0,loan:0}),[F,I]=(0,s.useState)(null),[W,E]=(0,s.useState)(!1),X=[{key:"",label:"All",icon:u.Filter,color:"bg-gradient-to-r from-slate-600 to-slate-700",lightColor:"bg-slate-50",textColor:"text-slate-600",accent:"border-slate-400"},{key:"deposit",label:"Deposit",icon:r.ArrowDownCircle,color:"bg-gradient-to-r from-emerald-500 to-teal-500",lightColor:"bg-emerald-50",textColor:"text-emerald-600",accent:"border-emerald-400"},{key:"withdraw",label:"Withdraw",icon:l.ArrowUpCircle,color:"bg-gradient-to-r from-orange-400 to-amber-500",lightColor:"bg-orange-50",textColor:"text-orange-600",accent:"border-orange-400"},{key:"sell",label:"Sell",icon:d.DollarSign,color:"bg-gradient-to-r from-sky-500 to-blue-500",lightColor:"bg-sky-50",textColor:"text-sky-600",accent:"border-sky-400"},{key:"loan",label:"Loan",icon:i.Wallet,color:"bg-gradient-to-r from-violet-500 to-purple-500",lightColor:"bg-violet-50",textColor:"text-violet-600",accent:"border-violet-400"}];(0,s.useEffect)(()=>{B()},[A,S]);let B=async()=>{_(!0),P(null);try{let e=await t.default.get(`${w.default}/transaction/getalltransactions`,{params:{transaction_type:A,limit:20,page:S},headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});k(e.data.data||[]),q(e.data.pagination||{currentPage:1,limit:20,totalRecords:0,totalPages:1}),T(e.data.transactionCounts||{sell:0,deposit:0,withdraw:0,loan:0}),D(e.data.warehouse)}catch(e){P("Failed to fetch transactions. Please try again."),console.error("Error fetching transactions:",e)}finally{_(!1)}},G=e=>{let s={completed:{color:"bg-green-100 text-green-800 border-green-200",icon:c.CheckCircle,gradient:"bg-gradient-to-r from-green-500 to-emerald-500"},pending:{color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:m.Clock,gradient:"bg-gradient-to-r from-yellow-500 to-amber-500"},rejected:{color:"bg-red-100 text-red-800 border-red-200",icon:x.XCircle,gradient:"bg-gradient-to-r from-red-500 to-rose-500"}},t=s[e]||s.pending,r=t.icon;return(0,a.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-semibold border shadow-sm ${t.color}`,children:[(0,a.jsx)(r,{size:14}),e?.charAt(0).toUpperCase()+e?.slice(1)]})},H=e=>{let s={deposit:{icon:r.ArrowDownCircle,color:"text-green-600 bg-green-100"},withdraw:{icon:l.ArrowUpCircle,color:"text-orange-600 bg-orange-100"},sell:{icon:d.DollarSign,color:"text-blue-600 bg-blue-100"},loan:{icon:i.Wallet,color:"text-purple-600 bg-purple-100"}},t=s[e]||s.deposit,o=t.icon;return(0,a.jsx)("div",{className:`p-3 rounded-2xl ${t.color} shadow-sm`,children:(0,a.jsx)(o,{size:24,strokeWidth:2})})},O=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",V=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(e||0),K=({approval:e})=>{if(!e)return null;let s=[{label:"Supervisor",data:e.supervisor_approval,shortLabel:"SUP"},{label:"Manager",data:e.manager_approval,shortLabel:"MGR"},{label:"Admin",data:e.admin_approval,shortLabel:"ADM"}];return(0,a.jsx)("div",{className:"flex items-center gap-1.5 flex-wrap",children:s.map((e,s)=>(0,a.jsxs)("div",{className:`flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-medium transition-all ${e.data?.status?"bg-green-100 text-green-700 border border-green-200":e.data?.date?"bg-red-100 text-red-700 border border-red-200":"bg-gray-100 text-gray-500 border border-gray-200"}`,title:e.label,children:[e.data?.status?(0,a.jsx)(c.CheckCircle,{size:12}):e.data?.date?(0,a.jsx)(x.XCircle,{size:12}):(0,a.jsx)(m.Clock,{size:12}),(0,a.jsx)("span",{className:"hidden sm:inline",children:e.label}),(0,a.jsx)("span",{className:"sm:hidden",children:e.shortLabel})]},s))})};return(0,a.jsx)("div",{className:"min-h-screen p-4 ",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 bg-clip-text text-transparent mb-2",children:"Transactions"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Manage and track all your grain transactions"})]}),(0,a.jsx)("p",{className:"text-gray-100 font-bold bg-blue-600 px-6 py-1 rounded-full",children:$})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:X.slice(1).map(e=>{let s=L[e.key]||0;return(0,a.jsxs)("div",{onClick:()=>{M(e.key),R(1)},className:`relative overflow-hidden bg-white rounded-2xl p-5 shadow-sm border-2 transition-all cursor-pointer group hover:shadow-xl ${A===e.key?"border-blue-400 shadow-lg shadow-blue-100":"border-gray-100 hover:border-gray-200"}`,children:[(0,a.jsx)("div",{className:`absolute top-0 right-0 w-20 h-20 ${e.lightColor} rounded-bl-full opacity-50 group-hover:opacity-100 transition-opacity`}),(0,a.jsx)("div",{className:`relative z-10 w-12 h-12 ${e.color} rounded-2xl flex items-center justify-center mb-4 shadow-lg`,children:(0,a.jsx)(e.icon,{size:24,className:"text-white"})}),(0,a.jsx)("p",{className:"text-gray-500 text-sm font-medium relative z-10",children:e.label}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-800 mt-1 relative z-10",children:s}),A===e.key&&(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-500 to-indigo-500"})]},e.key)})}),(0,a.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 mb-6 p-2",children:(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:X.map(e=>(0,a.jsxs)("button",{onClick:()=>{M(e.key),R(1)},className:`flex items-center gap-2 px-5 py-3 rounded-xl font-semibold text-sm transition-all ${A===e.key?`${e.color} text-white shadow-lg`:`${e.textColor} hover:bg-gray-100`}`,children:[(0,a.jsx)(e.icon,{size:18}),e.label,""===e.key?(0,a.jsx)("span",{className:"ml-1 px-2 py-0.5 bg-white/20 rounded-lg text-xs",children:L.sell+L.deposit+L.withdraw+L.loan}):(0,a.jsx)("span",{className:`ml-1 px-2 py-0.5 rounded-lg text-xs ${A===e.key?"bg-white/20":"bg-gray-100"}`,children:L[e.key]||0})]},e.key))})}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("p",{className:"text-gray-600",children:["Showing ",(0,a.jsx)("span",{className:"font-bold text-gray-800",children:e.length})," of"," ",(0,a.jsx)("span",{className:"font-bold text-gray-800",children:U.totalRecords})," transactions"]}),A&&(0,a.jsxs)("span",{className:`px-3 py-1 rounded-lg text-xs font-semibold ${X.find(e=>e.key===A)?.lightColor} ${X.find(e=>e.key===A)?.textColor}`,children:[A.charAt(0).toUpperCase()+A.slice(1)," only"]})]}),(0,a.jsxs)("button",{onClick:B,disabled:C,className:"flex items-center gap-2 px-5 py-2.5 bg-white rounded-xl border border-gray-200 text-gray-700 hover:bg-gray-50 hover:border-gray-300 transition-all font-medium shadow-sm",children:[(0,a.jsx)(y.RefreshCw,{size:16,className:C?"animate-spin":""}),"Refresh"]})]}),C&&(0,a.jsx)("div",{className:"flex items-center justify-center py-24",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-6",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"w-16 h-16 border-4 border-blue-200 rounded-full animate-pulse"}),(0,a.jsx)("div",{className:"absolute top-0 left-0 w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})]}),(0,a.jsx)("p",{className:"text-gray-500 font-medium",children:"Loading transactions..."})]})}),z&&!C&&(0,a.jsxs)("div",{className:"bg-red-50 border-2 border-red-200 rounded-2xl p-8 text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(x.XCircle,{className:"w-8 h-8 text-red-500"})}),(0,a.jsx)("p",{className:"text-red-700 font-semibold text-lg mb-2",children:"Oops! Something went wrong"}),(0,a.jsx)("p",{className:"text-red-600 mb-4",children:z}),(0,a.jsx)("button",{onClick:B,className:"px-6 py-2.5 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-colors font-semibold shadow-lg shadow-red-200",children:"Try Again"})]}),!C&&!z&&(0,a.jsx)("div",{className:"space-y-4",children:0===e.length?(0,a.jsxs)("div",{className:"bg-white rounded-2xl p-16 text-center shadow-sm border border-gray-100",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-6",children:(0,a.jsx)(b.Package,{className:"w-10 h-10 text-gray-400"})}),(0,a.jsx)("p",{className:"text-gray-700 text-xl font-semibold mb-2",children:"No transactions found"}),(0,a.jsx)("p",{className:"text-gray-500",children:A?`No ${A} transactions available. Try a different filter.`:"No transactions available yet. Check back later."})]}):e.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5 hover:shadow-xl hover:border-blue-200 transition-all cursor-pointer group",onClick:()=>{I(e),E(!0)},children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[H(e.transaction_type),(0,a.jsxs)("div",{className:"flex items-center gap-3 min-w-0",children:[(0,a.jsx)("img",{src:e.user_id?.farmerProfile?.user_image||"/placeholder-user.png",alt:e.user_id?.name,className:"w-12 h-12 rounded-xl object-cover border-2 border-gray-100 shadow-sm flex-shrink-0",onError:a=>{a.target.src="https://ui-avatars.com/api/?name="+encodeURIComponent(e.user_id?.name||"User")}}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("p",{className:"font-bold text-gray-800 truncate",children:e.user_id?.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500 truncate",children:e.user_id?.farmerProfile?.farmerId})]})]})]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:e.grain?.map((e,s)=>(0,a.jsxs)("span",{className:"inline-flex items-center px-3 py-1.5 bg-blue-50 text-blue-700 rounded-lg text-sm font-semibold border border-blue-100",children:[(0,a.jsx)(b.Package,{size:14,className:"mr-1.5"}),e.category_id?.grain_type,(0,a.jsxs)("span",{className:"ml-1 text-blue-500",children:["(",e.quantity_quintal?.toFixed(2)," qtl)"]})]},s))}),(0,a.jsx)(K,{approval:e.approval_status})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between lg:justify-end gap-4 pt-4 lg:pt-0 border-t lg:border-t-0 border-gray-100",children:[(0,a.jsxs)("div",{className:"text-left lg:text-right",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-800",children:V(e.total_amount)}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 flex items-center gap-1 lg:justify-end",children:[(0,a.jsx)(p.Calendar,{size:14}),O(e.transaction_date)]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[G(e.transaction_status),(0,a.jsx)("button",{className:"opacity-0 group-hover:opacity-100 transition-all p-2 bg-gray-100 rounded-xl hover:bg-blue-100 hover:text-blue-600",children:(0,a.jsx)(j.Eye,{size:18})})]})]})]}),(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-100 flex flex-wrap items-center gap-4",children:[e.warehouse_id&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-gray-600 bg-gray-50 px-3 py-1.5 rounded-lg",children:[(0,a.jsx)(h.MapPin,{size:14,className:"text-purple-500"}),(0,a.jsxs)("span",{className:"text-sm",children:[e.warehouse_id.name,", ",e.warehouse_id.location]})]}),e.remarks&&(0,a.jsx)("div",{className:"flex items-center gap-2 bg-amber-50 px-3 py-1.5 rounded-lg",children:(0,a.jsx)("span",{className:"text-sm text-amber-700 font-medium capitalize",children:e.remarks.replace(/_/g," ")})})]})]},e._id))}),!C&&!z&&(0,a.jsx)(()=>U.totalPages<=1?null:(0,a.jsxs)("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-between gap-4 bg-white rounded-2xl p-4 shadow-sm border border-gray-100",children:[(0,a.jsxs)("p",{className:"text-gray-600 text-sm",children:["Showing ",(0,a.jsx)("span",{className:"font-bold text-gray-800",children:(S-1)*U.limit+1})," to"," ",(0,a.jsx)("span",{className:"font-bold text-gray-800",children:Math.min(S*U.limit,U.totalRecords)})," of"," ",(0,a.jsx)("span",{className:"font-bold text-gray-800",children:U.totalRecords})," transactions"]}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)("button",{onClick:()=>R(1),disabled:1===S,className:"p-2 rounded-xl border border-gray-200 text-gray-600 hover:bg-gray-100 disabled:opacity-40 disabled:cursor-not-allowed transition-all",title:"First Page",children:(0,a.jsx)(N.ChevronsLeft,{size:18})}),(0,a.jsxs)("button",{onClick:()=>R(e=>Math.max(e-1,1)),disabled:1===S,className:"flex items-center gap-1 px-3 py-2 rounded-xl border border-gray-200 text-gray-600 hover:bg-gray-100 disabled:opacity-40 disabled:cursor-not-allowed transition-all",children:[(0,a.jsx)(o.ChevronLeft,{size:18}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Prev"})]}),(0,a.jsx)("div",{className:"hidden sm:flex items-center gap-1",children:(()=>{let e=[],a=Math.max(1,S-Math.floor(2.5)),s=Math.min(U.totalPages,a+5-1);s-a+1<5&&(a=Math.max(1,s-5+1));for(let t=a;t<=s;t++)e.push(t);return e})().map(e=>(0,a.jsx)("button",{onClick:()=>R(e),className:`w-10 h-10 rounded-xl font-semibold transition-all ${S===e?"bg-gradient-to-r from-blue-500 to-indigo-600 text-white shadow-lg shadow-blue-200":"text-gray-600 hover:bg-gray-100 border border-gray-200"}`,children:e},e))}),(0,a.jsxs)("div",{className:"sm:hidden px-3 py-2 bg-gray-100 rounded-xl",children:[(0,a.jsx)("span",{className:"font-semibold text-gray-800",children:S}),(0,a.jsxs)("span",{className:"text-gray-500",children:[" / ",U.totalPages]})]}),(0,a.jsxs)("button",{onClick:()=>R(e=>Math.min(e+1,U.totalPages)),disabled:S===U.totalPages,className:"flex items-center gap-1 px-3 py-2 rounded-xl border border-gray-200 text-gray-600 hover:bg-gray-100 disabled:opacity-40 disabled:cursor-not-allowed transition-all",children:[(0,a.jsx)("span",{className:"hidden sm:inline",children:"Next"}),(0,a.jsx)(n.ChevronRight,{size:18})]}),(0,a.jsx)("button",{onClick:()=>R(U.totalPages),disabled:S===U.totalPages,className:"p-2 rounded-xl border border-gray-200 text-gray-600 hover:bg-gray-100 disabled:opacity-40 disabled:cursor-not-allowed transition-all",title:"Last Page",children:(0,a.jsx)(v.ChevronsRight,{size:18})})]})]}),{}),W&&(0,a.jsx)(({transaction:e,onClose:s})=>e?(0,a.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-100 px-6 py-5 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Transaction Details"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-0.5",children:["ID: ",e._id?.slice(-8).toUpperCase()]})]}),(0,a.jsx)("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",children:(0,a.jsx)(x.XCircle,{size:24,className:"text-gray-400 hover:text-gray-600"})})]}),(0,a.jsxs)("div",{className:"p-6 space-y-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 rounded-2xl p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[H(e.transaction_type),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Transaction Type"}),(0,a.jsx)("p",{className:"text-lg font-bold text-gray-800 capitalize",children:e.transaction_type})]})]}),G(e.transaction_status)]}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-5 border border-blue-100",children:[(0,a.jsxs)("h4",{className:"text-sm font-semibold text-gray-600 mb-3 flex items-center gap-2",children:[(0,a.jsx)(g.User,{size:16}),"Farmer Details"]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("img",{src:e.user_id?.farmerProfile?.user_image||"/placeholder-user.png",alt:e.user_id?.name,className:"w-16 h-16 rounded-2xl object-cover border-4 border-white shadow-lg",onError:a=>{a.target.src="https://ui-avatars.com/api/?name="+encodeURIComponent(e.user_id?.name||"User")}}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-bold text-gray-800 text-lg",children:e.user_id?.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.user_id?.email}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.user_id?.phone_number}),(0,a.jsx)("span",{className:"inline-block mt-2 px-3 py-1 bg-blue-100 text-blue-700 rounded-lg text-xs font-semibold",children:e.user_id?.farmerProfile?.farmerId})]})]})]}),e.warehouse_id&&(0,a.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-purple-50 rounded-2xl border border-purple-100",children:[(0,a.jsx)("div",{className:"p-3 bg-purple-100 rounded-xl",children:(0,a.jsx)(h.MapPin,{className:"text-purple-600",size:24})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Warehouse"}),(0,a.jsx)("p",{className:"font-bold text-gray-800",children:e.warehouse_id.name}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.warehouse_id.location})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[(0,a.jsx)(b.Package,{size:18}),"Grain Details"]}),(0,a.jsx)("div",{className:"space-y-3",children:e.grain?.map((e,s)=>(0,a.jsxs)("div",{className:"border-2 border-gray-100 rounded-2xl p-4 hover:border-blue-200 transition-all bg-white shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("span",{className:"font-bold text-gray-800 text-lg",children:e.category_id?.grain_type}),(0,a.jsxs)("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-lg text-sm font-semibold",children:["Grade ",e.category_id?.quality]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"bg-gray-50 rounded-xl p-3",children:[(0,a.jsx)("p",{className:"text-gray-500 text-xs",children:"Quantity"}),(0,a.jsxs)("p",{className:"font-bold text-gray-800",children:[e.quantity_quintal?.toFixed(2)," qtl"]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-xl p-3",children:[(0,a.jsx)("p",{className:"text-gray-500 text-xs",children:"Price/Quintal"}),(0,a.jsx)("p",{className:"font-bold text-gray-800",children:V(e.price_per_quintal)})]}),e.moisture_content>0&&(0,a.jsxs)("div",{className:"bg-yellow-50 rounded-xl p-3",children:[(0,a.jsx)("p",{className:"text-gray-500 text-xs",children:"Moisture"}),(0,a.jsxs)("p",{className:"font-bold text-yellow-700",children:[e.moisture_content,"%"]})]})]})]},s))})]}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 rounded-2xl p-5 text-white shadow-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-blue-100 text-sm font-medium",children:"Total Amount"}),(0,a.jsx)("p",{className:"text-4xl font-bold mt-1",children:V(e.total_amount)})]}),(0,a.jsx)("div",{className:"p-4 bg-white/20 rounded-2xl backdrop-blur-sm",children:(0,a.jsx)(f.TrendingUp,{size:32})})]})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[(0,a.jsx)(c.CheckCircle,{size:18}),"Approval Workflow"]}),(0,a.jsx)("div",{className:"space-y-3",children:[{label:"Supervisor",data:e.approval_status?.supervisor_approval},{label:"Manager",data:e.approval_status?.manager_approval},{label:"Admin",data:e.approval_status?.admin_approval}].map((e,s)=>(0,a.jsxs)("div",{className:`flex items-center justify-between p-4 rounded-2xl border-2 transition-all ${e.data?.status?"bg-green-50 border-green-200":e.data?.date?"bg-red-50 border-red-200":"bg-gray-50 border-gray-200"}`,children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:`p-2 rounded-xl ${e.data?.status?"bg-green-100":e.data?.date?"bg-red-100":"bg-gray-200"}`,children:e.data?.status?(0,a.jsx)(c.CheckCircle,{className:"text-green-600",size:24}):e.data?.date?(0,a.jsx)(x.XCircle,{className:"text-red-600",size:24}):(0,a.jsx)(m.Clock,{className:"text-gray-400",size:24})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-gray-800",children:e.label}),e.data?.user_id?(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.data.user_id.name}):(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"Pending approval"})]})]}),e.data?.date&&(0,a.jsx)("span",{className:"text-xs text-gray-500 bg-white px-3 py-1 rounded-lg shadow-sm",children:O(e.data.date)})]},s))})]}),e.remarks&&(0,a.jsxs)("div",{className:"bg-amber-50 rounded-2xl p-4 border border-amber-200",children:[(0,a.jsx)("p",{className:"text-sm text-amber-700 font-medium mb-1",children:"Remarks"}),(0,a.jsx)("p",{className:"font-semibold text-gray-800 capitalize",children:e.remarks.replace(/_/g," ")})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-gray-500 bg-gray-50 rounded-xl p-3",children:[(0,a.jsx)(p.Calendar,{size:18}),(0,a.jsxs)("span",{className:"text-sm",children:[(0,a.jsx)("span",{className:"font-medium",children:"Transaction Date:"})," ",O(e.transaction_date)]})]})]})]})}):null,{transaction:F,onClose:()=>{E(!1),I(null)}})]})})}])}]);