(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,88614,e=>{"use strict";var a=e.i(5766);let t=()=>{try{localStorage.removeItem("token"),a.default.success("Logged out successfully"),window.location.href="/login"}catch(e){console.error("Error logging out:",e),a.default.error("Error logging out")}};e.s(["logout",()=>t])},82987,e=>{"use strict";var a=e.i(43476),t=e.i(71645),r=e.i(70756),s=e.i(95468),l=e.i(31278),i=e.i(5766),n=e.i(31795);function o({isOpen:e,onClose:o}){let[d,c]=(0,t.useState)(""),[m,x]=(0,t.useState)(!1),[g,u]=(0,t.useState)(!1),[b,h]=(0,t.useState)(!1),p=(0,t.useRef)(null);(0,t.useEffect)(()=>{if(!e)return;let a=()=>{clearTimeout(p.current),p.current=setTimeout(()=>{c(""),x(!1),u(!1),o?.()},3e5)},t=["mousemove","keydown","click","scroll"];return t.forEach(e=>window.addEventListener(e,a)),window.addEventListener("focus",a),a(),()=>{clearTimeout(p.current),t.forEach(e=>window.removeEventListener(e,a)),window.removeEventListener("focus",a)}},[e,o]),(0,t.useEffect)(()=>(document.body.style.overflow=e?"hidden":"auto",()=>{document.body.style.overflow="auto"}),[e]);let f=async()=>{if(!m&&!b){if(6!==d.length)return void i.default.error("Please enter a 6-digit PIN");try{h(!0);let e=await fetch(`${n.default}/auth/pinverification`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({pin:d})}),a=await e.json();e.ok&&a.success?(x(!0),i.default.success("PIN verified successfully"),setTimeout(()=>{x(!1),o?.()},500)):(u(!0),i.default.error("Incorrect PIN"),setTimeout(()=>{c(""),u(!1)},800))}catch(e){console.error("Error verifying PIN:",e),i.default.error("Server error. Please try again.")}finally{h(!1)}}};return e?(0,a.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-gray-900/50 backdrop-blur-md",children:[(0,a.jsx)("div",{className:"relative w-full max-w-lg px-6",children:(0,a.jsx)("div",{className:"bg-white backdrop-blur-2xl rounded-3xl shadow-2xl p-10 border border-white/40",children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:`w-24 h-24 rounded-full flex items-center justify-center mb-8 transition-all duration-300 ${m?"bg-green-50 ring-4 ring-green-100":g?"bg-red-50 ring-4 ring-red-100 animate-pulse":"bg-gray-50 ring-4 ring-gray-100"}`,children:m?(0,a.jsx)(s.CheckCircle2,{className:"text-green-600",size:48}):b?(0,a.jsx)(l.Loader2,{className:"text-gray-700 animate-spin",size:48}):(0,a.jsx)(r.Lock,{className:`${g?"text-red-600":"text-gray-700"} transition-colors`,size:48})}),(0,a.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:m?"Success!":"Enter PIN"}),(0,a.jsx)("p",{className:"text-gray-600 text-center mb-10 text-lg",children:m?"PIN verified successfully":"Please enter your 6-digit PIN to continue"}),(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)("input",{type:"password",inputMode:"numeric",maxLength:6,value:d,onChange:e=>c(e.target.value),placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢",disabled:m||b,autoComplete:"new-password",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",autoFocus:!0,className:`w-full h-16 text-center text-2xl font-bold rounded-xl border-2 transition-all duration-200 focus:outline-none tracking-widest ${m?"border-green-400 bg-green-50 text-green-700 shadow-sm":g?"border-red-400 bg-red-50 text-red-700 animate-shake":d?"border-gray-800 bg-gray-50 text-gray-900 shadow-md":"border-gray-300 bg-white text-gray-900 focus:border-gray-800 focus:shadow-md hover:border-gray-400"}`})}),(0,a.jsx)("button",{onClick:f,disabled:m||b,className:"w-full py-3 mt-6 rounded-xl bg-gray-900 text-white font-semibold hover:bg-gray-800 transition-all disabled:bg-gray-400 disabled:cursor-not-allowed",children:b?"Verifying...":"Verify PIN"}),g&&(0,a.jsx)("div",{className:"mt-6 px-4 py-3 bg-red-50 border border-red-200 rounded-lg",children:(0,a.jsx)("p",{className:"text-red-600 text-sm font-medium",children:"Incorrect PIN. Please try again."})})]})})}),(0,a.jsx)("style",{children:`
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(-10px); }
          75% { transform: translateX(10px); }
        }
        .animate-shake {
          animation: shake 0.3s ease-in-out;
        }
      `})]}):null}e.s(["default",()=>o])},72675,62700,e=>{"use strict";var a=e.i(43476),t=e.i(71645),r=e.i(88614),s=e.i(37902),l=e.i(37727),i=e.i(69638),n=e.i(73884),o=e.i(3116),d=e.i(69074),c=e.i(78894),m=e.i(84614),x=e.i(46897),g=e.i(23609),u=e.i(52754),b=e.i(61911),h=e.i(64659),p=e.i(86536),f=e.i(16715),j=e.i(78583),y=e.i(68553),v=e.i(31278),N=e.i(63209),w=e.i(83086),k=e.i(98919),C=e.i(83627),I=e.i(43531),P=e.i(72520),S=e.i(92270),A=e.i(31795);let $={aadhaar_image:{label:"Aadhaar Image",type:"file",group:"personal",icon:j.FileText},aadhaar_number:{label:"Aadhaar Number",type:"text",group:"personal",icon:j.FileText},pan_image:{label:"PAN Image",type:"file",group:"personal",icon:j.FileText},pan_number:{label:"PAN Number",type:"text",group:"personal",icon:j.FileText},khatauni_images:{label:"Khatauni Images",type:"file",group:"personal",icon:j.FileText,multiple:!0},address:{label:"Address",type:"text",group:"address",icon:x.MapPin},tehsil:{label:"Tehsil",type:"text",group:"address",icon:x.MapPin},district:{label:"District",type:"text",group:"address",icon:x.MapPin},state:{label:"State",type:"text",group:"address",icon:x.MapPin},landmark:{label:"Landmark",type:"text",group:"address",icon:x.MapPin},pin_code:{label:"PIN Code",type:"text",group:"address",icon:x.MapPin},land_size:{label:"Land Size (Acres)",type:"text",group:"land",icon:g.Landmark},bank_passbook_img:{label:"Bank Passbook Image",type:"file",group:"bank",icon:u.Wallet},account_number:{label:"Account Number",type:"text",group:"bank",icon:u.Wallet},ifsc_code:{label:"IFSC Code",type:"text",group:"bank",icon:u.Wallet},account_holder:{label:"Account Holder",type:"text",group:"bank",icon:u.Wallet},bank_name:{label:"Bank Name",type:"text",group:"bank",icon:u.Wallet},branch_name:{label:"Branch Name",type:"text",group:"bank",icon:u.Wallet},nominee_image:{label:"Nominee Photo",type:"file",group:"nominee",icon:y.Camera},nominee_aadhaar_image:{label:"Nominee Aadhaar Image",type:"file",group:"nominee",icon:j.FileText},nominee_pan_image:{label:"Nominee PAN Image",type:"file",group:"nominee",icon:j.FileText},nominee_name:{label:"Nominee Name",type:"text",group:"nominee",icon:m.User},nominee_dob:{label:"Nominee DOB",type:"date",group:"nominee",icon:m.User},nominee_phone:{label:"Nominee Phone",type:"text",group:"nominee",icon:m.User},nominee_email:{label:"Nominee Email",type:"email",group:"nominee",icon:m.User},nominee_aadhaar:{label:"Nominee Aadhaar",type:"text",group:"nominee",icon:j.FileText},nominee_pan:{label:"Nominee PAN",type:"text",group:"nominee",icon:j.FileText},nominee_relation:{label:"Relation",type:"select",group:"nominee",icon:b.Users},nominee_gender:{label:"Gender",type:"select",group:"nominee",icon:m.User},nominee_address:{label:"Nominee Address",type:"text",group:"nominee",icon:x.MapPin}},_={personal:{label:"Personal Documents",icon:m.User,gradient:"from-violet-500 via-purple-500 to-fuchsia-500",bg:"bg-violet-50",border:"border-violet-200"},address:{label:"Address Details",icon:x.MapPin,gradient:"from-emerald-500 via-teal-500 to-cyan-500",bg:"bg-emerald-50",border:"border-emerald-200"},land:{label:"Land Information",icon:g.Landmark,gradient:"from-amber-500 via-orange-500 to-red-500",bg:"bg-amber-50",border:"border-amber-200"},bank:{label:"Bank Details",icon:u.Wallet,gradient:"from-blue-500 via-indigo-500 to-purple-500",bg:"bg-blue-50",border:"border-blue-200"},nominee:{label:"Nominee Details",icon:b.Users,gradient:"from-pink-500 via-rose-500 to-red-500",bg:"bg-pink-50",border:"border-pink-200"}},T=({status:e})=>{let t={approved:{bg:"bg-emerald-100",text:"text-emerald-700",icon:i.CheckCircle,dot:"bg-emerald-500"},rejected:{bg:"bg-red-100",text:"text-red-700",icon:n.XCircle,dot:"bg-red-500"},pending:{bg:"bg-amber-100",text:"text-amber-700",icon:o.Clock,dot:"bg-amber-500"}},r=t[e]||t.pending,s=r.icon;return(0,a.jsxs)("span",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-bold ${r.bg} ${r.text} shadow-sm`,children:[(0,a.jsx)("span",{className:`w-2 h-2 rounded-full ${r.dot} ${"rejected"===e?"animate-pulse":""}`}),(0,a.jsx)(s,{className:"w-3.5 h-3.5"}),(0,a.jsx)("span",{className:"capitalize",children:e})]})},D=({url:e,label:r})=>{let[s,i]=(0,t.useState)(!1),[n,o]=(0,t.useState)(!1),[d,c]=(0,t.useState)(!0);return!e||n?(0,a.jsx)("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center border-2 border-dashed border-gray-300 transition-all hover:border-gray-400",children:(0,a.jsx)(y.Camera,{className:"w-6 h-6 text-gray-400"})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"relative group cursor-pointer transform transition-all duration-300 hover:scale-105",onClick:()=>i(!0),children:[(0,a.jsxs)("div",{className:"w-20 h-20 rounded-2xl overflow-hidden border-2 border-white shadow-lg ring-2 ring-gray-100 group-hover:ring-blue-300 transition-all duration-300",children:[d&&(0,a.jsx)("div",{className:"absolute inset-0 bg-gray-100 animate-pulse flex items-center justify-center",children:(0,a.jsx)(v.Loader2,{className:"w-5 h-5 text-gray-400 animate-spin"})}),(0,a.jsx)("img",{src:e,alt:r,className:`w-full h-full object-cover transition-all duration-500 group-hover:scale-110 ${d?"opacity-0":"opacity-100"}`,onLoad:()=>c(!1),onError:()=>{o(!0),c(!1)}})]}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-all duration-300 rounded-2xl flex items-end justify-center pb-2",children:(0,a.jsx)(p.Eye,{className:"w-4 h-4 text-white"})})]}),s&&(0,a.jsx)("div",{className:"fixed inset-0 z-[200] bg-black/95 backdrop-blur-xl flex items-center justify-center p-4",onClick:()=>i(!1),children:(0,a.jsxs)("div",{className:"relative max-w-6xl max-h-[90vh] animate-zoomIn",children:[(0,a.jsx)("img",{src:e,alt:r,className:"max-w-full max-h-[85vh] object-contain rounded-3xl shadow-2xl"}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),i(!1)},className:"absolute -top-4 -right-4 bg-white rounded-full p-3 shadow-xl hover:bg-gray-100 transition-all hover:scale-110",children:(0,a.jsx)(l.X,{className:"w-5 h-5 text-gray-700"})})]})})]})},z=({field:e,value:r,onChange:s,disabled:l,multiple:i=!1})=>{let n=(0,t.useRef)(null),[o,c]=(0,t.useState)(null),[m,x]=(0,t.useState)([]),[g,u]=(0,t.useState)(!1),[b,h]=(0,t.useState)(null),[p,f]=(0,t.useState)([]),j=a=>{if(a){h(a),s(e,a);let t=new FileReader;t.onloadend=()=>c(t.result),t.readAsDataURL(a)}},y=a=>{let t=Array.from(a).filter(e=>e.type.startsWith("image/")&&e.size<=5242880);if(t.length>0){f(t),s(e,t);let a=[];t.forEach(e=>{let r=new FileReader;r.onloadend=()=>{a.push(r.result),a.length===t.length&&x(a)},r.readAsDataURL(e)})}},v=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?u(!0):"dragleave"===e.type&&u(!1)};return(0,a.jsxs)("div",{className:"space-y-4",children:["string"==typeof r&&r.startsWith("http")&&!o&&(0,a.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-gradient-to-r from-gray-50 to-slate-50 rounded-2xl border border-gray-200",children:[(0,a.jsx)(D,{url:r,label:$[e]?.label}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:"Current Image"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-0.5",children:"Upload a new one to replace"})]})]}),(0,a.jsxs)("div",{className:`relative border-2 border-dashed rounded-2xl p-8 text-center transition-all duration-300 cursor-pointer ${g?"border-blue-500 bg-blue-50 scale-[1.02] shadow-lg shadow-blue-100":l?"border-gray-200 bg-gray-50 cursor-not-allowed":"border-gray-300 hover:border-blue-400 hover:bg-gradient-to-br hover:from-blue-50 hover:to-indigo-50"}`,onDragEnter:v,onDragLeave:v,onDragOver:v,onDrop:l?void 0:e=>{e.preventDefault(),e.stopPropagation(),u(!1),e.dataTransfer.files&&e.dataTransfer.files.length>0&&(i?y(e.dataTransfer.files):j(e.dataTransfer.files[0]))},onClick:()=>!l&&n.current?.click(),children:[(0,a.jsx)("input",{ref:n,type:"file",accept:"image/*",multiple:i,className:"hidden",onChange:e=>{e.target.files&&e.target.files.length>0&&(i?y(e.target.files):j(e.target.files[0]))},disabled:l}),o||m.length>0?(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[i&&m.length>0?(0,a.jsx)("div",{className:"flex flex-wrap gap-2 justify-center",children:m.map((e,t)=>(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)("img",{src:e,alt:`Preview ${t+1}`,className:"w-20 h-20 object-cover rounded-xl shadow-lg ring-2 ring-green-100"})},t))}):(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{src:o,alt:"Preview",className:"w-24 h-24 object-cover rounded-2xl shadow-xl ring-4 ring-green-100"}),(0,a.jsx)("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center shadow-lg animate-bounceIn",children:(0,a.jsx)(I.Check,{className:"w-5 h-5 text-white"})})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("span",{className:"text-sm font-bold text-green-600",children:i&&p.length>0?`${p.length} file(s) ready to upload`:"File ready to upload"}),b&&!i&&(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[b.name," (",(b.size/1024).toFixed(1)," ","KB)"]}),(0,a.jsxs)("button",{type:"button",onClick:a=>{a.stopPropagation(),c(null),x([]),h(null),f([]),s(e,null),n.current&&(n.current.value="")},className:"block mx-auto mt-2 text-xs text-red-500 hover:text-red-700 font-semibold hover:underline transition-colors",children:["Remove file",i&&p.length>1?"s":""]})]})]}):(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,a.jsx)("div",{className:`p-4 rounded-2xl ${l?"bg-gray-100":"bg-gradient-to-br from-blue-100 to-indigo-100"} transition-all`,children:(0,a.jsx)(d.Upload,{className:`w-8 h-8 ${l?"text-gray-400":"text-blue-600"}`})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:`text-base font-semibold ${l?"text-gray-400":"text-gray-700"}`,children:l?"Upload disabled":`Drop your file${i?"s":""} here or click to browse`}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Supports: PNG, JPG, JPEG (max 5MB)"})]})]})]})]})},F=({field:e,value:t,onChange:r,disabled:s,type:l="text"})=>{let i=$[e],n=`w-full px-5 py-4 rounded-2xl border-2 transition-all duration-300 outline-none text-sm font-medium ${s?"bg-gray-50 border-gray-200 text-gray-500 cursor-not-allowed":"bg-white border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-50 hover:border-gray-300 hover:shadow-sm"}`;return i?.type==="select"&&"nominee_relation"===e?(0,a.jsxs)("select",{value:t||"",onChange:a=>r(e,a.target.value),disabled:s,className:n,children:[(0,a.jsx)("option",{value:"",children:"Select Relation"}),["father","mother","spouse","son","daughter","brother","sister","other"].map(e=>(0,a.jsx)("option",{value:e,className:"capitalize",children:e.charAt(0).toUpperCase()+e.slice(1)},e))]}):i?.type==="select"&&"nominee_gender"===e?(0,a.jsxs)("select",{value:t||"",onChange:a=>r(e,a.target.value),disabled:s,className:n,children:[(0,a.jsx)("option",{value:"",children:"Select Gender"}),["male","female","other"].map(e=>(0,a.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]}):(0,a.jsx)("input",{type:l,value:t||"",onChange:a=>r(e,a.target.value),disabled:s,className:n,placeholder:s?"":`Enter ${i?.label||e}`})},L=({fieldData:e,formData:t,onChange:r})=>{let{field:s,status:l,reason:i,data:n}=e,o=$[s],d="rejected"===l,m=o?.type==="file",x="object"==typeof n&&null!==n?n.$numberDecimal?n.$numberDecimal:Array.isArray(n)?n.map(e=>e.image_url||e).join(", "):JSON.stringify(n):n,g=void 0!==t[s]?t[s]:x,u=o?.icon||j.FileText,b={rejected:"border-red-200 bg-gradient-to-br from-red-50 via-white to-rose-50 shadow-lg shadow-red-100/50 ring-1 ring-red-100",approved:"border-emerald-200 bg-gradient-to-br from-emerald-50 via-white to-green-50 ring-1 ring-emerald-100",pending:"border-gray-200 bg-white hover:border-gray-300 hover:shadow-md"};return(0,a.jsxs)("div",{className:`group relative p-6 rounded-3xl border-2 transition-all duration-500 ${b[l]||b.pending}`,children:["rejected"===l&&(0,a.jsx)("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-r from-red-400/20 to-rose-400/20 blur-xl -z-10 animate-pulse"}),(0,a.jsx)("div",{className:`absolute top-0 left-6 right-6 h-1 rounded-full ${"rejected"===l?"bg-gradient-to-r from-red-400 via-rose-400 to-pink-400":"approved"===l?"bg-gradient-to-r from-emerald-400 via-green-400 to-teal-400":"bg-gradient-to-r from-amber-400 via-yellow-400 to-orange-400"}`}),(0,a.jsxs)("div",{className:"flex items-start justify-between mb-5 pt-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:`p-3 rounded-2xl transition-all duration-300 ${"rejected"===l?"bg-red-100 text-red-600 shadow-lg shadow-red-100":"approved"===l?"bg-emerald-100 text-emerald-600":"bg-gray-100 text-gray-600 group-hover:bg-blue-100 group-hover:text-blue-600"}`,children:(0,a.jsx)(u,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-bold text-gray-800",children:o?.label||s}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mt-0.5 font-medium",children:s.replace(/_/g," ")})]})]}),(0,a.jsx)(T,{status:l})]}),"rejected"===l&&i&&(0,a.jsxs)("div",{className:"mb-5 p-4 bg-gradient-to-r from-red-100/80 to-rose-100/80 rounded-2xl flex items-start gap-3 border border-red-200/50 backdrop-blur-sm",children:[(0,a.jsx)("div",{className:"p-2 bg-red-200 rounded-xl",children:(0,a.jsx)(c.AlertTriangle,{className:"w-4 h-4 text-red-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs font-bold text-red-800 mb-0.5",children:"Rejection Reason"}),(0,a.jsx)("p",{className:"text-sm text-red-700",children:i})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[!m&&!d&&(0,a.jsx)("div",{className:"p-4 bg-gradient-to-r from-gray-50 to-slate-50 rounded-2xl border border-gray-100",children:(0,a.jsx)("p",{className:"text-gray-700 font-medium",children:x||"â€”"})}),m&&!d&&(0,a.jsxs)("div",{className:"space-y-3",children:["string"==typeof n&&n.startsWith("http")&&(0,a.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-gradient-to-r from-gray-50 to-slate-50 rounded-2xl border border-gray-100",children:[(0,a.jsx)(D,{url:n,label:o?.label}),(0,a.jsx)("span",{className:"text-sm text-gray-600 font-medium",children:"Document uploaded"})]}),Array.isArray(n)&&n.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-3 p-4 bg-gradient-to-r from-gray-50 to-slate-50 rounded-2xl border border-gray-100",children:n.map((e,t)=>(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,a.jsx)(D,{url:e.image_url||e,label:`${o?.label} ${t+1}`}),e.khatauni_id&&(0,a.jsxs)("span",{className:"text-xs text-gray-500 font-medium",children:["ID: ",e.khatauni_id]})]},t))})]}),d&&(0,a.jsxs)("div",{className:"pt-4 border-t-2 border-red-200/50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)("div",{className:"p-1.5 bg-red-100 rounded-lg",children:(0,a.jsx)(C.Edit3,{className:"w-4 h-4 text-red-600"})}),(0,a.jsx)("span",{className:"text-sm font-bold text-red-600",children:"Update Required"})]}),m?(0,a.jsx)(z,{field:s,value:g,onChange:r,disabled:!1,multiple:o?.multiple||!1}):(0,a.jsx)(F,{field:s,value:void 0!==t[s]?t[s]:x,onChange:r,disabled:!1,type:o?.type==="date"?"date":o?.type==="email"?"email":"text"})]})]})]})},E=({group:e,fields:t,formData:r,onChange:s,expandedGroups:l,toggleGroup:i})=>{let n=_[e],o=n?.icon||j.FileText,d=l[e],c={rejected:t.filter(e=>"rejected"===e.status).length,pending:t.filter(e=>"pending"===e.status).length,approved:t.filter(e=>"approved"===e.status).length};return(0,a.jsxs)("div",{className:`bg-white/80 backdrop-blur-sm rounded-3xl shadow-sm border ${n?.border||"border-gray-200"} overflow-hidden hover:shadow-lg transition-all duration-500`,children:[(0,a.jsxs)("button",{onClick:()=>i(e),className:"w-full px-8 py-6 flex items-center justify-between hover:bg-gray-50/50 transition-all duration-300",children:[(0,a.jsxs)("div",{className:"flex items-center gap-5",children:[(0,a.jsx)("div",{className:`p-4 rounded-2xl bg-gradient-to-br ${n?.gradient||"from-gray-500 to-gray-600"} shadow-xl`,children:(0,a.jsx)(o,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("h3",{className:"font-bold text-gray-800 text-lg",children:n?.label||e}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[c.rejected>0&&(0,a.jsxs)("span",{className:"text-xs font-bold text-red-600 bg-red-100 px-3 py-1 rounded-full flex items-center gap-1.5",children:[(0,a.jsx)("span",{className:"w-1.5 h-1.5 bg-red-500 rounded-full animate-pulse"}),c.rejected," rejected"]}),c.pending>0&&(0,a.jsxs)("span",{className:"text-xs font-bold text-amber-600 bg-amber-100 px-3 py-1 rounded-full",children:[c.pending," pending"]}),c.approved>0&&(0,a.jsxs)("span",{className:"text-xs font-bold text-emerald-600 bg-emerald-100 px-3 py-1 rounded-full",children:[c.approved," approved"]})]})]})]}),(0,a.jsx)("div",{className:`p-3 rounded-2xl transition-all duration-500 ${d?"bg-blue-100 rotate-180":"bg-gray-100"}`,children:(0,a.jsx)(h.ChevronDown,{className:`w-5 h-5 transition-colors ${d?"text-blue-600":"text-gray-500"}`})})]}),(0,a.jsx)("div",{className:`transition-all duration-700 ease-in-out ${d?"max-h-[5000px] opacity-100":"max-h-0 opacity-0"} overflow-hidden`,children:(0,a.jsx)("div",{className:`p-8 pt-4 ${n?.bg||"bg-gray-50"}/30`,children:(0,a.jsx)("div",{className:"grid gap-6 sm:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3",children:t.map(e=>(0,a.jsx)(L,{fieldData:e,formData:r,onChange:s},e.field))})})})]})},U=({isOpen:e,onClose:r})=>{let n,d,[m,x]=(0,t.useState)(null),[g,u]=(0,t.useState)({}),[b,h]=(0,t.useState)(!1),[p,j]=(0,t.useState)(!1),[y,C]=(0,t.useState)(null),[I,_]=(0,t.useState)(!1),[T,D]=(0,t.useState)({personal:!0,address:!0,land:!0,bank:!0,nominee:!0});(0,t.useEffect)(()=>(e?(z(),document.body.style.overflow="hidden"):document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]);let z=async()=>{h(!0),C(null);try{let e=await fetch(`${A.default}/user/getfarmerunverifiedfields`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw Error("Failed to fetch verification data");let a=await e.json();x(a)}catch(e){C(e.message||"Failed to load data")}finally{h(!1)}},F=(e,a)=>{u(t=>({...t,[e]:a}))},L=e=>{D(a=>({...a,[e]:!a[e]}))},U=async()=>{C(null);let e=Object.entries(g);if(0===e.length)return void C("No changes detected. Please update a field.");j(!0);try{let a=new FormData;for(let t of(e.forEach(([e,t])=>{if(void 0!==t)if(Array.isArray(t))t.forEach(t=>{t instanceof File&&a.append(e,t)});else if(t instanceof File)a.append(e,t);else if(t instanceof Date)a.append(e,t.toISOString());else{let r=null===t?"":String(t);a.append(e,r)}}),console.log("Submitting FormData:"),a.entries()))console.log(`${t[0]}:`,t[1]);let t=await fetch(`${A.default}/user/updateprofileverification`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:a}),r=await t.json();if(!t.ok)throw Error(r.message||"Failed to update fields");_(!0),u({})}catch(e){console.error("Submission Error:",e),C(e.message||"Failed to submit updates")}finally{j(!1)}},M=m?.fields?.reduce((e,a)=>{let t=$[a.field]?.group||"other";return e[t]||(e[t]=[]),e[t].push(a),e},{})||{},R=m?.fields?.filter(e=>"rejected"===e.status).length||0,B=m?.fields?.filter(e=>"pending"===e.status).length||0,O=m?.fields?.filter(e=>"approved"===e.status).length||0;if(!e)return null;let G=(n=0,d=0,Object.entries(g).forEach(([e,a])=>{a instanceof File?n++:Array.isArray(a)?n+=a.filter(e=>e instanceof File).length:d++}),{fileCount:n,textCount:d,total:n+d});return(0,a.jsxs)("div",{className:"jsx-1381763799ead574 fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:[(0,a.jsxs)("div",{className:"jsx-1381763799ead574 relative w-full max-w-7xl h-[92vh] mx-4 flex flex-col bg-gradient-to-br from-slate-50 via-white to-gray-50 rounded-[2rem] shadow-2xl overflow-hidden animate-modalSlideUp",children:[(0,a.jsxs)("div",{className:"jsx-1381763799ead574 relative z-10 px-8 py-7 bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600",children:[(0,a.jsx)("div",{className:"jsx-1381763799ead574 absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48Y2lyY2xlIGN4PSIzMCIgY3k9IjMwIiByPSIyIi8+PC9nPjwvZz48L3N2Zz4=')] opacity-30"}),(0,a.jsxs)("div",{className:"jsx-1381763799ead574 relative flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"jsx-1381763799ead574 flex items-center gap-5",children:[(0,a.jsx)("div",{className:"jsx-1381763799ead574 p-4 bg-white/20 rounded-2xl backdrop-blur-sm shadow-lg",children:(0,a.jsx)(k.Shield,{className:"w-8 h-8 text-white"})}),(0,a.jsxs)("div",{className:"jsx-1381763799ead574",children:[(0,a.jsx)("h2",{className:"jsx-1381763799ead574 text-3xl font-black text-white tracking-tight",children:"Verification Center"}),(0,a.jsx)("p",{className:"jsx-1381763799ead574 text-white/70 text-sm font-medium mt-1",children:"Review and update your verification documents"})]})]}),!b&&m&&!I&&(0,a.jsxs)("div",{className:"jsx-1381763799ead574 hidden md:flex items-center gap-3",children:[R>0&&(0,a.jsxs)("div",{className:"jsx-1381763799ead574 flex items-center gap-2 px-4 py-2 bg-red-500/20 border border-red-400/30 rounded-full backdrop-blur-sm",children:[(0,a.jsx)("span",{className:"jsx-1381763799ead574 w-2.5 h-2.5 bg-red-400 rounded-full animate-pulse"}),(0,a.jsxs)("span",{className:"jsx-1381763799ead574 text-sm font-bold text-white",children:[R," Action Needed"]})]}),B>0&&(0,a.jsxs)("div",{className:"jsx-1381763799ead574 flex items-center gap-2 px-4 py-2 bg-amber-500/20 border border-amber-400/30 rounded-full backdrop-blur-sm",children:[(0,a.jsx)("span",{className:"jsx-1381763799ead574 w-2.5 h-2.5 bg-amber-400 rounded-full"}),(0,a.jsxs)("span",{className:"jsx-1381763799ead574 text-sm font-bold text-white",children:[B," Pending"]})]}),O>0&&(0,a.jsxs)("div",{className:"jsx-1381763799ead574 flex items-center gap-2 px-4 py-2 bg-emerald-500/20 border border-emerald-400/30 rounded-full backdrop-blur-sm",children:[(0,a.jsx)("span",{className:"jsx-1381763799ead574 w-2.5 h-2.5 bg-emerald-400 rounded-full"}),(0,a.jsxs)("span",{className:"jsx-1381763799ead574 text-sm font-bold text-white",children:[O," Approved"]})]})]}),!I&&(0,a.jsx)("button",{onClick:r,className:"jsx-1381763799ead574 p-3 bg-white/10 hover:bg-white/20 rounded-xl transition-all duration-300 backdrop-blur-sm",children:(0,a.jsx)(l.X,{className:"w-6 h-6 text-white"})})]})]}),(0,a.jsxs)("div",{className:"jsx-1381763799ead574 relative z-10 flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent",children:[b&&(0,a.jsxs)("div",{className:"jsx-1381763799ead574 flex flex-col items-center justify-center h-full py-20",children:[(0,a.jsxs)("div",{className:"jsx-1381763799ead574 relative w-24 h-24",children:[(0,a.jsx)("div",{className:"jsx-1381763799ead574 absolute inset-0 rounded-full border-4 border-indigo-200"}),(0,a.jsx)("div",{className:"jsx-1381763799ead574 absolute inset-0 rounded-full border-4 border-transparent border-t-indigo-600 animate-spin"}),(0,a.jsx)("div",{className:"jsx-1381763799ead574 absolute inset-0 flex items-center justify-center",children:(0,a.jsx)(w.Sparkles,{className:"w-8 h-8 text-indigo-600 animate-pulse"})})]}),(0,a.jsx)("p",{className:"jsx-1381763799ead574 text-gray-600 mt-6 font-semibold text-lg",children:"Loading your data..."}),(0,a.jsx)("p",{className:"jsx-1381763799ead574 text-gray-400 text-sm mt-1",children:"Please wait a moment"})]}),y&&!b&&!I&&(0,a.jsxs)("div",{className:"jsx-1381763799ead574 flex flex-col items-center justify-center h-full py-20",children:[(0,a.jsx)("div",{className:"jsx-1381763799ead574 w-24 h-24 bg-red-100 rounded-full flex items-center justify-center mb-6 animate-bounceIn",children:(0,a.jsx)(N.AlertCircle,{className:"w-12 h-12 text-red-500"})}),(0,a.jsx)("h3",{className:"jsx-1381763799ead574 text-2xl font-bold text-gray-800 mb-2",children:"Oops! Something went wrong"}),(0,a.jsx)("p",{className:"jsx-1381763799ead574 text-gray-500 text-center max-w-md mb-6",children:y}),(0,a.jsxs)("button",{onClick:z,className:"jsx-1381763799ead574 px-8 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-2xl hover:shadow-xl hover:shadow-indigo-200 transition-all flex items-center gap-2 hover:scale-105",children:[(0,a.jsx)(f.RefreshCw,{className:"w-5 h-5"}),"Try Again"]})]}),I&&(0,a.jsxs)("div",{className:"jsx-1381763799ead574 flex flex-col items-center justify-center h-full py-20",children:[(0,a.jsxs)("div",{className:"jsx-1381763799ead574 relative mb-4",children:[(0,a.jsx)("div",{className:"jsx-1381763799ead574 w-22 h-22 bg-gradient-to-br from-emerald-100 to-green-100 rounded-full flex items-center justify-center animate-bounceIn",children:(0,a.jsx)(i.CheckCircle,{className:"w-12 h-12 text-emerald-500"})}),(0,a.jsx)("div",{className:"jsx-1381763799ead574 absolute -top-2 -right-2 w-10 h-10 bg-yellow-400 rounded-full flex items-center justify-center animate-bounce shadow-lg",children:(0,a.jsx)(w.Sparkles,{className:"w-6 h-6 text-white"})})]}),(0,a.jsx)("h3",{className:"jsx-1381763799ead574 text-4xl font-black text-gray-800 mb-2 text-center",children:"Submitted Successfully!"}),(0,a.jsx)("p",{className:"jsx-1381763799ead574 text-gray-500 text-lg text-center max-w-md mb-2",children:"Your documents have been submitted for verification."}),(0,a.jsxs)("div",{className:"jsx-1381763799ead574 mt-3 p-6 bg-gradient-to-r from-amber-50 via-yellow-50 to-orange-50 border-2 border-amber-200 rounded-3xl max-w-lg",children:[(0,a.jsxs)("div",{className:"jsx-1381763799ead574 flex items-center gap-4 mb-4",children:[(0,a.jsx)("div",{className:"jsx-1381763799ead574 p-3 bg-amber-100 rounded-2xl",children:(0,a.jsx)(o.Clock,{className:"w-8 h-8 text-amber-600"})}),(0,a.jsxs)("div",{className:"jsx-1381763799ead574",children:[(0,a.jsx)("h4",{className:"jsx-1381763799ead574 font-bold text-amber-800 text-lg",children:"Waiting for Verification"}),(0,a.jsx)("p",{className:"jsx-1381763799ead574 text-amber-600 text-sm",children:"Your documents are being reviewed"})]})]}),(0,a.jsx)("p",{className:"jsx-1381763799ead574 text-amber-700 text-sm leading-relaxed",children:"Our team will review your updated documents and verify them within 24-48 hours. You will be notified once the verification is complete."}),(0,a.jsxs)("div",{className:"jsx-1381763799ead574 mt-4 flex items-center gap-2 text-amber-600",children:[(0,a.jsxs)("div",{className:"jsx-1381763799ead574 flex gap-1",children:[(0,a.jsx)("span",{style:{animationDelay:"0ms"},className:"jsx-1381763799ead574 w-2 h-2 bg-amber-500 rounded-full animate-bounce"}),(0,a.jsx)("span",{style:{animationDelay:"150ms"},className:"jsx-1381763799ead574 w-2 h-2 bg-amber-500 rounded-full animate-bounce"}),(0,a.jsx)("span",{style:{animationDelay:"300ms"},className:"jsx-1381763799ead574 w-2 h-2 bg-amber-500 rounded-full animate-bounce"})]}),(0,a.jsx)("span",{className:"jsx-1381763799ead574 text-sm font-medium",children:"Verification in progress"})]})]}),(0,a.jsxs)("div",{className:"jsx-1381763799ead574 mt-5 flex flex-col items-center gap-4",children:[(0,a.jsx)("p",{className:"jsx-1381763799ead574 text-gray-400 text-sm",children:"You can safely logout now"}),(0,a.jsxs)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"},className:"jsx-1381763799ead574 px-10 py-4 bg-gradient-to-r from-red-500 via-rose-500 to-pink-500 text-white font-bold rounded-2xl hover:shadow-2xl hover:shadow-red-200 transition-all flex items-center gap-3 hover:scale-105 active:scale-100",children:[(0,a.jsx)(S.LogOut,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"jsx-1381763799ead574",children:"Logout"})]})]})]}),!b&&!y&&!I&&m&&(0,a.jsxs)("div",{className:"jsx-1381763799ead574 p-8 space-y-6",children:[R>0&&(0,a.jsxs)("div",{className:"jsx-1381763799ead574 p-6 bg-gradient-to-r from-red-50 via-orange-50 to-yellow-50 border-2 border-red-200 rounded-3xl flex items-start gap-5 shadow-lg shadow-red-100/30",children:[(0,a.jsx)("div",{className:"jsx-1381763799ead574 p-4 bg-red-100 rounded-2xl",children:(0,a.jsx)(c.AlertTriangle,{className:"w-7 h-7 text-red-600"})}),(0,a.jsxs)("div",{className:"jsx-1381763799ead574",children:[(0,a.jsx)("h4",{className:"jsx-1381763799ead574 font-black text-red-800 text-xl",children:"Action Required"}),(0,a.jsxs)("p",{className:"jsx-1381763799ead574 text-red-600 mt-1",children:[R," document",R>1?"s need":" needs"," to be updated. Please review the rejected fields below."]})]})]}),Object.entries(M).map(([e,t])=>(0,a.jsx)(E,{group:e,fields:t,formData:g,onChange:F,expandedGroups:T,toggleGroup:L},e))]})]}),!b&&!y&&!I&&m&&R>0&&(0,a.jsxs)("div",{className:"jsx-1381763799ead574 relative z-10 px-8 py-5 bg-white/80 backdrop-blur-md border-t border-gray-200 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"jsx-1381763799ead574 flex items-center gap-4 text-gray-600",children:[(0,a.jsx)("div",{className:`jsx-1381763799ead574 w-3 h-3 rounded-full ${Object.keys(g).length>0?"bg-indigo-500 animate-pulse":"bg-gray-300"}`}),(0,a.jsxs)("div",{className:"jsx-1381763799ead574 flex flex-col",children:[(0,a.jsxs)("span",{className:"jsx-1381763799ead574 font-bold text-gray-800 text-lg",children:[Object.keys(g).length," field(s) modified"]}),G.fileCount>0&&(0,a.jsxs)("span",{className:"jsx-1381763799ead574 text-xs text-gray-500",children:[G.fileCount," file(s), ",G.textCount," text field(s)"]})]})]}),(0,a.jsxs)("div",{className:"jsx-1381763799ead574 flex items-center gap-4",children:[(0,a.jsx)("button",{onClick:r,className:"jsx-1381763799ead574 px-6 py-3 font-bold text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-2xl transition-all",children:"Cancel"}),(0,a.jsx)("button",{onClick:U,disabled:p||0===Object.keys(g).length,className:`jsx-1381763799ead574 px-10 py-3 font-black rounded-2xl transition-all duration-300 flex items-center gap-3 ${p||0===Object.keys(g).length?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 text-white hover:shadow-2xl hover:shadow-purple-300 hover:scale-105 active:scale-100"}`,children:p?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.Loader2,{className:"w-5 h-5 animate-spin"}),(0,a.jsx)("span",{className:"jsx-1381763799ead574",children:"Uploading..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.CheckCircle,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"jsx-1381763799ead574",children:"Submit Updates"}),(0,a.jsx)(P.ArrowRight,{className:"w-5 h-5"})]})})]})]})]}),(0,a.jsx)(s.default,{id:"1381763799ead574",children:"@keyframes modalSlideUp{0%{opacity:0;transform:translateY(40px)scale(.98)}to{opacity:1;transform:translateY(0)scale(1)}}@keyframes zoomIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}@keyframes bounceIn{0%{transform:scale(0)}50%{transform:scale(1.1)}to{transform:scale(1)}}@keyframes blob{0%,to{transform:translate(0)scale(1)}25%{transform:translate(20px,-30px)scale(1.1)}50%{transform:translate(-20px,20px)scale(.9)}75%{transform:translate(30px,10px)scale(1.05)}}.animate-modalSlideUp{animation:.4s ease-out forwards modalSlideUp}.animate-zoomIn{animation:.3s ease-out forwards zoomIn}.animate-bounceIn{animation:.5s ease-out forwards bounceIn}.animate-blob{animation:8s ease-in-out infinite blob}.animation-delay-2000{animation-delay:2s}.animation-delay-4000{animation-delay:4s}.animation-delay-6000{animation-delay:6s}.scrollbar-thin::-webkit-scrollbar{width:8px}.scrollbar-thin::-webkit-scrollbar-track{background:0 0}.scrollbar-thin::-webkit-scrollbar-thumb{background:#d1d5db;border-radius:4px}.scrollbar-thin::-webkit-scrollbar-thumb:hover{background:#9ca3af}"})]})};function M({isOpen:e,onClose:t}){return e?(0,a.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black/50 backdrop-blur-lg p-4",children:[(0,a.jsxs)("div",{className:"relative w-full max-w-lg sm:max-w-xl lg:max-w-2xl bg-white rounded-3xl shadow-2xl px-6 py-12 sm:px-8 sm:py-16 animate-fadeIn scale-up flex flex-col items-center justify-center",children:[(0,a.jsx)("div",{className:"flex justify-center mb-6",children:(0,a.jsx)("div",{className:"bg-red-100 p-5 rounded-full shadow-lg",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01M21 12A9 9 0 1112 3a9 9 0 019 9z"})})})}),(0,a.jsx)("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 text-center mb-4",children:"Account Pending Approval"}),(0,a.jsxs)("p",{className:"text-gray-700 max-w-[500px] text-center text-sm sm:text-base lg:text-lg leading-relaxed",children:["Your account is not active yet. Please wait for approval. It may take up to ",(0,a.jsx)("span",{className:"font-semibold",children:"24 hours"}),"."]}),(0,a.jsxs)("div",{className:"text-center mt-4 text-sm sm:text-base lg:text-lg",children:[(0,a.jsx)("p",{className:"text-gray-700",children:"Contact Admin:"}),(0,a.jsxs)("p",{className:"text-gray-700 mt-1",children:["ðŸ“ž ",(0,a.jsx)("span",{className:"font-medium",children:"+91-9876543210"})," | âœ‰ï¸"," ",(0,a.jsx)("span",{className:"font-medium",children:"admin@example.com"})]})]}),(0,a.jsx)("button",{className:"px-15 py-3 mt-6 rounded-xl bg-gray-900 text-white font-semibold hover:bg-gray-800 transition-all disabled:bg-gray-400 disabled:cursor-not-allowed",onClick:r.logout,children:"Logout"})]}),(0,a.jsx)("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: scale(0.95); }
          to { opacity: 1; transform: scale(1); }
        }
        .animate-fadeIn {
          animation: fadeIn 0.2s ease-out;
        }
        .scale-up {
          transform-origin: center;
        }
      `})]}):null}e.s(["FarmerVerificationModal",()=>U],62700),e.s(["default",()=>M],72675)}]);