(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3258,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(55436),r=e.i(7233),l=e.i(47615),i=e.i(40160),n=e.i(86536),o=e.i(83627),d=e.i(95468),c=e.i(43432),m=e.i(63488),x=e.i(46897),g=e.i(83086),h=e.i(32811),u=e.i(7486),p=e.i(61911),b=e.i(42009),j=e.i(73375),f=e.i(63059),y=e.i(92161),N=e.i(37727),v=e.i(64978),w=e.i(70956),_=e.i(15057),C=e.i(10813),k=e.i(16715),P=e.i(63209),S=e.i(82293),A=e.i(84614),I=e.i(63727),$=e.i(78583),D=e.i(73708),F=e.i(87316),E=e.i(88081),T=e.i(23609),B=e.i(98361),M=e.i(91810),L=e.i(76838),U=e.i(3116),R=e.i(98919),z=e.i(52571),O=e.i(74886),G=e.i(62031),H=e.i(3281),W=e.i(61659),Z=e.i(32095),J=e.i(90597),Y=e.i(31278),V=e.i(52754),X=e.i(26912),q=e.i(21218),Q=e.i(48256),K=e.i(96390),ee=e.i(94351),es=e.i(27516),ea=e.i(18724),et=e.i(95116),er=e.i(31795);let el=({isOpen:e,onClose:t,supervisorId:r})=>{var l,o;let[g,h]=(0,a.useState)("identity"),[p,y]=(0,a.useState)(null),[v,w]=(0,a.useState)(0),[_,C]=(0,a.useState)([]),[el,ei]=(0,a.useState)(0),[en,eo]=(0,a.useState)(null),[ed,ec]=(0,a.useState)(null),[em,ex]=(0,a.useState)(!1),[eg,eh]=(0,a.useState)(null);(0,a.useEffect)(()=>{e&&r&&eu()},[e,r]);let eu=async()=>{ex(!0),eh(null);try{let e=await fetch(`${er.default}/employee/getsupervisordetail?supervisorId=${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),s=await e.json();s.success?ec(s.data):eh(s.message||"Failed to fetch supervisor details")}catch(e){eh("Failed to fetch supervisor details. Please try again."),console.error("Error fetching supervisor:",e)}finally{ex(!1)}};if((0,a.useEffect)(()=>{e||(h("identity"),ec(null),eh(null),y(null))},[e]),!e)return null;let ep=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})}catch{return e}},eb=e=>{if(!e)return"N/A";let s=[e.line1,e.line2,e.city,e.state,e.country,e.postalCode].filter(Boolean);return s.length>0?s.join(", "):"N/A"},ej=async e=>{try{let s=await fetch(e),a=await s.blob(),t=window.URL.createObjectURL(a),r=document.createElement("a");r.href=t,r.download=`supervisor-profile-${Date.now()}.jpg`,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(t)}catch(s){window.open(e,"_blank")}},ef=()=>{window.print()},ey=(e,s=[e])=>{let a=Array.isArray(s)?s:[s];C(a),ei(-1!==a.indexOf(e)?a.indexOf(e):0),y(e),w(0)},eN=e=>{let s="next"===e?(el+1)%_.length:(el-1+_.length)%_.length;ei(s),y(_[s]),w(0)},ev=({label:e,value:a,field:t,relatedImage:r=null,icon:l,maskValue:i=!1})=>{if(!a||"N/A"===a||Array.isArray(a)&&0===a.length)return null;let n=i?String(a).replace(/\d(?=\d{4})/g,"*"):a;return(0,s.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white hover:shadow-md transition-all duration-300",children:(0,s.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-gradient-to-br from-teal-500 to-cyan-600 rounded-lg shadow",children:(0,s.jsx)("div",{className:"text-white",children:l})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"flex items-center gap-2.5 mb-1.5",children:(0,s.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:e})}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("p",{className:"text-base font-semibold text-gray-900",children:n}),(0,s.jsx)("button",{onClick:()=>{var e;return e=String(a),void(navigator.clipboard.writeText(e),eo(t),setTimeout(()=>eo(null),2e3))},className:"p-1.5 hover:bg-gray-100 rounded-lg transition-colors",title:"Copy to clipboard",children:en===t?(0,s.jsx)(d.CheckCircle2,{className:"w-3.5 h-3.5 text-green-600"}):(0,s.jsx)(O.Copy,{className:"w-3.5 h-3.5 text-gray-400"})})]}),r&&(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsxs)("p",{className:"text-xs text-gray-500 mb-2.5 flex items-center gap-1.5",children:[(0,s.jsx)(D.Image,{className:"w-3.5 h-3.5"}),"Supporting Documents"]}),(0,s.jsx)("div",{className:"flex gap-2.5 flex-wrap",children:Array.isArray(r)?r.map((a,t)=>(0,s.jsx)(ew,{src:a,alt:`${e} ${t+1}`,onClick:()=>ey(a,r)},t)):(0,s.jsx)(ew,{src:r,alt:e,onClick:()=>ey(r)})})]})]})]})})})})},ew=({src:e,alt:a,onClick:t})=>(0,s.jsx)("div",{className:"relative group cursor-pointer",onClick:t,children:(0,s.jsxs)("div",{className:"w-20 h-20 rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 transform hover:scale-105 ring-1 ring-gray-200 hover:ring-teal-400",children:[(0,s.jsx)("img",{src:e,alt:a,className:"w-full h-full object-cover"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-all duration-300 flex items-center justify-center",children:(0,s.jsx)("div",{className:"p-1.5 bg-white/20 backdrop-blur-sm rounded-full transform scale-0 group-hover:scale-100 transition-transform duration-300",children:(0,s.jsx)(n.Eye,{className:"w-4 h-4 text-white"})})})]})}),e_=({icon:e,title:a,color:t="from-teal-500 to-cyan-600"})=>(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,s.jsx)("div",{className:`p-1.5 bg-gradient-to-br ${t} rounded-lg shadow-sm`,children:(0,s.jsx)(e,{className:"w-4 h-4 text-white"})}),(0,s.jsx)("h4",{className:"text-sm font-semibold text-gray-700",children:a})]}),eC=[{id:"identity",label:"Personal Info",icon:A.User,color:"from-teal-500 to-cyan-600"},{id:"work",label:"Employment",icon:I.Briefcase,color:"from-emerald-500 to-green-600"},{id:"documents",label:"Documents & IDs",icon:$.FileText,color:"from-blue-500 to-indigo-600"},{id:"finance",label:"Bank & Salary",icon:V.Wallet,color:"from-amber-500 to-orange-600"},{id:"additional",label:"Additional",icon:z.Info,color:"from-violet-500 to-purple-600"}];return em?(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl p-8 flex flex-col items-center justify-center",children:[(0,s.jsx)(Y.Loader2,{className:"w-12 h-12 text-teal-600 animate-spin mb-4"}),(0,s.jsx)("p",{className:"text-gray-600 font-medium",children:"Loading supervisor details..."})]})}):eg?(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8 flex flex-col items-center justify-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:(0,s.jsx)(P.AlertCircle,{className:"w-8 h-8 text-red-600"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Error Loading Data"}),(0,s.jsx)("p",{className:"text-gray-600 text-center mb-6",children:eg}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsxs)("button",{onClick:eu,className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors flex items-center gap-2",children:[(0,s.jsx)(k.RefreshCw,{className:"w-4 h-4"}),"Retry"]}),(0,s.jsx)("button",{onClick:t,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors",children:"Close"})]})]})}):ed?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[92vh] overflow-hidden flex flex-col",children:[(0,s.jsxs)("div",{className:"relative overflow-hidden flex-shrink-0",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-teal-600 via-cyan-600 to-emerald-600",children:(0,s.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48Y2lyY2xlIGN4PSIzMCIgY3k9IjMwIiByPSIyIi8+PC9nPjwvZz48L3N2Zz4=')] opacity-20"})}),(0,s.jsx)("div",{className:"relative px-5 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute -inset-1 bg-white/20 rounded-full blur animate-pulse"}),(0,s.jsx)("div",{className:"relative w-14 h-14 rounded-full overflow-hidden border-2 border-white/50 cursor-pointer hover:border-white transition-colors",onClick:()=>ed.photo&&ey(ed.photo),children:(0,s.jsx)("img",{src:ed.photo,alt:ed.name,className:"w-full h-full object-cover"})}),(0,s.jsx)("div",{className:"absolute -bottom-1 -right-1 p-1 bg-teal-500 rounded-full border-2 border-white",children:(0,s.jsx)(et.Wrench,{className:"w-3 h-3 text-white"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[ed.name,ed.is_active&&(0,s.jsx)(L.BadgeCheck,{className:"w-5 h-5 text-green-300"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 text-white/70 text-xs mt-1",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(E.Hash,{className:"w-3 h-3"}),ed.employee_id]}),(0,s.jsx)("span",{children:"•"}),(0,s.jsxs)("span",{className:"flex items-center gap-1 capitalize",children:[(0,s.jsx)(et.Wrench,{className:"w-3 h-3"}),ed.role]}),(0,s.jsx)("span",{children:"•"}),(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(F.Calendar,{className:"w-3 h-3"}),"Joined: ",ep(ed.date_of_joining)]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(l=ed.is_active,o=ed.employment_status,l&&"Active"===o?(0,s.jsxs)("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-green-100 rounded-full",children:[(0,s.jsx)(d.CheckCircle2,{className:"w-3.5 h-3.5 text-green-600"}),(0,s.jsx)("span",{className:"text-xs font-medium text-green-700",children:"Active"})]}):(0,s.jsxs)("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-gray-100 rounded-full",children:[(0,s.jsx)(N.X,{className:"w-3.5 h-3.5 text-gray-600"}),(0,s.jsx)("span",{className:"text-xs font-medium text-gray-700",children:"Inactive"})]})),ed.is_engaged?(0,s.jsxs)("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-blue-100 rounded-full",children:[(0,s.jsx)(u.Building2,{className:"w-3.5 h-3.5 text-blue-600"}),(0,s.jsx)("span",{className:"text-xs font-medium text-blue-700",children:"Assigned"})]}):(0,s.jsxs)("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-amber-100 rounded-full",children:[(0,s.jsx)(U.Clock,{className:"w-3.5 h-3.5 text-amber-600"}),(0,s.jsx)("span",{className:"text-xs font-medium text-amber-700",children:"Unassigned"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:ef,className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg transition-all duration-300",title:"Print Profile",children:(0,s.jsx)(H.Printer,{className:"w-4 h-4 text-white"})}),(0,s.jsx)("button",{onClick:()=>{navigator.share&&navigator.share({title:`Supervisor Profile - ${ed?.name}`,text:`View profile of ${ed?.name}`,url:window.location.href})},className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg transition-all duration-300",title:"Share Profile",children:(0,s.jsx)(G.Share2,{className:"w-4 h-4 text-white"})}),(0,s.jsx)("button",{onClick:t,className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg transition-all duration-300 hover:scale-110 hover:rotate-90 ml-2",children:(0,s.jsx)(N.X,{className:"w-4 h-4 text-white"})})]})]})]})})]}),(0,s.jsx)("div",{className:"flex bg-gradient-to-r from-gray-50 to-gray-100 px-3 py-2 gap-2 flex-shrink-0 border-b border-gray-200 overflow-x-auto",children:eC.map(e=>{let a=e.icon;return(0,s.jsxs)("button",{onClick:()=>h(e.id),className:`flex-shrink-0 px-4 py-2 flex items-center justify-center gap-2 font-medium rounded-lg transition-all duration-300 ${g===e.id?"bg-white text-gray-800 shadow-md scale-[1.02] border border-gray-200":"text-gray-500 hover:bg-white/50 hover:text-gray-700"}`,children:[(0,s.jsx)("div",{className:`p-1.5 rounded-lg bg-gradient-to-br ${g===e.id?e.color:"from-gray-300 to-gray-400"} shadow-sm`,children:(0,s.jsx)(a,{className:"w-3.5 h-3.5 text-white"})}),(0,s.jsx)("span",{className:"text-sm whitespace-nowrap",children:e.label})]},e.id)})}),(0,s.jsx)("div",{className:"flex-1 p-4 overflow-y-auto bg-gradient-to-br from-gray-50 via-white to-gray-50",children:(0,s.jsxs)("div",{className:"space-y-3",children:["identity"===g&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e_,{icon:A.User,title:"Basic Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,s.jsx)(ev,{label:"Full Name",value:ed.name,field:"name",icon:(0,s.jsx)(A.User,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"Employee ID",value:ed.employee_id,field:"employee_id",icon:(0,s.jsx)(E.Hash,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"Date of Birth",value:ep(ed.dob),field:"dob",icon:(0,s.jsx)(F.Calendar,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"Gender",value:ed.gender?.charAt(0).toUpperCase()+ed.gender?.slice(1),field:"gender",icon:(0,s.jsx)(A.User,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"Marital Status",value:ed.marital_status,field:"marital_status",icon:(0,s.jsx)(J.Heart,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"Nationality",value:ed.nationality,field:"nationality",icon:(0,s.jsx)(Q.Globe,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"Blood Group",value:ed.blood_group,field:"blood_group",icon:(0,s.jsx)(K.Droplet,{className:"w-4 h-4"})})]}),(0,s.jsx)(e_,{icon:c.Phone,title:"Contact Information",color:"from-green-500 to-emerald-600"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,s.jsx)(ev,{label:"Primary Phone",value:ed.phone_number,field:"phone_number",icon:(0,s.jsx)(c.Phone,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"Secondary Phone",value:ed.secondary_phone_number,field:"secondary_phone_number",icon:(0,s.jsx)(c.Phone,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"Email Address",value:ed.email,field:"email",icon:(0,s.jsx)(m.Mail,{className:"w-4 h-4"})})]}),(0,s.jsx)(e_,{icon:ee.Home,title:"Address Information",color:"from-orange-500 to-red-600"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[(0,s.jsx)(ev,{label:"Permanent Address",value:eb(ed.permanent_address),field:"permanent_address",icon:(0,s.jsx)(x.MapPin,{className:"w-4 h-4"})}),!ed.same_as_permanent&&(0,s.jsx)(ev,{label:"Current Address",value:eb(ed.current_address),field:"current_address",icon:(0,s.jsx)(x.MapPin,{className:"w-4 h-4"})}),ed.same_as_permanent&&(0,s.jsx)("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:(0,s.jsxs)("p",{className:"text-sm text-blue-700 flex items-center gap-2",children:[(0,s.jsx)(z.Info,{className:"w-4 h-4"}),"Current address is same as permanent address"]})})]}),(0,s.jsx)(e_,{icon:D.Image,title:"Profile Photo",color:"from-purple-500 to-pink-600"}),(0,s.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(ew,{src:ed.photo,alt:"Profile Photo",onClick:()=>ey(ed.photo)}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Profile Picture"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Click to view full image"})]})]})})]}),"work"===g&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e_,{icon:I.Briefcase,title:"Employment Details"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,s.jsx)(ev,{label:"Role",value:ed.role?.charAt(0).toUpperCase()+ed.role?.slice(1),field:"role",icon:(0,s.jsx)(I.Briefcase,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"Employment Type",value:ed.employment_type,field:"employment_type",icon:(0,s.jsx)(X.FileCheck,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"Employment Status",value:ed.employment_status,field:"employment_status",icon:(0,s.jsx)(q.Activity,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"Date of Joining",value:ep(ed.date_of_joining),field:"date_of_joining",icon:(0,s.jsx)(F.Calendar,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"Registration Date",value:ep(ed.registration_date),field:"registration_date",icon:(0,s.jsx)(F.Calendar,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"Total Experience",value:`${ed.total_experience_years||0} Years`,field:"total_experience_years",icon:(0,s.jsx)(U.Clock,{className:"w-4 h-4"})})]}),ed.warehouse&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e_,{icon:u.Building2,title:"Warehouse Assignment",color:"from-teal-500 to-cyan-600"}),(0,s.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Warehouse Name"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:ed.warehouse.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Location"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:ed.warehouse.location})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Capacity"}),(0,s.jsxs)("p",{className:"text-sm font-semibold text-gray-800",children:[ed.warehouse.capacity_quintal?.toLocaleString()," Quintals"]})]})]})})]}),ed.reporting_manager&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e_,{icon:S.UserCheck,title:"Reporting Manager",color:"from-indigo-500 to-purple-600"}),(0,s.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:ed.reporting_manager})})]}),ed.skills&&ed.skills.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e_,{icon:b.Award,title:"Skills",color:"from-amber-500 to-orange-600"}),(0,s.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:ed.skills.map((e,a)=>(0,s.jsx)("span",{className:"px-3 py-1.5 bg-gradient-to-r from-teal-50 to-cyan-50 text-teal-700 rounded-full text-sm font-medium border border-teal-200",children:e},a))})})]}),ed.experience&&ed.experience.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e_,{icon:es.History,title:"Work Experience",color:"from-violet-500 to-purple-600"}),(0,s.jsx)("div",{className:"space-y-3",children:ed.experience.map((e,a)=>(0,s.jsxs)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h5",{className:"text-sm font-semibold text-gray-800",children:e.title}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:e.companyName})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:[ep(e.startDate)," - ",ep(e.endDate)]}),e.lastDrawnSalary&&(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Last Salary: ₹",e.lastDrawnSalary?.toLocaleString()]})]})]}),e.responsibilities&&(0,s.jsx)("p",{className:"text-xs text-gray-600 mt-2 border-t pt-2",children:e.responsibilities})]},a))})]}),(0,s.jsx)("div",{className:`p-4 rounded-xl border ${ed.onboarding_completed?"bg-green-50 border-green-200":"bg-amber-50 border-amber-200"}`,children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[ed.onboarding_completed?(0,s.jsx)(d.CheckCircle2,{className:"w-5 h-5 text-green-600"}):(0,s.jsx)(U.Clock,{className:"w-5 h-5 text-amber-600"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:`text-sm font-semibold ${ed.onboarding_completed?"text-green-800":"text-amber-800"}`,children:["Onboarding ",ed.onboarding_completed?"Completed":"In Progress"]}),(0,s.jsxs)("p",{className:`text-xs ${ed.onboarding_completed?"text-green-700":"text-amber-700"}`,children:["Step ",ed.step_completed," of 7 completed"]})]})]})})]}),"documents"===g&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e_,{icon:$.FileText,title:"Government IDs"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,s.jsx)(ev,{label:"PAN Number",value:ed.govt_ids?.pan_number,field:"pan_number",maskValue:!0,icon:(0,s.jsx)(W.CreditCard,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"Aadhaar Number",value:ed.govt_ids?.aadhaar_number,field:"aadhaar_number",maskValue:!0,icon:(0,s.jsx)(W.CreditCard,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"Passport Number",value:ed.govt_ids?.passport_number,field:"passport_number",icon:(0,s.jsx)($.FileText,{className:"w-4 h-4"})}),ed.govt_ids?.passport_expiry&&(0,s.jsx)(ev,{label:"Passport Expiry",value:ep(ed.govt_ids?.passport_expiry),field:"passport_expiry",icon:(0,s.jsx)(F.Calendar,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"PF Number",value:ed.govt_ids?.pf_number,field:"pf_number",icon:(0,s.jsx)($.FileText,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"ESI Number",value:ed.govt_ids?.esi_number,field:"esi_number",icon:(0,s.jsx)($.FileText,{className:"w-4 h-4"})})]}),!ed.govt_ids?.pan_number&&!ed.govt_ids?.aadhaar_number&&!ed.govt_ids?.passport_number&&(0,s.jsx)("div",{className:"p-4 rounded-xl border border-amber-200 bg-amber-50",children:(0,s.jsxs)("p",{className:"text-sm text-amber-700 flex items-center gap-2",children:[(0,s.jsx)(P.AlertCircle,{className:"w-4 h-4"}),"No government ID documents have been added yet."]})}),(0,s.jsx)(e_,{icon:Z.GraduationCap,title:"Education",color:"from-blue-500 to-indigo-600"}),ed.education&&ed.education.length>0?(0,s.jsx)("div",{className:"space-y-3",children:ed.education.map((e,a)=>(0,s.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Qualification"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:e.qualification})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Institution"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:e.institution})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Board/University"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:e.boardOrUniversity})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Year of Passing"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:e.yearOfPassing})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Percentage/CGPA"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:e.percentageOrCgpa})]})]})},a))}):(0,s.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-gray-50",children:(0,s.jsxs)("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[(0,s.jsx)(z.Info,{className:"w-4 h-4"}),"No education details have been added yet."]})}),(0,s.jsx)(e_,{icon:b.Award,title:"Certifications",color:"from-amber-500 to-orange-600"}),ed.certifications&&ed.certifications.length>0?(0,s.jsx)("div",{className:"space-y-3",children:ed.certifications.map((e,a)=>(0,s.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Title"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:e.title})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Issuer"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:e.issuer})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Issue Date"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:ep(e.issueDate)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Expiry Date"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:ep(e.expiryDate)})]})]})},a))}):(0,s.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-gray-50",children:(0,s.jsxs)("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[(0,s.jsx)(z.Info,{className:"w-4 h-4"}),"No certifications have been added yet."]})})]}),"finance"===g&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e_,{icon:V.Wallet,title:"Salary Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[ed.salary?(0,s.jsx)(ev,{label:"Monthly Salary",value:`₹${ed.salary?.toLocaleString()}`,field:"salary",icon:(0,s.jsx)(V.Wallet,{className:"w-4 h-4"})}):(0,s.jsx)("div",{className:"p-4 rounded-xl border border-amber-200 bg-amber-50",children:(0,s.jsxs)("p",{className:"text-sm text-amber-700 flex items-center gap-2",children:[(0,s.jsx)(P.AlertCircle,{className:"w-4 h-4"}),"Salary information not available"]})}),(0,s.jsx)(ev,{label:"Tax Status",value:ed.govt_ids?.tax_status,field:"tax_status",icon:(0,s.jsx)($.FileText,{className:"w-4 h-4"})})]}),(0,s.jsx)(e_,{icon:T.Landmark,title:"Bank Account Details",color:"from-green-500 to-emerald-600"}),ed.bank_details&&(ed.bank_details.account_number||ed.bank_details.bank_name||ed.bank_details.account_holder)?(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,s.jsx)(ev,{label:"Account Holder Name",value:ed.bank_details.account_holder,field:"account_holder",icon:(0,s.jsx)(A.User,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"Account Number",value:ed.bank_details.account_number,field:"account_number",maskValue:!0,icon:(0,s.jsx)(W.CreditCard,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"Bank Name",value:ed.bank_details.bank_name,field:"bank_name",icon:(0,s.jsx)(T.Landmark,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"Branch Name",value:ed.bank_details.branch_name,field:"branch_name",icon:(0,s.jsx)(x.MapPin,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"IFSC Code",value:ed.bank_details.ifsc_code,field:"ifsc_code",icon:(0,s.jsx)(E.Hash,{className:"w-4 h-4"})}),(0,s.jsx)(ev,{label:"UPI ID",value:ed.bank_details.upi_id,field:"upi_id",icon:(0,s.jsx)(W.CreditCard,{className:"w-4 h-4"})})]}):(0,s.jsx)("div",{className:"p-4 rounded-xl border border-amber-200 bg-amber-50",children:(0,s.jsxs)("p",{className:"text-sm text-amber-700 flex items-center gap-2",children:[(0,s.jsx)(P.AlertCircle,{className:"w-4 h-4"}),"Bank account details have not been added yet."]})})]}),"additional"===g&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e_,{icon:ea.PhoneCall,title:"Emergency Contacts",color:"from-red-500 to-rose-600"}),ed.emergency_contacts&&ed.emergency_contacts.length>0?(0,s.jsx)("div",{className:"space-y-3",children:ed.emergency_contacts.map((e,a)=>(0,s.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Name"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:e.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Relationship"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:e.relationship})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Phone"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:e.phone})]}),e.alternatePhone&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Alternate Phone"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:e.alternatePhone})]}),e.address&&(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Address"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:e.address})]})]})},a))}):(0,s.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-gray-50",children:(0,s.jsxs)("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[(0,s.jsx)(z.Info,{className:"w-4 h-4"}),"No emergency contacts have been added yet."]})}),(0,s.jsx)(e_,{icon:q.Activity,title:"Medical Information",color:"from-pink-500 to-rose-600"}),ed.medical_conditions?(0,s.jsx)(ev,{label:"Medical Conditions",value:ed.medical_conditions,field:"medical_conditions",icon:(0,s.jsx)(q.Activity,{className:"w-4 h-4"})}):(0,s.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-gray-50",children:(0,s.jsxs)("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[(0,s.jsx)(d.CheckCircle2,{className:"w-4 h-4 text-green-500"}),"No medical conditions reported"]})}),(0,s.jsx)(e_,{icon:R.Shield,title:"Background Verification",color:"from-indigo-500 to-purple-600"}),(0,s.jsx)("div",{className:`p-4 rounded-xl border ${"Passed"===ed.background_check_status?"bg-green-50 border-green-200":"Failed"===ed.background_check_status?"bg-red-50 border-red-200":"bg-amber-50 border-amber-200"}`,children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:["Passed"===ed.background_check_status?(0,s.jsx)(d.CheckCircle2,{className:"w-5 h-5 text-green-600"}):"Failed"===ed.background_check_status?(0,s.jsx)(N.X,{className:"w-5 h-5 text-red-600"}):(0,s.jsx)(U.Clock,{className:"w-5 h-5 text-amber-600"}),(0,s.jsx)("div",{children:(0,s.jsxs)("p",{className:`text-sm font-semibold ${"Passed"===ed.background_check_status?"text-green-800":"Failed"===ed.background_check_status?"text-red-800":"text-amber-800"}`,children:["Background Check: ",ed.background_check_status||"Pending"]})})]})}),(0,s.jsx)(e_,{icon:$.FileText,title:"HR Notes",color:"from-gray-500 to-gray-600"}),ed.hr_notes?(0,s.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:(0,s.jsx)("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:ed.hr_notes})}):(0,s.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-gray-50",children:(0,s.jsxs)("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[(0,s.jsx)(z.Info,{className:"w-4 h-4"}),"No HR notes available"]})}),(0,s.jsx)(e_,{icon:z.Info,title:"System Information",color:"from-gray-500 to-gray-600"}),(0,s.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-gray-50",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Created At"}),(0,s.jsx)("p",{className:"text-xs font-medium text-gray-700",children:ep(ed.created_at)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Updated At"}),(0,s.jsx)("p",{className:"text-xs font-medium text-gray-700",children:ep(ed.updated_at)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Is Engaged"}),(0,s.jsx)("p",{className:"text-xs font-medium text-gray-700",children:ed.is_engaged?"Yes":"No"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Profile ID"}),(0,s.jsx)("p",{className:"text-xs font-medium text-gray-700 truncate",title:ed.employee_profile_id,children:ed.employee_profile_id?.slice(-8)})]})]})})]})]})}),(0,s.jsx)("div",{className:"border-t border-gray-200 bg-gradient-to-r from-gray-50 via-white to-gray-50 px-5 py-3 flex-shrink-0",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[(0,s.jsx)(z.Info,{className:"w-3.5 h-3.5"}),(0,s.jsx)("span",{children:"Read-only view. Contact administrator for any changes."})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsxs)("button",{onClick:eu,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-all duration-300 font-medium text-sm flex items-center gap-2",children:[(0,s.jsx)(k.RefreshCw,{className:"w-4 h-4"}),"Refresh"]}),(0,s.jsxs)("button",{onClick:ef,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-all duration-300 font-medium text-sm flex items-center gap-2",children:[(0,s.jsx)(H.Printer,{className:"w-4 h-4"}),"Print"]}),(0,s.jsx)("button",{onClick:t,className:"px-4 py-2 bg-gradient-to-r from-teal-600 to-cyan-600 text-white rounded-lg hover:shadow-lg transition-all duration-300 font-medium text-sm transform hover:scale-105",children:"Close"})]})]})})]})}),p&&(0,s.jsx)(({image:e,onClose:a})=>e?(0,s.jsxs)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex items-center justify-center z-[60]",onClick:a,children:[(0,s.jsx)("button",{onClick:a,className:"absolute top-4 right-4 p-2.5 bg-white/10 hover:bg-white/20 rounded-xl transition-all duration-300 hover:scale-110 group z-10",children:(0,s.jsx)(N.X,{className:"w-5 h-5 text-white group-hover:rotate-90 transition-transform duration-300"})}),_.length>1&&(0,s.jsx)("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 px-3 py-1.5 bg-white/10 backdrop-blur-sm rounded-full",children:(0,s.jsxs)("span",{className:"text-white text-sm font-medium",children:[el+1," / ",_.length]})}),_.length>1&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),eN("prev")},className:"absolute left-4 top-1/2 -translate-y-1/2 p-3 bg-white/10 hover:bg-white/20 rounded-xl transition-all duration-300 hover:scale-110 group",children:(0,s.jsx)(j.ChevronLeft,{className:"w-6 h-6 text-white group-hover:-translate-x-1 transition-transform"})}),(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),eN("next")},className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 bg-white/10 hover:bg-white/20 rounded-xl transition-all duration-300 hover:scale-110 group",children:(0,s.jsx)(f.ChevronRight,{className:"w-6 h-6 text-white group-hover:translate-x-1 transition-transform"})})]}),(0,s.jsxs)("div",{className:"relative max-w-[85vw] max-h-[85vh] p-4",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl bg-white/5 backdrop-blur-sm border border-white/10",children:[(0,s.jsx)("img",{src:e,alt:"Supervisor",className:"max-w-full max-h-[75vh] object-contain transition-transform duration-500",style:{transform:`rotate(${v}deg)`}}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-black/70 to-transparent"})]}),(0,s.jsx)("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 flex items-center gap-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2.5 bg-white/10 backdrop-blur-xl rounded-xl border border-white/20",children:[(0,s.jsx)("button",{onClick:()=>w(e=>e-90),className:"p-2.5 hover:bg-white/20 rounded-lg transition-all duration-200 group",title:"Rotate Left",children:(0,s.jsx)(M.RotateCw,{className:"w-4 h-4 text-white transform -scale-x-100 group-hover:rotate-[-90deg] transition-transform duration-300"})}),(0,s.jsx)("div",{className:"w-px h-6 bg-white/20"}),(0,s.jsx)("button",{onClick:()=>w(e=>e+90),className:"p-2.5 hover:bg-white/20 rounded-lg transition-all duration-200 group",title:"Rotate Right",children:(0,s.jsx)(M.RotateCw,{className:"w-4 h-4 text-white group-hover:rotate-90 transition-transform duration-300"})}),(0,s.jsx)("div",{className:"w-px h-6 bg-white/20"}),(0,s.jsx)("button",{onClick:()=>window.open(e,"_blank"),className:"p-2.5 hover:bg-white/20 rounded-lg transition-all duration-200 group",title:"Open in New Tab",children:(0,s.jsx)(B.Maximize2,{className:"w-4 h-4 text-white group-hover:scale-110 transition-transform duration-300"})}),(0,s.jsx)("div",{className:"w-px h-6 bg-white/20"}),(0,s.jsxs)("button",{onClick:()=>ej(e),className:"flex items-center gap-2 px-3.5 py-2.5 bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 rounded-lg transition-all duration-300 hover:scale-105",title:"Download",children:[(0,s.jsx)(i.Download,{className:"w-4 h-4 text-white"}),(0,s.jsx)("span",{className:"text-white font-medium text-sm",children:"Download"})]})]})})]})]}):null,{image:p,onClose:()=>y(null)})]}):(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8 flex flex-col items-center justify-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:(0,s.jsx)(A.User,{className:"w-8 h-8 text-gray-400"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Data Found"}),(0,s.jsx)("p",{className:"text-gray-600 text-center mb-6",children:"Supervisor details could not be found."}),(0,s.jsx)("button",{onClick:t,className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors",children:"Close"})]})})};var ei=e.i(56909),en=e.i(81418),eo=e.i(69074),ed=e.i(27612),ec=e.i(78894),em=e.i(64659),ex=e.i(55900);let eg=({label:e,field:a,type:t="text",required:r=!1,icon:l,options:i=null,nestedPath:n=null,placeholder:o="",disabled:c=!1,value:m,onChange:x,onBlur:g,hasError:h,errorMessage:u,isValid:p,isChanged:b})=>(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsxs)("label",{className:"text-xs font-medium text-gray-700 flex items-center gap-1.5",children:[l&&(0,s.jsx)(l,{className:"w-3.5 h-3.5 text-gray-400"}),e,r&&(0,s.jsx)("span",{className:"text-red-500",children:"*"}),b&&(0,s.jsx)("span",{className:"ml-auto text-xs text-amber-600 font-normal",children:"Modified"})]}),(0,s.jsxs)("div",{className:"relative",children:[i?(0,s.jsxs)("select",{value:m||"",onChange:e=>x(a,e.target.value,n),disabled:c,className:`w-full px-3 py-2 border rounded-lg text-sm transition-all ${h?"border-red-300 bg-red-50":b?"border-amber-300 bg-amber-50":"border-gray-300"} ${c?"bg-gray-100 cursor-not-allowed":""} focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500`,children:[(0,s.jsxs)("option",{value:"",children:["Select ",e]}),i.map(e=>(0,s.jsx)("option",{value:"object"==typeof e?e.value:e,children:"object"==typeof e?e.label:e},"object"==typeof e?e.value:e))]}):"textarea"===t?(0,s.jsx)("textarea",{value:m||"",onChange:e=>x(a,e.target.value,n),onBlur:()=>g&&g(a),disabled:c,placeholder:o,rows:3,className:`w-full px-3 py-2 border rounded-lg text-sm transition-all resize-none ${h?"border-red-300 bg-red-50":b?"border-amber-300 bg-amber-50":"border-gray-300"} ${c?"bg-gray-100 cursor-not-allowed":""} focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500`}):(0,s.jsx)("input",{type:t,value:m||"",onChange:e=>x(a,"number"===t?Number(e.target.value):e.target.value,n),onBlur:()=>g&&g(a),disabled:c,placeholder:o,className:`w-full px-3 py-2 border rounded-lg text-sm transition-all ${h?"border-red-300 bg-red-50":b?"border-amber-300 bg-amber-50":"border-gray-300"} ${c?"bg-gray-100 cursor-not-allowed":""} focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500`}),h&&(0,s.jsx)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:(0,s.jsx)(P.AlertCircle,{className:"w-4 h-4 text-red-500"})}),p&&!h&&(0,s.jsx)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:(0,s.jsx)(d.CheckCircle2,{className:"w-4 h-4 text-green-500"})})]}),h&&(0,s.jsxs)("p",{className:"text-xs text-red-600 flex items-center gap-1",children:[(0,s.jsx)(P.AlertCircle,{className:"w-3 h-3"}),u]})]}),eh=({icon:e,title:a,color:t="from-indigo-500 to-purple-600",collapsible:r=!1,isExpanded:l=!1,onToggle:i=null})=>(0,s.jsxs)("div",{className:`flex items-center justify-between mb-4 ${r?"cursor-pointer":""}`,onClick:()=>r&&i&&i(),children:[(0,s.jsxs)("h3",{className:"text-sm font-semibold text-gray-800 flex items-center gap-2",children:[(0,s.jsx)("div",{className:`p-1.5 bg-gradient-to-br ${t} rounded-lg shadow-sm`,children:(0,s.jsx)(e,{className:"w-4 h-4 text-white"})}),a]}),r&&(0,s.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded transition-colors",children:l?(0,s.jsx)(ex.ChevronUp,{className:"w-4 h-4 text-gray-500"}):(0,s.jsx)(em.ChevronDown,{className:"w-4 h-4 text-gray-500"})})]}),eu=({currentImage:e,onImageChange:t,onImageRemove:r})=>{let[l,i]=(0,a.useState)(e),[o,d]=(0,a.useState)(!1),[c,m]=(0,a.useState)(0),[x,g]=(0,a.useState)(null);(0,a.useEffect)(()=>{i(e)},[e]);let h=async e=>{let s=e.name.split(".").pop(),a=`supervisor_photo_${Date.now()}.${s}`,t=await fetch(`${er.default}/aws/getpresigneduploadurls`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({files:[{fileName:a,fileType:e.type,folder:"employee-photos"}]})});if(!t.ok)throw Error("Failed to get presigned URL");let r=await t.json();if(!r.success||!r.urls||0===r.urls.length)throw Error("Failed to get presigned URL");return r.urls[0]},u=async(e,s)=>{if(!(await fetch(s,{method:"PUT",headers:{"Content-Type":e.type},body:e})).ok)throw Error("Failed to upload file to S3");return s.split("?")[0]},p=async s=>{let a=s.target.files[0];if(a){if(a.size>5242880)return void g("File size must be less than 5MB");if(!a.type.startsWith("image/"))return void g("Only image files are allowed");d(!0),g(null),m(0);try{let e=new FileReader;e.onloadend=()=>{i(e.result)},e.readAsDataURL(a),m(20);let{uploadUrl:s,publicUrl:r}=await h(a);m(40),await u(a,s),m(80),i(r),t(r),m(100),setTimeout(()=>{m(0)},500)}catch(s){console.error("Error uploading image:",s),g("Failed to upload image. Please try again."),i(e)}finally{d(!1)}}};return(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"text-xs font-medium text-gray-700 flex items-center gap-1.5",children:[(0,s.jsx)(D.Image,{className:"w-3.5 h-3.5 text-gray-400"}),"Profile Photo"]}),(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)("div",{className:`w-24 h-24 rounded-xl overflow-hidden border-2 border-dashed transition-colors ${o?"border-indigo-400 bg-indigo-50":"border-gray-300 hover:border-indigo-400"}`,children:o?(0,s.jsxs)("div",{className:"w-full h-full flex flex-col items-center justify-center bg-indigo-50",children:[(0,s.jsx)(Y.Loader2,{className:"w-6 h-6 text-indigo-500 animate-spin mb-1"}),(0,s.jsxs)("span",{className:"text-xs text-indigo-600",children:[c,"%"]})]}):l?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("img",{src:l,alt:"Profile",className:"w-full h-full object-cover"}),(0,s.jsxs)("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[(0,s.jsx)("button",{type:"button",onClick:()=>window.open(l,"_blank"),className:"p-1.5 bg-white/20 backdrop-blur-sm rounded-lg hover:bg-white/30 transition-colors",children:(0,s.jsx)(n.Eye,{className:"w-4 h-4 text-white"})}),(0,s.jsx)("button",{type:"button",onClick:()=>{i(null),g(null),r()},className:"p-1.5 bg-white/20 backdrop-blur-sm rounded-lg hover:bg-white/30 transition-colors",children:(0,s.jsx)(ed.Trash2,{className:"w-4 h-4 text-white"})})]})]}):(0,s.jsxs)("label",{className:"cursor-pointer w-full h-full flex flex-col items-center justify-center text-gray-400 hover:text-indigo-500 transition-colors",children:[(0,s.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:p,disabled:o}),(0,s.jsx)(eo.Upload,{className:"w-6 h-6 mb-1"}),(0,s.jsx)("span",{className:"text-xs",children:"Upload"})]})}),o&&c>0&&(0,s.jsx)("div",{className:"absolute -bottom-2 left-0 right-0 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-gradient-to-r from-indigo-500 to-purple-500 transition-all duration-300",style:{width:`${c}%`}})})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Upload a profile photo. Recommended size: 256x256 pixels."}),(0,s.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Supported formats: JPG, PNG (max 5MB)"}),x&&(0,s.jsxs)("p",{className:"text-xs text-red-600 mt-1 flex items-center gap-1",children:[(0,s.jsx)(P.AlertCircle,{className:"w-3 h-3"}),x]}),l&&!o&&(0,s.jsxs)("label",{className:"mt-2 inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-indigo-600 hover:bg-indigo-50 rounded-lg cursor-pointer transition-colors",children:[(0,s.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:p,disabled:o}),(0,s.jsx)(k.RefreshCw,{className:"w-3.5 h-3.5"}),"Change Photo"]})]})]})]})},ep=({isOpen:e,onClose:t,onSave:l,supervisorId:i})=>{let n,[g,h]=(0,a.useState)({}),[u,p]=(0,a.useState)({}),[j,f]=(0,a.useState)("personal"),[y,v]=(0,a.useState)({}),[w,_]=(0,a.useState)(!1),[C,S]=(0,a.useState)(new Set),[B,M]=(0,a.useState)(!1),[L,R]=(0,a.useState)({}),[O,G]=(0,a.useState)({}),[H,et]=(0,a.useState)({}),[el,eo]=(0,a.useState)(!1),[em,ex]=(0,a.useState)(!1),[ep,eb]=(0,a.useState)(null),[ej,ef]=(0,a.useState)(!1);(0,a.useEffect)(()=>{e&&i&&ey()},[e,i]),(0,a.useEffect)(()=>{e||(f("personal"),v({}),_(!1),S(new Set),R({}),G({}),ef(!1))},[e]);let ey=async()=>{eo(!0),eb(null);try{let e=await fetch(`${er.default}/employee/getsupervisordetail?supervisorId=${i}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),s=await e.json();if(s.success){let e=s.data,a={_id:e._id,name:e.name||"",phone_number:e.phone_number||"",secondary_phone_number:e.secondary_phone_number||"",email:e.email||"",gender:e.gender||"",dob:e.dob?e.dob.split("T")[0]:"",role:e.role||"",is_active:e.is_active??!0,employee_id:e.employee_id||"",photo:e.photo||"",marital_status:e.marital_status||"",nationality:e.nationality||"",blood_group:e.blood_group||"",permanent_address:e.permanent_address||{line1:"",line2:"",city:"",state:"",country:"",postalCode:""},current_address:e.current_address||{line1:"",line2:"",city:"",state:"",country:"",postalCode:""},same_as_permanent:e.same_as_permanent??!1,employment_type:e.employment_type||"",date_of_joining:e.date_of_joining?e.date_of_joining.split("T")[0]:"",employment_status:e.employment_status||"",salary:e.salary||0,bank_details:e.bank_details||{account_number:"",ifsc_code:"",account_holder:"",bank_name:"",branch_name:"",upi_id:""},govt_ids:e.govt_ids||{pan_number:"",aadhaar_number:"",passport_number:"",passport_expiry:"",pf_number:"",esi_number:"",tax_status:""},education:e.education||[],certifications:e.certifications||[],experience:e.experience||[],total_experience_years:e.total_experience_years||0,skills:e.skills||[],medical_conditions:e.medical_conditions||"",emergency_contacts:e.emergency_contacts||[],hr_notes:e.hr_notes||"",background_check_status:e.background_check_status||"",warehouse:e.warehouse?._id||"",manager:e.manager?._id||""};h(a),p(JSON.parse(JSON.stringify(a)))}else eb(s.message||"Failed to fetch supervisor details")}catch(e){eb("Failed to fetch supervisor details. Please try again."),console.error("Error fetching supervisor:",e)}finally{eo(!1)}},eN=async()=>{let e={};if(["name","phone_number","email"].forEach(s=>{g[s]||(e[s]="This field is required")}),g.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g.email)&&(e.email="Invalid email format"),g.phone_number&&!/^\d{10}$/.test(g.phone_number)&&(e.phone_number="Phone number must be 10 digits"),Object.keys(e).length>0)return void v(e);ex(!0),eb(null);try{let e={supervisorId:i,...g,modifiedFields:Array.from(C),modifiedAt:new Date().toISOString()},s=await fetch(`${er.default}/employee/updatesupervisordetail?supervisorId=${i}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(e)}),a=await s.json();a.success?(ef(!0),_(!1),S(new Set),p(JSON.parse(JSON.stringify(g))),l&&l(a.data),setTimeout(()=>{ef(!1),t()},1500)):eb(a.message||"Failed to update supervisor details")}catch(e){eb("Failed to update supervisor details. Please try again."),console.error("Error updating supervisor:",e)}finally{ex(!1)}};if(!e)return null;let ev=e=>{if(!e)return"";try{return e.split("T")[0]}catch{return e}},ew=(e,s,a=null)=>{h(t=>{if(a){let[e,r]=a.split(".");return{...t,[e]:{...t[e],[r]:s}}}return{...t,[e]:s}});let t=a||e;S(e=>new Set(e).add(t)),_(!0),v(s=>{let a={...s};return delete a[e],a})},e_=(e,s,a,t)=>{h(r=>{let l=[...r[e]||[]];return l[s]={...l[s],[a]:t},{...r,[e]:l}}),S(s=>new Set(s).add(e)),_(!0)},eC=(e,s)=>{h(a=>({...a,[e]:[...a[e]||[],s]})),S(s=>new Set(s).add(e)),_(!0)},ek=(e,s)=>{h(a=>({...a,[e]:a[e].filter((e,a)=>a!==s)})),S(s=>new Set(s).add(e)),_(!0)},eP=e=>{let s=((e,s)=>{switch(e){case"email":return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)?null:"Invalid email format";case"phone_number":case"secondary_phone_number":return!s||/^\d{10}$/.test(s)?null:"Phone number must be 10 digits";case"postalCode":return!s||/^\d{6}$/.test(s)?null:"Postal code must be 6 digits";default:return null}})(e,g[e]);s?(v(a=>({...a,[e]:s})),G(s=>({...s,[e]:"error"}))):G(s=>({...s,[e]:"success"}))},eS=()=>{w?M(!0):t()},eA=[{id:"personal",label:"Personal Info",icon:A.User,color:"from-blue-500 to-indigo-600"},{id:"employment",label:"Employment",icon:I.Briefcase,color:"from-violet-500 to-purple-600"},{id:"documents",label:"Documents",icon:$.FileText,color:"from-emerald-500 to-teal-600"},{id:"finance",label:"Bank & Salary",icon:V.Wallet,color:"from-amber-500 to-orange-600"},{id:"additional",label:"Additional",icon:z.Info,color:"from-pink-500 to-rose-600"}],eI=e=>{let{field:a,nestedPath:t}=e,r=t?t.split(".").reduce((e,s)=>e?.[s],g):g[a],l=y[a],i="success"===O[a],n=C.has(t||a);return(0,s.jsx)(eg,{...e,value:r,onChange:ew,onBlur:eP,hasError:l,errorMessage:l,isValid:i,isChanged:n})},e$=e=>{let{sectionKey:a}=e;return(0,s.jsx)(eh,{...e,isExpanded:!!a&&H[a],onToggle:a?()=>{et(e=>({...e,[a]:!e[a]}))}:null})},eD=e=>(0,s.jsx)("div",{className:"space-y-3",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[eI({label:"Address Line 1",field:"line1",nestedPath:`${e}.line1`,icon:ee.Home,placeholder:"Street address"}),eI({label:"Address Line 2",field:"line2",nestedPath:`${e}.line2`,icon:ee.Home,placeholder:"Apartment, suite, etc."}),eI({label:"City",field:"city",nestedPath:`${e}.city`,icon:x.MapPin}),eI({label:"State",field:"state",nestedPath:`${e}.state`,icon:x.MapPin}),eI({label:"Country",field:"country",nestedPath:`${e}.country`,icon:Q.Globe}),eI({label:"Postal Code",field:"postalCode",nestedPath:`${e}.postalCode`,icon:E.Hash})]})});return el?(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl p-8 flex flex-col items-center justify-center",children:[(0,s.jsx)(Y.Loader2,{className:"w-12 h-12 text-indigo-600 animate-spin mb-4"}),(0,s.jsx)("p",{className:"text-gray-600 font-medium",children:"Loading supervisor details..."})]})}):ep&&!g._id?(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8 flex flex-col items-center justify-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:(0,s.jsx)(P.AlertCircle,{className:"w-8 h-8 text-red-600"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Error Loading Data"}),(0,s.jsx)("p",{className:"text-gray-600 text-center mb-6",children:ep}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsxs)("button",{onClick:ey,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors flex items-center gap-2",children:[(0,s.jsx)(k.RefreshCw,{className:"w-4 h-4"}),"Retry"]}),(0,s.jsx)("button",{onClick:t,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors",children:"Close"})]})]})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[92vh] overflow-hidden flex flex-col",children:[(0,s.jsxs)("div",{className:"relative overflow-hidden flex-shrink-0",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-teal-600 via-cyan-600 to-blue-600",children:(0,s.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48Y2lyY2xlIGN4PSIzMCIgY3k9IjMwIiByPSIyIi8+PC9nPjwvZz48L3N2Zz4=')] opacity-20"})}),(0,s.jsx)("div",{className:"relative px-5 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute -inset-1 bg-white/20 rounded-full blur animate-pulse"}),(0,s.jsx)("div",{className:"relative w-12 h-12 rounded-full overflow-hidden border-2 border-white/50",children:(0,s.jsx)("img",{src:g.photo||`https://ui-avatars.com/api/?name=${g.name}&background=random&size=256`,alt:g.name,className:"w-full h-full object-cover"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[(0,s.jsx)(o.Edit3,{className:"w-5 h-5"}),"Edit Supervisor Profile"]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 text-white/70 text-xs mt-1",children:[(0,s.jsx)("span",{children:g.name}),(0,s.jsx)("span",{children:"•"}),(0,s.jsxs)("span",{children:["ID: ",g.employee_id]}),w&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:"•"}),(0,s.jsxs)("span",{className:"text-yellow-300 font-medium flex items-center gap-1",children:[(0,s.jsx)(P.AlertCircle,{className:"w-3 h-3"}),C.size," field(s) modified"]})]})]})]})]}),(0,s.jsx)("div",{className:"flex items-center gap-3",children:(0,s.jsx)("button",{onClick:eS,className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg transition-all duration-300",children:(0,s.jsx)(N.X,{className:"w-4 h-4 text-white"})})})]})})]}),ej&&(0,s.jsxs)("div",{className:"bg-green-50 border-b border-green-200 px-5 py-3 flex items-center gap-3",children:[(0,s.jsx)(d.CheckCircle2,{className:"w-5 h-5 text-green-600"}),(0,s.jsx)("span",{className:"text-sm font-medium text-green-800",children:"Supervisor details updated successfully!"})]}),ep&&g._id&&(0,s.jsxs)("div",{className:"bg-red-50 border-b border-red-200 px-5 py-3 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(P.AlertCircle,{className:"w-5 h-5 text-red-600"}),(0,s.jsx)("span",{className:"text-sm font-medium text-red-800",children:ep})]}),(0,s.jsx)("button",{onClick:()=>eb(null),className:"p-1 hover:bg-red-100 rounded transition-colors",children:(0,s.jsx)(N.X,{className:"w-4 h-4 text-red-600"})})]}),(0,s.jsx)("div",{className:"flex bg-gradient-to-r from-gray-50 to-gray-100 px-3 py-2 gap-2 flex-shrink-0 border-b border-gray-200 overflow-x-auto",children:eA.map(e=>{let a=e.icon;return(0,s.jsxs)("button",{onClick:()=>f(e.id),className:`flex-shrink-0 px-4 py-2 flex items-center gap-2 font-medium rounded-lg transition-all duration-300 ${j===e.id?"bg-white text-gray-800 shadow-md scale-[1.02] border border-gray-200":"text-gray-500 hover:bg-white/50 hover:text-gray-700"}`,children:[(0,s.jsx)("div",{className:`p-1.5 rounded-lg bg-gradient-to-br ${j===e.id?e.color:"from-gray-300 to-gray-400"} shadow-sm`,children:(0,s.jsx)(a,{className:"w-3.5 h-3.5 text-white"})}),(0,s.jsx)("span",{className:"text-sm whitespace-nowrap",children:e.label})]},e.id)})}),(0,s.jsx)("div",{className:"flex-1 p-4 overflow-y-auto bg-gradient-to-br from-gray-50 via-white to-gray-50",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto space-y-4",children:["personal"===j&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[e$({icon:A.User,title:"Basic Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[eI({label:"Full Name",field:"name",required:!0,icon:A.User}),eI({label:"Employee ID",field:"employee_id",icon:E.Hash,disabled:!0}),eI({label:"Date of Birth",field:"dob",type:"date",icon:F.Calendar}),eI({label:"Gender",field:"gender",options:["male","female","other"],icon:A.User}),eI({label:"Marital Status",field:"marital_status",options:["Single","Married","Divorced","Widowed"],icon:J.Heart}),eI({label:"Nationality",field:"nationality",icon:Q.Globe}),eI({label:"Blood Group",field:"blood_group",options:["A+","A-","B+","B-","AB+","AB-","O+","O-"],icon:K.Droplet})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[e$({icon:c.Phone,title:"Contact Information",color:"from-green-500 to-emerald-600"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[eI({label:"Primary Phone",field:"phone_number",required:!0,icon:c.Phone,placeholder:"10 digit phone number"}),eI({label:"Secondary Phone",field:"secondary_phone_number",icon:c.Phone,placeholder:"10 digit phone number"}),(0,s.jsx)("div",{className:"md:col-span-2",children:eI({label:"Email Address",field:"email",type:"email",required:!0,icon:m.Mail})})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[e$({icon:ee.Home,title:"Permanent Address",color:"from-orange-500 to-red-600"}),eD("permanent_address")]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[e$({icon:x.MapPin,title:"Current Address",color:"from-teal-500 to-cyan-600"}),(0,s.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:g.same_as_permanent,onChange:e=>ew("same_as_permanent",e.target.checked),className:"w-4 h-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),(0,s.jsx)("span",{className:"text-xs text-gray-600",children:"Same as permanent address"})]})]}),!g.same_as_permanent&&eD("current_address"),g.same_as_permanent&&(0,s.jsx)("p",{className:"text-sm text-gray-500 italic",children:"Current address is same as permanent address"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[e$({icon:D.Image,title:"Profile Photo",color:"from-purple-500 to-pink-600"}),(n=g.photo,(0,s.jsx)(eu,{currentImage:n,onImageChange:e=>ew("photo",e),onImageRemove:()=>ew("photo","")}))]})]}),"employment"===j&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[e$({icon:I.Briefcase,title:"Employment Details"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[eI({label:"Role",field:"role",options:["supervisor","team_lead"],icon:I.Briefcase}),eI({label:"Employment Type",field:"employment_type",options:["Full-Time","Part-Time","Contract","Internship"],icon:X.FileCheck}),eI({label:"Employment Status",field:"employment_status",options:["Active","On Leave","Terminated","Resigned"],icon:q.Activity}),eI({label:"Date of Joining",field:"date_of_joining",type:"date",icon:F.Calendar}),eI({label:"Total Experience (Years)",field:"total_experience_years",type:"number",icon:U.Clock}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("label",{className:"text-xs font-medium text-gray-700 flex items-center gap-1.5",children:[(0,s.jsx)(q.Activity,{className:"w-3.5 h-3.5 text-gray-400"}),"Active Status"]}),(0,s.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:g.is_active,onChange:e=>ew("is_active",e.target.checked),className:"sr-only peer"}),(0,s.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[e$({icon:es.History,title:"Work Experience",color:"from-violet-500 to-purple-600"}),(0,s.jsxs)("button",{onClick:()=>eC("experience",{companyName:"",title:"",startDate:"",endDate:"",responsibilities:"",lastDrawnSalary:0}),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",children:[(0,s.jsx)(r.Plus,{className:"w-3.5 h-3.5"}),"Add Experience"]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[g.experience?.map((e,a)=>(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:["Experience #",a+1]}),(0,s.jsx)("button",{onClick:()=>ek("experience",a),className:"p-1 text-red-500 hover:bg-red-50 rounded transition-colors",children:(0,s.jsx)(ed.Trash2,{className:"w-4 h-4"})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Company Name"}),(0,s.jsx)("input",{type:"text",value:e.companyName||"",onChange:e=>e_("experience",a,"companyName",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Job Title"}),(0,s.jsx)("input",{type:"text",value:e.title||"",onChange:e=>e_("experience",a,"title",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Start Date"}),(0,s.jsx)("input",{type:"date",value:ev(e.startDate),onChange:e=>e_("experience",a,"startDate",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"End Date"}),(0,s.jsx)("input",{type:"date",value:ev(e.endDate),onChange:e=>e_("experience",a,"endDate",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Last Drawn Salary"}),(0,s.jsx)("input",{type:"number",value:e.lastDrawnSalary||"",onChange:e=>e_("experience",a,"lastDrawnSalary",Number(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"})]}),(0,s.jsxs)("div",{className:"md:col-span-2 space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Responsibilities"}),(0,s.jsx)("textarea",{value:e.responsibilities||"",onChange:e=>e_("experience",a,"responsibilities",e.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 resize-none"})]})]})]},a)),(!g.experience||0===g.experience.length)&&(0,s.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No work experience added"})]})]})]}),"documents"===j&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[e$({icon:W.CreditCard,title:"Government IDs"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[eI({label:"PAN Number",field:"pan_number",nestedPath:"govt_ids.pan_number",icon:W.CreditCard}),eI({label:"Aadhaar Number",field:"aadhaar_number",nestedPath:"govt_ids.aadhaar_number",icon:W.CreditCard}),eI({label:"Passport Number",field:"passport_number",nestedPath:"govt_ids.passport_number",icon:$.FileText}),eI({label:"Passport Expiry",field:"passport_expiry",nestedPath:"govt_ids.passport_expiry",type:"date",icon:F.Calendar}),eI({label:"PF Number",field:"pf_number",nestedPath:"govt_ids.pf_number",icon:$.FileText}),eI({label:"ESI Number",field:"esi_number",nestedPath:"govt_ids.esi_number",icon:$.FileText}),eI({label:"Tax Status",field:"tax_status",nestedPath:"govt_ids.tax_status",icon:$.FileText})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[e$({icon:Z.GraduationCap,title:"Education",color:"from-blue-500 to-indigo-600"}),(0,s.jsxs)("button",{onClick:()=>eC("education",{qualification:"",institution:"",boardOrUniversity:"",yearOfPassing:"",percentageOrCgpa:"",certificateUrl:""}),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",children:[(0,s.jsx)(r.Plus,{className:"w-3.5 h-3.5"}),"Add Education"]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[g.education?.map((e,a)=>(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:["Education #",a+1]}),(0,s.jsx)("button",{onClick:()=>ek("education",a),className:"p-1 text-red-500 hover:bg-red-50 rounded transition-colors",children:(0,s.jsx)(ed.Trash2,{className:"w-4 h-4"})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Qualification"}),(0,s.jsx)("input",{type:"text",value:e.qualification||"",onChange:e=>e_("education",a,"qualification",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Institution"}),(0,s.jsx)("input",{type:"text",value:e.institution||"",onChange:e=>e_("education",a,"institution",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Board/University"}),(0,s.jsx)("input",{type:"text",value:e.boardOrUniversity||"",onChange:e=>e_("education",a,"boardOrUniversity",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Year of Passing"}),(0,s.jsx)("input",{type:"number",value:e.yearOfPassing||"",onChange:e=>e_("education",a,"yearOfPassing",Number(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Percentage/CGPA"}),(0,s.jsx)("input",{type:"text",value:e.percentageOrCgpa||"",onChange:e=>e_("education",a,"percentageOrCgpa",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"})]})]})]},a)),(!g.education||0===g.education.length)&&(0,s.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No education records added"})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[e$({icon:b.Award,title:"Certifications",color:"from-amber-500 to-orange-600"}),(0,s.jsxs)("button",{onClick:()=>eC("certifications",{title:"",issuer:"",issueDate:"",expiryDate:"",credentialUrl:""}),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",children:[(0,s.jsx)(r.Plus,{className:"w-3.5 h-3.5"}),"Add Certification"]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[g.certifications?.map((e,a)=>(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:["Certification #",a+1]}),(0,s.jsx)("button",{onClick:()=>ek("certifications",a),className:"p-1 text-red-500 hover:bg-red-50 rounded transition-colors",children:(0,s.jsx)(ed.Trash2,{className:"w-4 h-4"})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Title"}),(0,s.jsx)("input",{type:"text",value:e.title||"",onChange:e=>e_("certifications",a,"title",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Issuer"}),(0,s.jsx)("input",{type:"text",value:e.issuer||"",onChange:e=>e_("certifications",a,"issuer",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Issue Date"}),(0,s.jsx)("input",{type:"date",value:ev(e.issueDate),onChange:e=>e_("certifications",a,"issueDate",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Expiry Date"}),(0,s.jsx)("input",{type:"date",value:ev(e.expiryDate),onChange:e=>e_("certifications",a,"expiryDate",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"})]})]})]},a)),(!g.certifications||0===g.certifications.length)&&(0,s.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No certifications added"})]})]})]}),"finance"===j&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[e$({icon:V.Wallet,title:"Salary Information"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:eI({label:"Monthly Salary (₹)",field:"salary",type:"number",icon:V.Wallet})})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[e$({icon:T.Landmark,title:"Bank Account Details",color:"from-green-500 to-emerald-600"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[eI({label:"Account Holder Name",field:"account_holder",nestedPath:"bank_details.account_holder",icon:A.User}),eI({label:"Account Number",field:"account_number",nestedPath:"bank_details.account_number",icon:W.CreditCard}),eI({label:"Bank Name",field:"bank_name",nestedPath:"bank_details.bank_name",icon:T.Landmark}),eI({label:"Branch Name",field:"branch_name",nestedPath:"bank_details.branch_name",icon:x.MapPin}),eI({label:"IFSC Code",field:"ifsc_code",nestedPath:"bank_details.ifsc_code",icon:E.Hash}),eI({label:"UPI ID",field:"upi_id",nestedPath:"bank_details.upi_id",icon:W.CreditCard})]})]})]}),"additional"===j&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[e$({icon:ea.PhoneCall,title:"Emergency Contacts",color:"from-red-500 to-rose-600"}),(0,s.jsxs)("button",{onClick:()=>eC("emergency_contacts",{name:"",relationship:"",phone:"",alternatePhone:"",address:""}),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",children:[(0,s.jsx)(r.Plus,{className:"w-3.5 h-3.5"}),"Add Contact"]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[g.emergency_contacts?.map((e,a)=>(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:["Contact #",a+1]}),(0,s.jsx)("button",{onClick:()=>ek("emergency_contacts",a),className:"p-1 text-red-500 hover:bg-red-50 rounded transition-colors",children:(0,s.jsx)(ed.Trash2,{className:"w-4 h-4"})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Name"}),(0,s.jsx)("input",{type:"text",value:e.name||"",onChange:e=>e_("emergency_contacts",a,"name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Relationship"}),(0,s.jsxs)("select",{value:e.relationship||"",onChange:e=>e_("emergency_contacts",a,"relationship",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500",children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{value:"Spouse",children:"Spouse"}),(0,s.jsx)("option",{value:"Parent",children:"Parent"}),(0,s.jsx)("option",{value:"Sibling",children:"Sibling"}),(0,s.jsx)("option",{value:"Child",children:"Child"}),(0,s.jsx)("option",{value:"Friend",children:"Friend"}),(0,s.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Phone"}),(0,s.jsx)("input",{type:"tel",value:e.phone||"",onChange:e=>e_("emergency_contacts",a,"phone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Alternate Phone"}),(0,s.jsx)("input",{type:"tel",value:e.alternatePhone||"",onChange:e=>e_("emergency_contacts",a,"alternatePhone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"})]}),(0,s.jsxs)("div",{className:"md:col-span-2 space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Address"}),(0,s.jsx)("textarea",{value:e.address||"",onChange:e=>e_("emergency_contacts",a,"address",e.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 resize-none"})]})]})]},a)),(!g.emergency_contacts||0===g.emergency_contacts.length)&&(0,s.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No emergency contacts added"})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[e$({icon:q.Activity,title:"Medical & HR Information",color:"from-pink-500 to-rose-600"}),(0,s.jsxs)("div",{className:"space-y-4",children:[eI({label:"Medical Conditions",field:"medical_conditions",type:"textarea",icon:q.Activity,placeholder:"List any medical conditions or allergies..."}),eI({label:"Background Check Status",field:"background_check_status",options:["Pending","In Progress","Passed","Failed"],icon:en.ShieldCheck}),eI({label:"HR Notes",field:"hr_notes",type:"textarea",icon:$.FileText,placeholder:"Internal HR notes..."})]})]})]})]})}),(0,s.jsx)("div",{className:"border-t border-gray-200 bg-gradient-to-r from-gray-50 via-white to-gray-50 px-5 py-3 flex-shrink-0",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[w&&(0,s.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-amber-100 rounded-lg",children:[(0,s.jsx)(P.AlertCircle,{className:"w-3.5 h-3.5 text-amber-600"}),(0,s.jsxs)("span",{className:"text-xs font-medium text-amber-800",children:[C.size," unsaved change",1!==C.size?"s":""]})]}),(0,s.jsxs)("button",{onClick:()=>{h(JSON.parse(JSON.stringify(u))),S(new Set),_(!1),v({}),G({})},disabled:!w,className:`flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-lg transition-colors ${w?"text-gray-600 hover:bg-gray-100":"text-gray-400 cursor-not-allowed"}`,children:[(0,s.jsx)(k.RefreshCw,{className:"w-3.5 h-3.5"}),"Reset Changes"]})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{onClick:eS,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-all duration-300 font-medium text-sm",children:"Cancel"}),(0,s.jsx)("button",{onClick:eN,disabled:!w||Object.keys(y).length>0||em,className:`group px-5 py-2 bg-gradient-to-r from-teal-600 via-cyan-600 to-blue-600 text-white rounded-lg hover:shadow-lg transition-all duration-300 font-medium text-sm flex items-center gap-2 ${!w||Object.keys(y).length>0||em?"opacity-50 cursor-not-allowed":"transform hover:scale-105"}`,children:em?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Y.Loader2,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ei.Save,{className:"w-4 h-4"}),"Save Changes",w&&(0,s.jsx)("span",{className:"ml-1 px-2 py-0.5 bg-white/20 rounded-full text-xs",children:C.size})]})})]})]})})]})}),(0,s.jsx)(()=>B?(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[70] p-4",children:(0,s.jsx)("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:(0,s.jsxs)("div",{className:"p-5",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)("div",{className:"p-2 bg-amber-100 rounded-lg",children:(0,s.jsx)(ec.AlertTriangle,{className:"w-5 h-5 text-amber-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Unsaved Changes"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"You have unsaved changes. Are you sure you want to discard them?"})]})]}),(0,s.jsxs)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[(0,s.jsxs)("p",{className:"text-xs font-medium text-gray-700 mb-2",children:["Modified fields (",C.size,"):"]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1 max-h-24 overflow-y-auto",children:Array.from(C).map(e=>(0,s.jsx)("span",{className:"px-2 py-1 bg-white text-xs rounded border border-gray-200",children:e.replace(/_/g," ").replace(/\./g," → ")},e))})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-3 mt-5",children:[(0,s.jsx)("button",{onClick:()=>M(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),(0,s.jsx)("button",{onClick:()=>{M(!1),t()},className:"px-4 py-2 text-sm font-medium bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Discard Changes"})]})]})})}):null,{})]})};e.s(["default",0,()=>{let[e,A]=(0,a.useState)([]),[I,$]=(0,a.useState)(!0),[D,F]=(0,a.useState)(null),[E,T]=(0,a.useState)(!1),[B,M]=(0,a.useState)(!1),[L,U]=(0,a.useState)(null),[R,z]=(0,a.useState)(""),[O,G]=(0,a.useState)("all"),[H,W]=(0,a.useState)("table"),[Z,J]=(0,a.useState)(!1),[Y,V]=(0,a.useState)(!1),[X,q]=(0,a.useState)(1);(0,a.useEffect)(()=>{Q()},[]);let Q=async()=>{$(!0),F(null);try{let e=await fetch(`${er.default}/warehouse/allsupervisor`),s=await e.json();s.success?A(s.data||[]):F(s.message||"Failed to fetch supervisors")}catch(e){F("Failed to fetch supervisors. Please try again."),console.error("Error fetching supervisors:",e)}finally{$(!1)}},K=e=>{U(e),T(!0)},ee=e=>{U(e),M(!0)},es=e.filter(e=>{let s=e.name?.toLowerCase().includes(R.toLowerCase())||e.employee_id?.toLowerCase().includes(R.toLowerCase())||e.phone?.includes(R)||e.email?.toLowerCase().includes(R.toLowerCase())||e.warehouse_name?.toLowerCase().includes(R.toLowerCase())||e.warehouse_location?.toLowerCase().includes(R.toLowerCase()),a="all"===O||"active"===O&&e.is_active||"inactive"===O&&!e.is_active||"engaged"===O&&e.is_engaged||"available"===O&&!e.is_engaged;return s&&a}),ea=Math.ceil(es.length/10),et=es.slice((X-1)*10,10*X),ei=[{label:"Total Supervisors",value:e.length,icon:h.UserCog,color:"from-blue-500 to-indigo-600",bgColor:"bg-blue-50",change:`${e.length}`,trend:"neutral"},{label:"Active",value:e.filter(e=>e.is_active).length,icon:d.CheckCircle2,color:"from-green-500 to-emerald-600",bgColor:"bg-green-50",change:`${Math.round(e.filter(e=>e.is_active).length/e.length*100)||0}%`,trend:"up"},{label:"Engaged",value:e.filter(e=>e.is_engaged).length,icon:p.Users,color:"from-purple-500 to-pink-600",bgColor:"bg-purple-50",change:`${e.filter(e=>e.is_engaged).length}`,trend:"up"},{label:"Available",value:e.filter(e=>!e.is_engaged&&e.is_active).length,icon:S.UserCheck,color:"from-amber-500 to-orange-600",bgColor:"bg-amber-50",change:`${e.filter(e=>!e.is_engaged&&e.is_active).length}`,trend:"neutral"}],en=(e,s)=>e?s?{label:"Engaged",bgColor:"bg-purple-100",textColor:"text-purple-700",dotColor:"bg-purple-500"}:{label:"Available",bgColor:"bg-green-100",textColor:"text-green-700",dotColor:"bg-green-500"}:{label:"Inactive",bgColor:"bg-gray-100",textColor:"text-gray-700",dotColor:"bg-gray-400"},eo=({supervisor:e})=>{let a=en(e.is_active,e.is_engaged);return(0,s.jsxs)("div",{className:"bg-white rounded-xl p-4 sm:p-5 shadow-sm border border-gray-100 hover:shadow-xl hover:border-violet-200 transition-all duration-300 group",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-xl overflow-hidden shadow-md group-hover:shadow-lg transition-shadow",children:(0,s.jsx)("img",{src:e.photo,alt:e.name,className:"w-full h-full object-cover",onError:s=>{s.target.src=`https://ui-avatars.com/api/?name=${e.name}&background=random&size=256`}})}),(0,s.jsx)("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white ${e.is_active?"bg-green-500":"bg-gray-400"}`})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"font-semibold text-gray-900 flex items-center gap-2 text-sm sm:text-base",children:[e.name,e.is_active&&e.is_engaged&&(0,s.jsx)(b.Award,{className:"w-4 h-4 text-amber-500"})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 font-mono",children:e.employee_id})]})]}),(0,s.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-semibold ${a.bgColor} ${a.textColor}`,children:[(0,s.jsx)("span",{className:`w-1.5 h-1.5 rounded-full ${a.dotColor} animate-pulse`}),a.label]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-r from-violet-50 to-purple-50 rounded-lg p-3 mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)(u.Building2,{className:"w-4 h-4 text-violet-600"}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-800",children:e.warehouse_name||"Not Assigned"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-600",children:[(0,s.jsx)(x.MapPin,{className:"w-3 h-3"}),e.warehouse_location||"N/A"]})]}),(0,s.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,s.jsx)("div",{className:"p-1.5 bg-gray-100 rounded-lg",children:(0,s.jsx)(c.Phone,{className:"w-3.5 h-3.5 text-gray-500"})}),(0,s.jsx)("span",{className:"truncate",children:e.phone})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,s.jsx)("div",{className:"p-1.5 bg-gray-100 rounded-lg",children:(0,s.jsx)(m.Mail,{className:"w-3.5 h-3.5 text-gray-500"})}),(0,s.jsx)("span",{className:"truncate text-xs",children:e.email})]})]}),(0,s.jsxs)("div",{className:"flex gap-2 pt-3 border-t border-gray-100",children:[(0,s.jsxs)("button",{onClick:()=>K(e),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2.5 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-all duration-200 text-sm font-medium group-hover:shadow-sm",children:[(0,s.jsx)(n.Eye,{className:"w-4 h-4"}),"View"]}),(0,s.jsxs)("button",{onClick:()=>ee(e),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white rounded-xl hover:shadow-lg hover:shadow-violet-200 transition-all duration-200 text-sm font-medium",children:[(0,s.jsx)(o.Edit3,{className:"w-4 h-4"}),"Edit"]})]})]})};return I?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"w-16 h-16 border-4 border-violet-200 rounded-full animate-spin border-t-violet-600 mx-auto"}),(0,s.jsx)(h.UserCog,{className:"w-6 h-6 text-violet-600 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"})]}),(0,s.jsx)("p",{className:"mt-4 text-gray-600 font-medium",children:"Loading supervisors..."})]})}):D&&0===e.length?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(P.AlertCircle,{className:"w-8 h-8 text-red-600"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Failed to Load Supervisors"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:D}),(0,s.jsxs)("button",{onClick:Q,className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl hover:shadow-lg transition-all font-medium",children:[(0,s.jsx)(k.RefreshCw,{className:"w-4 h-4"}),"Try Again"]})]})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100 p-3 sm:p-4 lg:p-6 space-y-4 sm:space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[(0,s.jsxs)("div",{className:"w-full sm:w-auto",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 mb-2",children:[(0,s.jsx)("div",{className:"p-2 sm:p-2.5 bg-gradient-to-br from-violet-500 to-purple-600 rounded-lg sm:rounded-xl shadow-lg shadow-violet-200",children:(0,s.jsx)(h.UserCog,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),(0,s.jsx)("h1",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 bg-clip-text text-transparent",children:"Supervisor Management"}),(0,s.jsx)(g.Sparkles,{className:"w-4 h-4 sm:w-5 sm:h-5 text-amber-500 animate-pulse"})]}),(0,s.jsx)("p",{className:"text-gray-500 text-xs sm:text-sm ml-0 sm:ml-14",children:"Manage and monitor all supervisors across warehouses"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 w-full sm:w-auto",children:[(0,s.jsx)("button",{onClick:()=>J(!Z),className:"sm:hidden p-2 bg-white border border-gray-200 rounded-lg",children:(0,s.jsx)(y.Menu,{className:"w-5 h-5 text-gray-600"})}),(0,s.jsxs)("button",{onClick:Q,className:"flex items-center justify-center gap-2 px-3 sm:px-4 py-2 sm:py-2.5 bg-white border border-gray-200 rounded-lg sm:rounded-xl hover:bg-gray-50 hover:border-gray-300 transition-all duration-200 text-gray-600 text-xs sm:text-sm font-medium shadow-sm",children:[(0,s.jsx)(k.RefreshCw,{className:`w-4 h-4 ${I?"animate-spin":""}`}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Refresh"})]}),(0,s.jsxs)("button",{className:"flex items-center justify-center gap-2 px-3 sm:px-4 py-2 sm:py-2.5 bg-white border border-gray-200 rounded-lg sm:rounded-xl hover:bg-gray-50 hover:border-gray-300 transition-all duration-200 text-gray-600 text-xs sm:text-sm font-medium shadow-sm flex-1 sm:flex-initial",children:[(0,s.jsx)(i.Download,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Export"})]}),(0,s.jsxs)("button",{className:"flex items-center justify-center gap-2 px-3 sm:px-5 py-2 sm:py-2.5 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-lg sm:rounded-xl hover:shadow-lg hover:shadow-violet-200 transition-all duration-300 text-xs sm:text-sm font-semibold flex-1 sm:flex-initial",children:[(0,s.jsx)(r.Plus,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Add Supervisor"})]})]})]}),Z&&(0,s.jsxs)("div",{className:"sm:hidden bg-white rounded-xl shadow-lg border border-gray-100 p-4 space-y-3 animate-in slide-in-from-top duration-200",children:[(0,s.jsxs)("button",{onClick:()=>{V(!Y),J(!1)},className:"w-full flex items-center justify-between px-3 py-2 bg-gray-50 rounded-lg text-sm font-medium text-gray-700",children:[(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[(0,s.jsx)(l.Filter,{className:"w-4 h-4"}),"Filters"]}),(0,s.jsx)(f.ChevronRight,{className:"w-4 h-4"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"View Type"}),(0,s.jsxs)("div",{className:"flex gap-1 bg-gray-100 p-1 rounded-lg",children:[(0,s.jsx)("button",{onClick:()=>W("table"),className:`p-1.5 rounded ${"table"===H?"bg-white shadow-sm":""}`,children:(0,s.jsx)(w.List,{className:"w-4 h-4 text-gray-600"})}),(0,s.jsx)("button",{onClick:()=>W("grid"),className:`p-1.5 rounded ${"grid"===H?"bg-white shadow-sm":""}`,children:(0,s.jsx)(v.Grid3x3,{className:"w-4 h-4 text-gray-600"})})]})]})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:ei.map((e,a)=>(0,s.jsxs)("div",{className:"bg-white rounded-lg sm:rounded-2xl p-3 sm:p-5 shadow-sm border border-gray-100 hover:shadow-lg hover:border-gray-200 transition-all duration-300 group relative overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute top-0 right-0 w-20 sm:w-32 h-20 sm:h-32 bg-gradient-to-br from-gray-50 to-transparent rounded-full -translate-y-8 sm:-translate-y-16 translate-x-8 sm:translate-x-16 group-hover:scale-150 transition-transform duration-500"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-2 sm:mb-3",children:[(0,s.jsx)("div",{className:`p-2 sm:p-3 bg-gradient-to-br ${e.color} rounded-lg sm:rounded-xl shadow-lg group-hover:scale-110 group-hover:rotate-3 transition-all duration-300`,children:(0,s.jsx)(e.icon,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),(0,s.jsxs)("div",{className:`flex items-center gap-1 text-xs ${"up"===e.trend?"text-green-600":"down"===e.trend?"text-red-600":"text-gray-500"}`,children:["up"===e.trend&&(0,s.jsx)(_.ArrowUpRight,{className:"w-3 h-3"}),"down"===e.trend&&(0,s.jsx)(C.ArrowDownRight,{className:"w-3 h-3"}),(0,s.jsx)("span",{className:"font-medium",children:e.change})]})]}),(0,s.jsx)("p",{className:"text-[10px] sm:text-xs font-medium text-gray-500 uppercase tracking-wider mb-1",children:e.label}),(0,s.jsx)("p",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:e.value})]})]},a))}),(0,s.jsxs)("div",{className:"bg-white rounded-lg sm:rounded-2xl shadow-sm border border-gray-100 p-3 sm:p-4",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-4",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)(t.Search,{className:"w-4 h-4 absolute left-3 sm:left-4 top-1/2 -translate-y-1/2 text-gray-400"}),(0,s.jsx)("input",{type:"text",placeholder:"Search by name, ID, phone, email, warehouse...",value:R,onChange:e=>z(e.target.value),className:"w-full pl-9 sm:pl-11 pr-3 sm:pr-4 py-2 sm:py-2.5 bg-gray-50 border border-gray-200 rounded-lg sm:rounded-xl focus:ring-2 focus:ring-violet-500 focus:border-transparent focus:bg-white transition-all duration-200 text-sm"})]}),(0,s.jsx)("div",{className:"hidden sm:flex items-center gap-2",children:["all","active","inactive","engaged","available"].map(e=>(0,s.jsx)("button",{onClick:()=>G(e),className:`px-3 py-2 text-xs font-medium rounded-lg capitalize transition-all duration-200 ${O===e?"bg-violet-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:e},e))}),(0,s.jsxs)("button",{onClick:()=>V(!Y),className:"sm:hidden flex items-center justify-center gap-2 px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-gray-600 text-sm font-medium",children:[(0,s.jsx)(l.Filter,{className:"w-4 h-4"}),"Filters","all"!==O&&(0,s.jsx)("span",{className:"w-2 h-2 rounded-full bg-violet-500"})]}),(0,s.jsxs)("div",{className:"hidden lg:flex gap-1 bg-gray-100 p-1 rounded-lg",children:[(0,s.jsx)("button",{onClick:()=>W("table"),className:`p-1.5 rounded transition-all ${"table"===H?"bg-white shadow-sm text-violet-600":"text-gray-600"}`,title:"Table View",children:(0,s.jsx)(w.List,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:()=>W("grid"),className:`p-1.5 rounded transition-all ${"grid"===H?"bg-white shadow-sm text-violet-600":"text-gray-600"}`,title:"Grid View",children:(0,s.jsx)(v.Grid3x3,{className:"w-4 h-4"})})]})]}),Y&&(0,s.jsxs)("div",{className:"sm:hidden mt-3 pt-3 border-t border-gray-100 animate-in slide-in-from-top duration-200",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-xs text-gray-500 font-medium",children:"Filter by status:"}),(0,s.jsx)("button",{onClick:()=>V(!1),className:"p-1 hover:bg-gray-100 rounded",children:(0,s.jsx)(N.X,{className:"w-4 h-4 text-gray-400"})})]}),(0,s.jsx)("div",{className:"flex gap-2 flex-wrap",children:["all","active","inactive","engaged","available"].map(e=>(0,s.jsx)("button",{onClick:()=>{G(e),V(!1)},className:`px-3 py-1.5 text-xs font-medium rounded-lg capitalize transition-all duration-200 ${O===e?"bg-violet-600 text-white":"bg-gray-100 text-gray-600"}`,children:e},e))})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Showing"," ",(0,s.jsx)("span",{className:"font-semibold text-gray-700",children:et.length})," ","of"," ",(0,s.jsx)("span",{className:"font-semibold text-gray-700",children:es.length})," ","supervisors"]}),"all"!==O&&(0,s.jsxs)("button",{onClick:()=>G("all"),className:"text-xs text-violet-600 hover:text-violet-700 font-medium flex items-center gap-1",children:["Clear filter",(0,s.jsx)(N.X,{className:"w-3 h-3"})]})]}),"table"===H&&(0,s.jsxs)("div",{className:"hidden lg:block bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200",children:[(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Supervisor"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Warehouse"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Contact"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Status"}),(0,s.jsx)("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-100",children:et.map(e=>{let a=en(e.is_active,e.is_engaged);return(0,s.jsxs)("tr",{className:"hover:bg-gradient-to-r hover:from-violet-50/30 hover:to-white transition-all duration-200 group",children:[(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"w-11 h-11 rounded-xl overflow-hidden shadow-md group-hover:shadow-lg transition-all duration-200",children:(0,s.jsx)("img",{src:e.photo,alt:e.name,className:"w-full h-full object-cover",onError:s=>{s.target.src=`https://ui-avatars.com/api/?name=${e.name}&background=random&size=256`}})}),(0,s.jsx)("div",{className:`absolute -bottom-0.5 -right-0.5 w-3.5 h-3.5 rounded-full border-2 border-white ${e.is_active?"bg-green-500":"bg-gray-400"}`})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"font-semibold text-gray-900 text-sm flex items-center gap-2",children:[e.name,e.is_active&&e.is_engaged&&(0,s.jsx)(b.Award,{className:"w-4 h-4 text-amber-500"})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 font-mono",children:e.employee_id})]})]})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"p-2 bg-violet-50 rounded-lg",children:(0,s.jsx)(u.Building2,{className:"w-4 h-4 text-violet-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.warehouse_name||"Not Assigned"}),(0,s.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[(0,s.jsx)(x.MapPin,{className:"w-3 h-3"}),e.warehouse_location||"N/A"]})]})]})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,s.jsx)(c.Phone,{className:"w-3.5 h-3.5 text-gray-400"}),e.phone]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[(0,s.jsx)(m.Mail,{className:"w-3 h-3 text-gray-400"}),e.email]})]})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-semibold ${a.bgColor} ${a.textColor}`,children:[(0,s.jsx)("span",{className:`w-1.5 h-1.5 rounded-full ${a.dotColor} animate-pulse`}),a.label]}),e.is_engaged&&(0,s.jsxs)("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[(0,s.jsx)(p.Users,{className:"w-3 h-3"}),"Currently Engaged"]})]})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,s.jsxs)("button",{onClick:()=>K(e),className:"flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-all duration-200 text-xs font-semibold",children:[(0,s.jsx)(n.Eye,{className:"w-3.5 h-3.5"}),"View"]}),(0,s.jsxs)("button",{onClick:()=>ee(e),className:"flex items-center gap-1.5 px-3 py-1.5 bg-gradient-to-r from-violet-500 to-purple-500 text-white rounded-lg hover:shadow-md hover:shadow-violet-200 transition-all duration-200 text-xs font-semibold",children:[(0,s.jsx)(o.Edit3,{className:"w-3.5 h-3.5"}),"Edit"]})]})})]},e._id)})})]})}),ea>1&&(0,s.jsxs)("div",{className:"px-6 py-4 bg-gradient-to-r from-gray-50 to-white border-t border-gray-100 flex items-center justify-between",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Page"," ",(0,s.jsx)("span",{className:"font-semibold text-gray-700",children:X})," ","of"," ",(0,s.jsx)("span",{className:"font-semibold text-gray-700",children:ea})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>q(e=>Math.max(1,e-1)),disabled:1===X,className:"px-3 py-1.5 text-sm font-medium text-gray-600 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:Math.min(5,ea)},(e,a)=>{let t;return t=ea<=5||X<=3?a+1:X>=ea-2?ea-4+a:X-2+a,(0,s.jsx)("button",{onClick:()=>q(t),className:`px-3 py-1.5 text-sm font-medium rounded-lg transition-colors ${X===t?"bg-violet-600 text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,children:t},t)}),(0,s.jsx)("button",{onClick:()=>q(e=>Math.min(ea,e+1)),disabled:X===ea,className:"px-3 py-1.5 text-sm font-medium text-gray-600 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),"grid"===H&&(0,s.jsx)("div",{className:"hidden lg:grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:et.map(e=>(0,s.jsx)(eo,{supervisor:e},e._id))}),(0,s.jsx)("div",{className:"lg:hidden grid grid-cols-1 sm:grid-cols-2 gap-3",children:et.map(e=>(0,s.jsx)(eo,{supervisor:e},e._id))}),0===es.length&&!I&&(0,s.jsxs)("div",{className:"bg-white rounded-xl sm:rounded-2xl p-8 sm:p-16 text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(h.UserCog,{className:"w-8 h-8 text-gray-400"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No supervisors found"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:R||"all"!==O?"Try adjusting your search or filter criteria":"No supervisors have been added yet"}),(R||"all"!==O)&&(0,s.jsxs)("button",{onClick:()=>{z(""),G("all")},className:"inline-flex items-center gap-2 px-4 py-2 text-violet-600 hover:bg-violet-50 rounded-lg transition-colors text-sm font-medium",children:[(0,s.jsx)(k.RefreshCw,{className:"w-4 h-4"}),"Clear filters"]})]}),es.length>0&&ea>1&&(0,s.jsx)("div",{className:"lg:hidden bg-white rounded-xl p-3 border border-gray-100",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:["Page ",(0,s.jsx)("span",{className:"font-semibold text-gray-700",children:X})," ","of ",(0,s.jsx)("span",{className:"font-semibold text-gray-700",children:ea})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>q(e=>Math.max(1,e-1)),disabled:1===X,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:(0,s.jsx)(j.ChevronLeft,{className:"w-4 h-4"})}),(0,s.jsx)("span",{className:"px-3 py-1 bg-violet-600 text-white text-sm font-medium rounded-lg",children:X}),(0,s.jsx)("button",{onClick:()=>q(e=>Math.min(ea,e+1)),disabled:X===ea,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:(0,s.jsx)(f.ChevronRight,{className:"w-4 h-4"})})]})]})})]}),(0,s.jsx)(el,{isOpen:E,onClose:()=>T(!1),supervisorId:L?._id}),(0,s.jsx)(ep,{isOpen:B,onClose:()=>M(!1),supervisorId:L?._id,onSave:e=>{A(s=>s.map(s=>s._id===e._id?{...s,...e}:s)),M(!1)}})]})}],3258)}]);