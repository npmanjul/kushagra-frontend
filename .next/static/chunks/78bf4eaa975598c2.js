(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,59700,9132,96302,98962,e=>{"use strict";var a=e.i(43476),s=e.i(71645),r=e.i(37727),t=e.i(43531),l=e.i(73884),i=e.i(84614),n=e.i(61659),d=e.i(7486),o=e.i(61911),c=e.i(78583),m=e.i(73708),x=e.i(63209),h=e.i(95468),g=e.i(81418),b=e.i(46897),u=e.i(43432),p=e.i(63488),f=e.i(87316),j=e.i(88081),N=e.i(23609),v=e.i(63059),y=e.i(40160),w=e.i(73375),k=e.i(98361),_=e.i(91810),C=e.i(86536),I=e.i(83086),A=e.i(76838),P=e.i(3116),S=e.i(72520),M=e.i(75254);let D=(0,M.default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);var $=e.i(78894);let B=(0,M.default)("undo-2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);var U=e.i(31278),F=e.i(16715),L=e.i(52571);let z=(0,M.default)("file-x",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]]);var R=e.i(31795),O=e.i(5766);e.s(["default",0,({isOpen:e,onClose:M,farmerId:T,onVerificationComplete:E})=>{let Z,[G,H]=(0,s.useState)({}),[q,V]=(0,s.useState)("identity"),[X,W]=(0,s.useState)(null),[Y,K]=(0,s.useState)(0),[J,Q]=(0,s.useState)([]),[ee,ea]=(0,s.useState)(0),[es,er]=(0,s.useState)({isOpen:!1,field:null,label:""}),[et,el]=(0,s.useState)(""),[ei,en]=(0,s.useState)(null),[ed,eo]=(0,s.useState)("pending"),[ec,em]=(0,s.useState)(!1),[ex,eh]=(0,s.useState)(!1),[eg,eb]=(0,s.useState)(null),eu=(0,s.useCallback)(async()=>{if(T){em(!0),eb(null);try{let e=await fetch(`${R.default}/user/checkfarmerverification?farmerId=${T}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw Error(`Failed to fetch verification data: ${e.statusText}`);let a=await e.json();en(a.data),eo(a.data.overallStatus||"pending"),Object.keys(a.data).forEach(e=>{if("overallStatus"!==e&&a.data[e]?.status==="pending"){let s=a.data[e];ep(s)}}),H({})}catch(e){eb(e.message),console.error("Error fetching verification data:",e)}finally{em(!1)}}},[T]),ep=e=>{if(!e)return!1;let a=e.value;return!(null==a||Array.isArray(a)&&0===a.length)&&("object"!=typeof a||!!a.$numberDecimal||0!==Object.keys(a).length)},ef=async()=>{let e={};if(Object.keys(G).forEach(a=>{let s=G[a];s&&s.status&&(e[a]={status:"accepted"===s.status?"approved":s.status,reason:s.reason||null})}),0===Object.keys(e).length)return void O.default.error("No changes to submit");eh(!0),eb(null);try{let a=await fetch(`${R.default}/user/updatefarmerverification?farmerId=${T}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({verifications:e})});if(console.log("Verification Response:",a),!a.ok)throw Error(`Failed to update verification: ${a.statusText}`);let s=await a.json();E&&E(s),O.default.success("Verification updated successfully"),M()}catch(e){eb(e.message),O.default.error("Failed to update verification"),console.error("Error updating verification:",e)}finally{eh(!1)}};if((0,s.useEffect)(()=>{e&&T&&eu()},[e,T,eu]),(0,s.useEffect)(()=>{e||(H({}),V("identity"),W(null),eb(null),en(null))},[e]),!e)return null;let ej=e=>{if(!ei||!ei[e])return null;let a=ei[e];return a.value?.$numberDecimal?a.value.$numberDecimal:a.value},eN=e=>ei&&ei[e]?ei[e].status:null,ev=()=>{if(!ei)return[];let e=ei.khatauni_images;return e?.value&&Array.isArray(e.value)?e.value.map(e=>e.image_url):[]},ey=e=>{if(G[e])return{status:G[e].status,reason:G[e].reason,isLocal:!0};let a=eN(e),s=ei&&ei[e]?ei[e].reason:null;return a?{status:"approved"===a?"accepted":a,reason:s,isLocal:!1}:null},ew=e=>{let a=eN(e),s=ej(e);return"pending"===a&&("khatauni_images"===e?ev().length>0:null!=s)},ek=e=>!!G[e],e_=(e,a)=>{ew(e)&&("rejected"===a?er({isOpen:!0,field:e,label:e.replace(/_/g," ")}):H(a=>({...a,[e]:{status:"accepted",reason:""}})))},eC=()=>{et.trim()&&(H(e=>({...e,[es.field]:{status:"rejected",reason:et}})),er({isOpen:!1,field:null,label:""}),el(""))},eI=e=>{for(let[s,r]of Object.entries({aadhaar:j.Hash,pan:n.CreditCard,account:n.CreditCard,ifsc:N.Landmark,phone:u.Phone,email:p.Mail,dob:f.Calendar,address:b.MapPin,name:i.User,bank:d.Building2,branch:N.Landmark,relation:o.Users,gender:i.User}))if(e.toLowerCase().includes(s))return(0,a.jsx)(r,{className:"w-4 h-4"});return(0,a.jsx)(c.FileText,{className:"w-4 h-4"})},eA=async e=>{try{let a=await fetch(e),s=await a.blob(),r=window.URL.createObjectURL(s),t=document.createElement("a");t.href=r,t.download=`document-${Date.now()}.jpg`,document.body.appendChild(t),t.click(),document.body.removeChild(t),window.URL.revokeObjectURL(r)}catch(a){console.error("Download failed:",a),window.open(e,"_blank")}},eP=(e,a=[e])=>{let s=Array.isArray(a)?a:[a];Q(s),ea(-1!==s.indexOf(e)?s.indexOf(e):0),W(e),K(0)},eS=e=>{let a="next"===e?(ee+1)%J.length:(ee-1+J.length)%J.length;ea(a),W(J[a]),K(0)},eM={identity:[{field:"aadhaar_image",label:"Aadhaar Image",type:"image",icon:(0,a.jsx)(m.Image,{className:"w-4 h-4"})},{field:"aadhaar_number",label:"Aadhaar Number",type:"text",icon:(0,a.jsx)(j.Hash,{className:"w-4 h-4"})},{field:"pan_number",label:"PAN Number",type:"text",icon:(0,a.jsx)(n.CreditCard,{className:"w-4 h-4"})},{field:"pan_image",label:"PAN Image",type:"image",icon:(0,a.jsx)(m.Image,{className:"w-4 h-4"})},{field:"khatauni_images",label:"Khatauni Documents",type:"multi-image",icon:(0,a.jsx)(c.FileText,{className:"w-4 h-4"})}],address:[{field:"address",label:"Address",type:"text",icon:(0,a.jsx)(b.MapPin,{className:"w-4 h-4"})},{field:"tehsil",label:"Tehsil",type:"text",icon:(0,a.jsx)(b.MapPin,{className:"w-4 h-4"})},{field:"district",label:"District",type:"text",icon:(0,a.jsx)(b.MapPin,{className:"w-4 h-4"})},{field:"state",label:"State",type:"text",icon:(0,a.jsx)(b.MapPin,{className:"w-4 h-4"})},{field:"landmark",label:"Landmark",type:"text",icon:(0,a.jsx)(b.MapPin,{className:"w-4 h-4"})},{field:"pin_code",label:"PIN Code",type:"text",icon:(0,a.jsx)(j.Hash,{className:"w-4 h-4"})}],land:[{field:"land_size",label:"Land Size",type:"text",suffix:" Acres",icon:(0,a.jsx)(c.FileText,{className:"w-4 h-4"}),relatedImageField:"khatauni_images"}],bank:[{field:"bank_passbook_img",label:"Bank Passbook Image",type:"image",icon:(0,a.jsx)(m.Image,{className:"w-4 h-4"})},{field:"account_number",label:"Account Number",type:"text",icon:(0,a.jsx)(n.CreditCard,{className:"w-4 h-4"})},{field:"ifsc_code",label:"IFSC Code",type:"text",icon:(0,a.jsx)(j.Hash,{className:"w-4 h-4"})},{field:"account_holder",label:"Account Holder Name",type:"text",icon:(0,a.jsx)(i.User,{className:"w-4 h-4"})},{field:"bank_name",label:"Bank Name",type:"text",icon:(0,a.jsx)(d.Building2,{className:"w-4 h-4"})},{field:"branch_name",label:"Branch Name",type:"text",icon:(0,a.jsx)(N.Landmark,{className:"w-4 h-4"})}],nominee:[{field:"nominee_image",label:"Nominee Image",type:"image",icon:(0,a.jsx)(m.Image,{className:"w-4 h-4"})},{field:"nominee_aadhaar_image",label:"Nominee Aadhaar Image",type:"image",icon:(0,a.jsx)(m.Image,{className:"w-4 h-4"})},{field:"nominee_pan_image",label:"Nominee PAN Image",type:"image",icon:(0,a.jsx)(m.Image,{className:"w-4 h-4"})},{field:"nominee_name",label:"Nominee Name",type:"text",icon:(0,a.jsx)(i.User,{className:"w-4 h-4"})},{field:"nominee_dob",label:"Date of Birth",type:"text",icon:(0,a.jsx)(f.Calendar,{className:"w-4 h-4"})},{field:"nominee_phone",label:"Phone Number",type:"text",icon:(0,a.jsx)(u.Phone,{className:"w-4 h-4"})},{field:"nominee_email",label:"Email Address",type:"text",icon:(0,a.jsx)(p.Mail,{className:"w-4 h-4"})},{field:"nominee_aadhaar",label:"Nominee Aadhaar",type:"text",icon:(0,a.jsx)(j.Hash,{className:"w-4 h-4"})},{field:"nominee_pan",label:"Nominee PAN",type:"text",icon:(0,a.jsx)(n.CreditCard,{className:"w-4 h-4"})},{field:"nominee_relation",label:"Relationship",type:"text",icon:(0,a.jsx)(o.Users,{className:"w-4 h-4"})},{field:"nominee_gender",label:"Gender",type:"text",icon:(0,a.jsx)(i.User,{className:"w-4 h-4"})},{field:"nominee_address",label:"Nominee Address",type:"text",icon:(0,a.jsx)(b.MapPin,{className:"w-4 h-4"})}]},eD=()=>{let e=0,a=0,s=0,r=0,t=0;return Object.values(eM).flat().forEach(l=>{let i=ej(l.field),n=eN(l.field),d=ey(l.field);if("multi-image"===l.type){if(0===ev().length&&"pending"===n)return void t++}else if(null===i&&"pending"===n)return void t++;e++;let o=d?.status;"accepted"===o||"approved"===o?a++:"rejected"===o?s++:r++}),{total:e,approved:a,rejected:s,pending:r,notSubmitted:t}},e$=()=>{let e=eD();return 0===e.total?0:Math.round((e.approved+e.rejected)/e.total*100)},eB=({src:e,alt:s,onClick:r})=>(0,a.jsx)("div",{className:"relative group cursor-pointer",onClick:r,children:(0,a.jsxs)("div",{className:"w-20 h-20 rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 transform hover:scale-105 ring-1 ring-gray-200 hover:ring-indigo-400",children:[(0,a.jsx)("img",{src:e,alt:s,className:"w-full h-full object-cover"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-all duration-300 flex items-center justify-center",children:(0,a.jsx)("div",{className:"p-1.5 bg-white/20 backdrop-blur-sm rounded-full transform scale-0 group-hover:scale-100 transition-transform duration-300",children:(0,a.jsx)(C.Eye,{className:"w-4 h-4 text-white"})})})]})}),eU=({label:e,value:s,field:i,relatedImage:n=null,icon:d,fieldType:o})=>{let c,g,b,u,p,f,j,N=ey(i),v=N?.status,y=N?.reason,w=ew(i),k=ek(i),_=(e=>{let a=ei&&ei[e]?.verifiedBy?ei[e].verifiedBy:null;if(!a)return null;let{manager:s,supervisor:r,admin:t}=a;return t?.status&&t?.user_id?{name:t.user_id.name,role:t.user_id.role,date:t.date}:r?.status&&r?.user_id?{name:r.user_id.name,role:r.user_id.role,date:r.date}:s?.status&&s?.user_id?{name:s.user_id.name,role:s.user_id.role,date:s.date}:null})(i),C=eN(i),I=ej(i);return"multi-image"===o&&0===ev().length&&"pending"===C||null===I&&"pending"===C&&"multi-image"!==o?(0,a.jsx)("div",{className:"p-4 rounded-xl border bg-gray-50 border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg shadow bg-gray-400",children:(0,a.jsx)("div",{className:"text-white",children:d||eI(i)})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2.5 mb-1",children:[(0,a.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:e}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-gray-100 rounded-full",children:[(0,a.jsx)(z,{className:"w-3.5 h-3.5 text-gray-500"}),(0,a.jsx)("span",{className:"text-xs font-semibold text-gray-500",children:"Not Submitted"})]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-400 italic",children:"Awaiting farmer submission"})]})]})}):s||n||"image"!==o&&"multi-image"!==o?(0,a.jsx)("div",{className:`p-4 rounded-xl border transition-all duration-300 ${(c=ey(i),"accepted"===(g=c?.status)||"approved"===g?"bg-gradient-to-br from-green-50 to-emerald-50 border-green-300 shadow-md":"rejected"===g?"bg-gradient-to-br from-red-50 to-rose-50 border-red-300 shadow-md":"bg-white border-gray-200 hover:border-indigo-300 hover:shadow-md")} ${k?"ring-2 ring-indigo-400 ring-offset-2":""}`,children:(0,a.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:`p-2 rounded-lg shadow ${"accepted"===v||"approved"===v?"bg-gradient-to-br from-green-500 to-emerald-600":"rejected"===v?"bg-gradient-to-br from-red-500 to-rose-600":"bg-gradient-to-br from-indigo-500 to-purple-600"}`,children:(0,a.jsx)("div",{className:"text-white",children:d||eI(i)})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2.5 mb-1.5 flex-wrap",children:[(0,a.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:e}),(b=ey(i),u=b?.status,p=ek(i),f=ej(i),j=eN(i),null===f&&"pending"===j?(0,a.jsxs)("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-gray-100 rounded-full",children:[(0,a.jsx)(z,{className:"w-3.5 h-3.5 text-gray-500"}),(0,a.jsx)("span",{className:"text-xs font-semibold text-gray-500",children:"Not Submitted"})]}):"accepted"===u||"approved"===u?(0,a.jsx)("div",{className:"flex items-center gap-1.5",children:(0,a.jsxs)("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full",children:[(0,a.jsx)(h.CheckCircle2,{className:"w-3.5 h-3.5 text-white"}),(0,a.jsx)("span",{className:"text-xs font-semibold text-white",children:p?"Approved (New)":"Approved"})]})}):"rejected"===u?(0,a.jsx)("div",{className:"flex items-center gap-1.5",children:(0,a.jsxs)("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-gradient-to-r from-red-500 to-rose-500 rounded-full",children:[(0,a.jsx)(l.XCircle,{className:"w-3.5 h-3.5 text-white"}),(0,a.jsx)("span",{className:"text-xs font-semibold text-white",children:p?"Rejected (New)":"Rejected"})]})}):(0,a.jsxs)("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-amber-100 rounded-full",children:[(0,a.jsx)(P.Clock,{className:"w-3.5 h-3.5 text-amber-600"}),(0,a.jsx)("span",{className:"text-xs font-semibold text-amber-600",children:"Pending Review"})]})),k&&(0,a.jsx)("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 text-xs font-medium rounded-full",children:"Modified"})]}),s&&(0,a.jsx)("p",{className:"text-base font-semibold text-gray-900",children:s}),_&&!w&&(0,a.jsxs)("div",{className:"mt-2 flex items-center gap-2 text-xs text-gray-500",children:[(0,a.jsx)(L.Info,{className:"w-3.5 h-3.5"}),(0,a.jsxs)("span",{children:["Verified by ",(0,a.jsx)("span",{className:"font-medium text-gray-700",children:_.name}),(0,a.jsxs)("span",{className:"text-gray-400",children:[" (",_.role,")"]}),_.date&&(0,a.jsxs)("span",{className:"text-gray-400",children:[" on ",new Date(_.date).toLocaleDateString()]})]})]}),"rejected"===v&&y&&(0,a.jsx)("div",{className:"mt-3 p-3 bg-red-100 border border-red-200 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(x.AlertCircle,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs font-semibold text-red-700 uppercase tracking-wide mb-1",children:"Rejection Reason"}),(0,a.jsx)("p",{className:"text-sm text-red-600",children:y})]})]})}),n&&(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsxs)("p",{className:"text-xs text-gray-500 mb-2.5 flex items-center gap-1.5",children:[(0,a.jsx)(m.Image,{className:"w-3.5 h-3.5"}),"image"===o?"Document":"Supporting Documents"]}),(0,a.jsx)("div",{className:"flex gap-2.5 flex-wrap",children:Array.isArray(n)?n.map((s,r)=>(0,a.jsx)(eB,{src:s,alt:`${e} ${r+1}`,onClick:()=>eP(s,n)},r)):(0,a.jsx)(eB,{src:n,alt:e,onClick:()=>eP(n)})})]})]})]})}),(0,a.jsx)("div",{className:"flex flex-col items-center gap-2",children:w?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-[10px] font-semibold text-gray-400 uppercase tracking-wider",children:"Verify"}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5 p-1 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("button",{onClick:()=>e_(i,"accepted"),className:`relative p-2 rounded-lg font-medium transition-all duration-300 ${"accepted"===v?"bg-gradient-to-br from-green-500 to-emerald-600 text-white shadow-lg scale-105":"bg-white text-green-600 hover:bg-green-50 border border-green-300"}`,title:"Approve",children:[(0,a.jsx)(t.Check,{className:"w-4 h-4"}),"accepted"===v&&k&&(0,a.jsx)("span",{className:"absolute -top-0.5 -right-0.5 w-2.5 h-2.5 bg-green-400 rounded-full animate-ping"})]}),(0,a.jsxs)("button",{onClick:()=>e_(i,"rejected"),className:`relative p-2 rounded-lg font-medium transition-all duration-300 ${"rejected"===v?"bg-gradient-to-br from-red-500 to-rose-600 text-white shadow-lg scale-105":"bg-white text-red-600 hover:bg-red-50 border border-red-300"}`,title:"Reject",children:[(0,a.jsx)(r.X,{className:"w-4 h-4"}),"rejected"===v&&k&&(0,a.jsx)("span",{className:"absolute -top-0.5 -right-0.5 w-2.5 h-2.5 bg-red-400 rounded-full animate-ping"})]}),k&&(0,a.jsx)("button",{onClick:()=>{H(e=>{let a={...e};return delete a[i],a})},className:"p-2 rounded-lg font-medium transition-all duration-300 bg-white text-gray-500 hover:bg-gray-100 border border-gray-300",title:"Reset",children:(0,a.jsx)(B,{className:"w-4 h-4"})})]})]}):"pending"!==C?(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("span",{className:"text-[10px] font-semibold text-gray-400 uppercase tracking-wider mb-1",children:"Verified"}),(0,a.jsx)("div",{className:`p-2 rounded-lg ${"accepted"===v||"approved"===v?"bg-green-100":"bg-red-100"}`,children:"accepted"===v||"approved"===v?(0,a.jsx)(h.CheckCircle2,{className:"w-5 h-5 text-green-600"}):(0,a.jsx)(l.XCircle,{className:"w-5 h-5 text-red-600"})})]}):null})]})}):null},eF=[{id:"identity",label:"Identity",icon:i.User,color:"from-blue-500 to-indigo-600"},{id:"address",label:"Address",icon:b.MapPin,color:"from-orange-500 to-amber-600"},{id:"land",label:"Land Details",icon:c.FileText,color:"from-green-500 to-emerald-600"},{id:"bank",label:"Bank Details",icon:d.Building2,color:"from-cyan-500 to-teal-600"},{id:"nominee",label:"Nominee Info",icon:o.Users,color:"from-purple-500 to-pink-600"}],eL=eD();return ec?(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 flex flex-col items-center gap-4",children:[(0,a.jsx)(U.Loader2,{className:"w-12 h-12 text-indigo-600 animate-spin"}),(0,a.jsx)("p",{className:"text-gray-600 font-medium",children:"Loading verification data..."})]})}):eg&&!ei?(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,a.jsx)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md mx-4",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4 text-center",children:[(0,a.jsx)("div",{className:"p-3 bg-red-100 rounded-full",children:(0,a.jsx)(x.AlertCircle,{className:"w-8 h-8 text-red-600"})}),(0,a.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Error Loading Data"}),(0,a.jsx)("p",{className:"text-gray-600",children:eg}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("button",{onClick:M,className:"px-5 py-2.5 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-100",children:"Close"}),(0,a.jsxs)("button",{onClick:eu,className:"px-5 py-2.5 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 flex items-center gap-2",children:[(0,a.jsx)(F.RefreshCw,{className:"w-4 h-4"}),"Retry"]})]})]})})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[92vh] overflow-hidden flex flex-col",children:[(0,a.jsxs)("div",{className:"relative overflow-hidden flex-shrink-0",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600",children:(0,a.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48Y2lyY2xlIGN4PSIzMCIgY3k9IjMwIiByPSIyIi8+PC9nPjwvZz48L3N2Zz4=')] opacity-20"})}),(0,a.jsx)("div",{className:"relative px-5 py-3.5",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute -inset-1 bg-white/20 rounded-lg blur animate-pulse"}),(0,a.jsx)("div",{className:"relative w-10 h-10 bg-white/20 backdrop-blur-sm rounded-lg flex items-center justify-center border border-white/30",children:(0,a.jsx)(g.ShieldCheck,{className:"w-5 h-5 text-white"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:["Farmer Verification",(0,a.jsx)(I.Sparkles,{className:"w-4 h-4 text-yellow-300 animate-pulse"})]}),(0,a.jsx)("p",{className:"text-white/70 text-xs",children:"Review and verify all farmer documents"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(()=>{switch(ed){case"approved":return(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-green-500/20 backdrop-blur-sm rounded-lg border border-green-400/30",children:[(0,a.jsx)(h.CheckCircle2,{className:"w-4 h-4 text-green-300"}),(0,a.jsx)("span",{className:"text-white font-semibold text-sm",children:"Fully Approved"})]});case"rejected":return(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-red-500/20 backdrop-blur-sm rounded-lg border border-red-400/30",children:[(0,a.jsx)(l.XCircle,{className:"w-4 h-4 text-red-300"}),(0,a.jsx)("span",{className:"text-white font-semibold text-sm",children:"Has Rejections"})]});default:return(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-amber-500/20 backdrop-blur-sm rounded-lg border border-amber-400/30",children:[(0,a.jsx)(P.Clock,{className:"w-4 h-4 text-amber-300"}),(0,a.jsx)("span",{className:"text-white font-semibold text-sm",children:"Pending Review"})]})}})(),(0,a.jsxs)("div",{className:"flex items-center gap-2.5 bg-white/10 backdrop-blur-sm rounded-lg px-3 py-1.5 border border-white/20",children:[(0,a.jsx)("span",{className:"text-white/70 text-xs",children:"Progress:"}),(0,a.jsx)("div",{className:"w-20 h-2 bg-white/20 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-gradient-to-r from-green-400 to-emerald-400 transition-all duration-500 rounded-full",style:{width:`${e$()}%`}})}),(0,a.jsxs)("span",{className:"text-white font-bold text-sm",children:[e$(),"%"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5 bg-green-500/20 backdrop-blur-sm rounded-lg px-2.5 py-1.5 border border-green-400/30",children:[(0,a.jsx)(h.CheckCircle2,{className:"w-3.5 h-3.5 text-green-300"}),(0,a.jsx)("span",{className:"text-white font-bold text-sm",children:eL.approved})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5 bg-red-500/20 backdrop-blur-sm rounded-lg px-2.5 py-1.5 border border-red-400/30",children:[(0,a.jsx)(l.XCircle,{className:"w-3.5 h-3.5 text-red-300"}),(0,a.jsx)("span",{className:"text-white font-bold text-sm",children:eL.rejected})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5 bg-amber-500/20 backdrop-blur-sm rounded-lg px-2.5 py-1.5 border border-amber-400/30",children:[(0,a.jsx)(P.Clock,{className:"w-3.5 h-3.5 text-amber-300"}),(0,a.jsx)("span",{className:"text-white font-bold text-sm",children:eL.pending})]}),(0,a.jsx)("button",{onClick:M,className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg transition-all duration-300 hover:scale-110 hover:rotate-90 ml-2",children:(0,a.jsx)(r.X,{className:"w-4 h-4 text-white"})})]})]})})]}),eg&&(0,a.jsxs)("div",{className:"mx-4 mt-3 p-3 bg-red-50 border border-red-200 rounded-xl flex items-center gap-3",children:[(0,a.jsx)(x.AlertCircle,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),(0,a.jsx)("p",{className:"text-sm text-red-600 flex-1",children:eg}),(0,a.jsx)("button",{onClick:()=>eb(null),className:"p-1.5 hover:bg-red-100 rounded-lg transition-colors",children:(0,a.jsx)(r.X,{className:"w-4 h-4 text-red-500"})})]}),(0,a.jsx)("div",{className:"flex bg-gradient-to-r from-gray-50 to-gray-100 px-3 py-2 gap-2 flex-shrink-0 border-b border-gray-200 overflow-x-auto",children:eF.map(e=>{let s=e.icon;return(0,a.jsxs)("button",{onClick:()=>V(e.id),className:`flex-shrink-0 px-4 py-2 flex items-center justify-center gap-2 font-medium rounded-lg transition-all duration-300 ${q===e.id?"bg-white text-gray-800 shadow-md scale-[1.02] border border-gray-200":"text-gray-500 hover:bg-white/50 hover:text-gray-700"}`,children:[(0,a.jsx)("div",{className:`p-1.5 rounded-lg bg-gradient-to-br ${q===e.id?e.color:"from-gray-300 to-gray-400"} shadow-sm`,children:(0,a.jsx)(s,{className:"w-3.5 h-3.5 text-white"})}),(0,a.jsx)("span",{className:"text-sm whitespace-nowrap",children:e.label})]},e.id)})}),(0,a.jsx)("div",{className:"flex-1 p-4 overflow-y-auto bg-gradient-to-br from-gray-50 via-white to-gray-50",children:(0,a.jsx)("div",{className:"space-y-3",children:(Z=eM[q]||[],ei?(0,a.jsx)(a.Fragment,{children:Z.map(e=>{var s;let r=(e=>{if("image"===e.type||"multi-image"===e.type)return null;let a=ej(e.field);return a&&e.suffix?`${a}${e.suffix}`:a})(e),t="image"===(s=e).type?ej(s.field):"multi-image"===s.type?ev():s.relatedImageField?"khatauni_images"===s.relatedImageField?ev():ej(s.relatedImageField):null;return(0,a.jsx)(eU,{label:e.label,value:r,field:e.field,relatedImage:t,icon:e.icon,fieldType:e.type},e.field)})}):(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No data available"})}))})}),(0,a.jsx)("div",{className:"border-t border-gray-200 bg-gradient-to-r from-gray-50 via-white to-gray-50 px-5 py-3 flex-shrink-0",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2.5 h-2.5 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full"}),(0,a.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:["Approved (",eL.approved,")"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2.5 h-2.5 bg-gradient-to-r from-red-500 to-rose-500 rounded-full"}),(0,a.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:["Rejected (",eL.rejected,")"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2.5 h-2.5 bg-amber-400 rounded-full"}),(0,a.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:["Pending (",eL.pending,")"]})]}),eL.notSubmitted>0&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2.5 h-2.5 bg-gray-400 rounded-full"}),(0,a.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:["Not Submitted (",eL.notSubmitted,")"]})]})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("button",{onClick:M,disabled:ex,className:"px-5 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-all duration-300 font-medium text-sm hover:shadow-md disabled:opacity-50",children:"Cancel"}),(0,a.jsx)("button",{onClick:ef,disabled:ex||!(Object.keys(G).length>0),className:"group px-5 py-2 bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 text-white rounded-lg hover:shadow-lg transition-all duration-300 font-medium text-sm transform hover:scale-105 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:ex?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(U.Loader2,{className:"w-4 h-4 animate-spin"}),"Submitting..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(A.BadgeCheck,{className:"w-4 h-4"}),"Submit Verification (",Object.keys(G).length,")",(0,a.jsx)(S.ArrowRight,{className:"w-3.5 h-3.5 group-hover:translate-x-1 transition-transform"})]})})]})]})})]})}),(0,a.jsx)(()=>es.isOpen?(0,a.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[70]",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-4 overflow-hidden animate-in fade-in zoom-in duration-300",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-red-500 via-rose-500 to-pink-500 px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-white/20 backdrop-blur-sm rounded-xl",children:(0,a.jsx)($.AlertTriangle,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-white",children:"Rejection Reason"}),(0,a.jsx)("p",{className:"text-white/80 text-sm capitalize",children:es.label})]})]})}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Please provide a reason for rejecting this field. This will help the farmer understand what needs to be corrected."}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 block",children:"Quick Select"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:["Document is blurry or unclear","Information mismatch","Document expired","Invalid document format","Missing required information","Suspected fraudulent document"].map((e,s)=>(0,a.jsx)("button",{onClick:()=>el(e),className:`px-3 py-1.5 text-xs font-medium rounded-full border transition-all duration-200 ${et===e?"bg-red-100 border-red-300 text-red-700":"bg-gray-50 border-gray-200 text-gray-600 hover:bg-red-50 hover:border-red-200 hover:text-red-600"}`,children:e},s))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 block",children:"Rejection Reason"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(D,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),(0,a.jsx)("textarea",{value:et,onChange:e=>el(e.target.value),placeholder:"Enter detailed reason for rejection...",className:"w-full pl-11 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none transition-all duration-200",rows:3})]}),(0,a.jsxs)("p",{className:"text-xs text-gray-400 mt-1.5",children:[et.length,"/500 characters"]})]})]}),(0,a.jsxs)("div",{className:"border-t border-gray-100 px-6 py-4 bg-gray-50 flex items-center justify-end gap-3",children:[(0,a.jsx)("button",{onClick:()=>{er({isOpen:!1,field:null,label:""}),el("")},className:"px-5 py-2.5 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-100 transition-all duration-200 font-medium text-sm",children:"Cancel"}),(0,a.jsxs)("button",{onClick:eC,disabled:!et.trim(),className:`px-5 py-2.5 rounded-xl font-medium text-sm flex items-center gap-2 transition-all duration-200 ${et.trim()?"bg-gradient-to-r from-red-500 to-rose-500 text-white hover:shadow-lg hover:scale-105":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:[(0,a.jsx)(l.XCircle,{className:"w-4 h-4"}),"Confirm Rejection"]})]})]})}):null,{}),X&&(0,a.jsx)(({image:e,onClose:s})=>e?(0,a.jsxs)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex items-center justify-center z-[60]",onClick:s,children:[(0,a.jsx)("button",{onClick:s,className:"absolute top-4 right-4 p-2.5 bg-white/10 hover:bg-white/20 rounded-xl transition-all duration-300 hover:scale-110 group z-10",children:(0,a.jsx)(r.X,{className:"w-5 h-5 text-white group-hover:rotate-90 transition-transform duration-300"})}),J.length>1&&(0,a.jsx)("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 px-3 py-1.5 bg-white/10 backdrop-blur-sm rounded-full",children:(0,a.jsxs)("span",{className:"text-white text-sm font-medium",children:[ee+1," / ",J.length]})}),J.length>1&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),eS("prev")},className:"absolute left-4 top-1/2 -translate-y-1/2 p-3 bg-white/10 hover:bg-white/20 rounded-xl transition-all duration-300 hover:scale-110 group",children:(0,a.jsx)(w.ChevronLeft,{className:"w-6 h-6 text-white group-hover:-translate-x-1 transition-transform"})}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),eS("next")},className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 bg-white/10 hover:bg-white/20 rounded-xl transition-all duration-300 hover:scale-110 group",children:(0,a.jsx)(v.ChevronRight,{className:"w-6 h-6 text-white group-hover:translate-x-1 transition-transform"})})]}),(0,a.jsxs)("div",{className:"relative max-w-[85vw] max-h-[85vh] p-4",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl bg-white/5 backdrop-blur-sm border border-white/10",children:[(0,a.jsx)("img",{src:e,alt:"Document",className:"max-w-full max-h-[75vh] object-contain transition-transform duration-500",style:{transform:`rotate(${Y}deg)`}}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-black/70 to-transparent"})]}),(0,a.jsx)("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 flex items-center gap-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2.5 bg-white/10 backdrop-blur-xl rounded-xl border border-white/20",children:[(0,a.jsx)("button",{onClick:()=>K(e=>e-90),className:"p-2.5 hover:bg-white/20 rounded-lg transition-all duration-200 group",title:"Rotate Left",children:(0,a.jsx)(_.RotateCw,{className:"w-4 h-4 text-white transform -scale-x-100 group-hover:rotate-[-90deg] transition-transform duration-300"})}),(0,a.jsx)("div",{className:"w-px h-6 bg-white/20"}),(0,a.jsx)("button",{onClick:()=>K(e=>e+90),className:"p-2.5 hover:bg-white/20 rounded-lg transition-all duration-200 group",title:"Rotate Right",children:(0,a.jsx)(_.RotateCw,{className:"w-4 h-4 text-white group-hover:rotate-90 transition-transform duration-300"})}),(0,a.jsx)("div",{className:"w-px h-6 bg-white/20"}),(0,a.jsx)("button",{onClick:()=>window.open(e,"_blank"),className:"p-2.5 hover:bg-white/20 rounded-lg transition-all duration-200 group",title:"Open in New Tab",children:(0,a.jsx)(k.Maximize2,{className:"w-4 h-4 text-white group-hover:scale-110 transition-transform duration-300"})}),(0,a.jsx)("div",{className:"w-px h-6 bg-white/20"}),(0,a.jsxs)("button",{onClick:()=>eA(e),className:"flex items-center gap-2 px-3.5 py-2.5 bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 rounded-lg transition-all duration-300 hover:scale-105",title:"Download",children:[(0,a.jsx)(y.Download,{className:"w-4 h-4 text-white"}),(0,a.jsx)("span",{className:"text-white font-medium text-sm",children:"Download"})]})]})})]}),J.length>1&&(0,a.jsx)("div",{className:"absolute bottom-24 left-1/2 -translate-x-1/2 flex items-center gap-2 px-3 py-2.5 bg-white/10 backdrop-blur-xl rounded-xl",children:J.map((e,s)=>(0,a.jsx)("button",{onClick:a=>{a.stopPropagation(),ea(s),W(e),K(0)},className:`w-14 h-14 rounded-lg overflow-hidden transition-all duration-300 ${s===ee?"ring-2 ring-white scale-110 shadow-lg":"opacity-60 hover:opacity-100"}`,children:(0,a.jsx)("img",{src:e,alt:"",className:"w-full h-full object-cover"})},s))})]}):null,{image:X,onClose:()=>W(null)})]})}],59700);var T=e.i(50439),E=e.i(98919),Z=e.i(3408),Z=Z,G=e.i(78917),H=e.i(95740),q=e.i(94351);let V=(0,M.default)("file-image",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);var X=e.i(90597);e.s(["default",0,({isOpen:e,onClose:t,farmerId:m})=>{var x,g;let[v,w]=(0,s.useState)("profile"),[k,_]=(0,s.useState)(null),[I,P]=(0,s.useState)(!1),[S,M]=(0,s.useState)(null),[D,$]=(0,s.useState)(null);(0,s.useEffect)(()=>{e&&m&&B()},[e,m]);let B=async()=>{P(!0),M(null);try{let e=await fetch(`${R.default}/user/getfarmerdetails?farmerId=${m}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}}),a=await e.json();a.success?_(a.data):M(a.message||"Failed to fetch farmer details")}catch(e){M("Network error. Please try again."),console.error("Error fetching farmer details:",e)}finally{P(!1)}};if(!e)return null;let F=[{id:"profile",label:"Profile",icon:i.User},{id:"documents",label:"Documents",icon:V},{id:"bank",label:"Bank Details",icon:d.Building2},{id:"nominee",label:"Nominee",icon:X.Heart}],L=e=>{let s={approved:{bg:"bg-green-50",text:"text-green-700",border:"border-green-200",dot:"bg-green-500"},active:{bg:"bg-green-50",text:"text-green-700",border:"border-green-200",dot:"bg-green-500"},pending:{bg:"bg-amber-50",text:"text-amber-700",border:"border-amber-200",dot:"bg-amber-500"},rejected:{bg:"bg-red-50",text:"text-red-700",border:"border-red-200",dot:"bg-red-500"},inactive:{bg:"bg-gray-50",text:"text-gray-700",border:"border-gray-200",dot:"bg-gray-500"}},r=s[e?.toLowerCase()]||s.pending;return(0,a.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-semibold ${r.bg} ${r.text} border ${r.border}`,children:[(0,a.jsx)("span",{className:`w-1.5 h-1.5 rounded-full ${r.dot} animate-pulse`}),e?.charAt(0).toUpperCase()+e?.slice(1)]})},z=e=>e?new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"N/A",O=e=>e?10===e.length?`+91 ${e}`:e:"N/A",W=({icon:e,label:s,value:r,color:t="indigo",copyable:l=!1})=>(0,a.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors group",children:[(0,a.jsx)("div",{className:`p-2 bg-gradient-to-br from-${t}-500 to-${t}-600 rounded-lg shadow-sm`,children:(0,a.jsx)(e,{className:"w-4 h-4 text-white"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 font-medium",children:s}),(0,a.jsx)("p",{className:"text-sm font-semibold text-gray-900 truncate",children:r||"N/A"})]}),l&&r&&(0,a.jsx)("button",{onClick:()=>navigator.clipboard.writeText(r),className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-gray-200 rounded transition-all",title:"Copy",children:(0,a.jsx)(c.FileText,{className:"w-3 h-3 text-gray-500"})})]}),Y=({label:e,imageUrl:s,onView:r})=>(0,a.jsxs)("div",{className:"bg-gray-50 rounded-xl p-3 hover:bg-gray-100 transition-colors",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 font-medium mb-2",children:e}),(0,a.jsx)("div",{className:"relative aspect-video bg-gray-200 rounded-lg overflow-hidden group",children:s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("img",{src:s,alt:e,className:"w-full h-full object-cover"}),(0,a.jsxs)("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>r(s),className:"p-2 bg-white rounded-lg hover:bg-gray-100 transition-colors",title:"View",children:(0,a.jsx)(C.Eye,{className:"w-4 h-4 text-gray-700"})}),(0,a.jsx)("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-white rounded-lg hover:bg-gray-100 transition-colors",title:"Open in new tab",children:(0,a.jsx)(G.ExternalLink,{className:"w-4 h-4 text-gray-700"})})]})]}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,a.jsx)(Z.default,{className:"w-8 h-8 text-gray-400"})})})]});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[92vh] overflow-hidden flex flex-col",children:[I&&(0,a.jsx)("div",{className:"flex-1 flex items-center justify-center py-20",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(U.Loader2,{className:"w-12 h-12 text-indigo-600 animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600 font-medium",children:"Loading farmer details..."})]})}),S&&!I&&(0,a.jsx)("div",{className:"flex-1 flex items-center justify-center py-20",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(l.XCircle,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-900 font-semibold mb-2",children:"Failed to load data"}),(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:S}),(0,a.jsx)("button",{onClick:B,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Try Again"})]})}),k&&!I&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"relative overflow-hidden flex-shrink-0",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600",children:(0,a.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48Y2lyY2xlIGN4PSIzMCIgY3k9IjMwIiByPSIyIi8+PC9nPjwvZz48L3N2Zz4=')] opacity-20"})}),(0,a.jsx)("div",{className:"relative px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"relative",children:[k.user_image?(0,a.jsx)("img",{src:k.user_image,alt:k.name,className:"w-16 h-16 rounded-2xl object-cover border-2 border-white/30 shadow-xl cursor-pointer hover:scale-105 transition-transform",onClick:()=>$(k.user_image)}):(0,a.jsx)("div",{className:"w-16 h-16 rounded-2xl bg-white/20 backdrop-blur-sm flex items-center justify-center text-white font-bold text-xl border border-white/30 shadow-xl",children:(x=k.name)?x.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):"NA"}),(0,a.jsx)("div",{className:`absolute -bottom-1 -right-1 w-5 h-5 rounded-full border-2 border-white flex items-center justify-center ${k.is_active?"bg-green-500":"bg-gray-500"}`,children:k.is_active?(0,a.jsx)(h.CheckCircle2,{className:"w-3 h-3 text-white"}):(0,a.jsx)(l.XCircle,{className:"w-3 h-3 text-white"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-white capitalize",children:k.name}),"approved"===k.overallStatus&&(0,a.jsx)(A.BadgeCheck,{className:"w-5 h-5 text-yellow-300"})]}),(0,a.jsxs)("p",{className:"text-white/70 text-sm",children:["ID: ",k.farmerId]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mt-1 flex-wrap",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1 text-white/80 text-xs",children:[(0,a.jsx)(u.Phone,{className:"w-3 h-3"}),O(k.phone_number)]}),(0,a.jsxs)("span",{className:"flex items-center gap-1 text-white/80 text-xs",children:[(0,a.jsx)(f.Calendar,{className:"w-3 h-3"}),"Joined ",z(k.registration_date)]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"hidden sm:block",children:L(k.overallStatus)}),(0,a.jsx)("button",{onClick:t,className:"p-2 bg-white/10 hover:bg-white/20 rounded-xl transition-all duration-300 hover:scale-110 hover:rotate-90",children:(0,a.jsx)(r.X,{className:"w-5 h-5 text-white"})})]})]})})]}),(0,a.jsx)("div",{className:"flex bg-gray-50 px-4 py-2 gap-2 flex-shrink-0 border-b border-gray-200 overflow-x-auto",children:F.map(e=>{let s=e.icon;return(0,a.jsxs)("button",{onClick:()=>w(e.id),className:`flex-1 min-w-fit px-4 py-2 flex items-center justify-center gap-2 font-medium rounded-xl transition-all duration-300 ${v===e.id?"bg-white text-gray-800 shadow-md":"text-gray-500 hover:bg-white/50 hover:text-gray-700"}`,children:[(0,a.jsx)(s,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm whitespace-nowrap",children:e.label})]},e.id)})}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 bg-gradient-to-br from-gray-50 via-white to-gray-50",children:["profile"===v&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-2xl p-5 border border-gray-100 shadow-sm",children:[(0,a.jsxs)("h3",{className:"text-sm font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,a.jsx)(i.User,{className:"w-4 h-4 text-indigo-600"}),"Personal Information"]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[(0,a.jsx)(W,{icon:i.User,label:"Full Name",value:k.name}),(0,a.jsx)(W,{icon:u.Phone,label:"Phone Number",value:O(k.phone_number),copyable:!0}),(0,a.jsx)(W,{icon:p.Mail,label:"Email Address",value:k.email,copyable:!0}),(0,a.jsx)(W,{icon:f.Calendar,label:"Date of Birth",value:z(k.dob)}),(0,a.jsx)(W,{icon:H.UserCircle,label:"Gender",value:k.gender?.charAt(0).toUpperCase()+k.gender?.slice(1)}),(0,a.jsx)(W,{icon:j.Hash,label:"Farmer ID",value:k.farmerId,copyable:!0})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl p-5 border border-gray-100 shadow-sm",children:[(0,a.jsxs)("h3",{className:"text-sm font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,a.jsx)(b.MapPin,{className:"w-4 h-4 text-indigo-600"}),"Address & Land Details"]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[(0,a.jsx)(W,{icon:q.Home,label:"Address",value:k.address}),(0,a.jsx)(W,{icon:b.MapPin,label:"Landmark",value:k.landmark}),(0,a.jsx)(W,{icon:b.MapPin,label:"Tehsil",value:k.tehsil}),(0,a.jsx)(W,{icon:b.MapPin,label:"District",value:k.district}),(0,a.jsx)(W,{icon:b.MapPin,label:"State",value:k.state}),(0,a.jsx)(W,{icon:j.Hash,label:"PIN Code",value:k.pin_code,copyable:!0}),(0,a.jsx)(W,{icon:T.Wheat,label:"Land Size",value:(g=k.land_size)?"object"==typeof g&&g.$numberDecimal?`${g.$numberDecimal} Acres`:`${g} Acres`:"N/A"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl p-5 border border-gray-100 shadow-sm",children:[(0,a.jsxs)("h3",{className:"text-sm font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,a.jsx)(E.Shield,{className:"w-4 h-4 text-indigo-600"}),"Account Status"]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Overall Status"}),L(k.overallStatus)]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Account Status"}),L(k.is_active?"active":"inactive")]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Registration Date"}),(0,a.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:z(k.registration_date)})]})]})]})]}),"documents"===v&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-2xl p-5 border border-gray-100 shadow-sm",children:[(0,a.jsxs)("h3",{className:"text-sm font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,a.jsx)(n.CreditCard,{className:"w-4 h-4 text-indigo-600"}),"Identity Documents"]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,a.jsx)(W,{icon:j.Hash,label:"Aadhaar Number",value:k.aadhaar_number,copyable:!0}),(0,a.jsx)(W,{icon:n.CreditCard,label:"PAN Number",value:k.pan_number,copyable:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[(0,a.jsx)(Y,{label:"User Photo",imageUrl:k.user_image,onView:$}),(0,a.jsx)(Y,{label:"Aadhaar Card",imageUrl:k.aadhaar_image,onView:$}),(0,a.jsx)(Y,{label:"PAN Card",imageUrl:k.pan_image,onView:$})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl p-5 border border-gray-100 shadow-sm",children:[(0,a.jsxs)("h3",{className:"text-sm font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,a.jsx)(c.FileText,{className:"w-4 h-4 text-indigo-600"}),"Khatauni Documents (",k.khatauni_images?.length||0,")"]}),k.khatauni_images&&k.khatauni_images.length>0?(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:k.khatauni_images.map((e,s)=>(0,a.jsxs)("div",{className:"bg-gray-50 rounded-xl p-3",children:[(0,a.jsxs)("p",{className:"text-xs text-gray-500 font-medium mb-2 truncate",title:e.khatauni_id,children:["Khatauni ",s+1]}),(0,a.jsxs)("div",{className:"relative aspect-video bg-gray-200 rounded-lg overflow-hidden group",children:[(0,a.jsx)("img",{src:e.image_url,alt:`Khatauni ${s+1}`,className:"w-full h-full object-cover"}),(0,a.jsxs)("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>$(e.image_url),className:"p-2 bg-white rounded-lg hover:bg-gray-100 transition-colors",title:"View",children:(0,a.jsx)(C.Eye,{className:"w-4 h-4 text-gray-700"})}),(0,a.jsx)("a",{href:e.image_url,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-white rounded-lg hover:bg-gray-100 transition-colors",title:"Open in new tab",children:(0,a.jsx)(G.ExternalLink,{className:"w-4 h-4 text-gray-700"})})]})]}),(0,a.jsxs)("p",{className:"text-xs text-gray-400 mt-2 truncate",title:e.khatauni_id,children:["ID: ",e.khatauni_id]})]},e.khatauni_id))}):(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,a.jsx)(c.FileText,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),(0,a.jsx)("p",{children:"No khatauni documents uploaded"})]})]})]}),"bank"===v&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-2xl p-5 border border-gray-100 shadow-sm",children:[(0,a.jsxs)("h3",{className:"text-sm font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,a.jsx)(d.Building2,{className:"w-4 h-4 text-indigo-600"}),"Bank Account Details"]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[(0,a.jsx)(W,{icon:i.User,label:"Account Holder",value:k.account_holder}),(0,a.jsx)(W,{icon:n.CreditCard,label:"Account Number",value:k.account_number,copyable:!0}),(0,a.jsx)(W,{icon:j.Hash,label:"IFSC Code",value:k.ifsc_code,copyable:!0}),(0,a.jsx)(W,{icon:d.Building2,label:"Bank Name",value:k.bank_name}),(0,a.jsx)(W,{icon:N.Landmark,label:"Branch Name",value:k.branch_name})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl p-5 border border-gray-100 shadow-sm",children:[(0,a.jsxs)("h3",{className:"text-sm font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,a.jsx)(V,{className:"w-4 h-4 text-indigo-600"}),"Bank Passbook / Cancelled Cheque"]}),(0,a.jsx)("div",{className:"max-w-md",children:(0,a.jsx)(Y,{label:"Bank Passbook Image",imageUrl:k.bank_passbook_img,onView:$})})]})]}),"nominee"===v&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-2xl p-5 border border-gray-100 shadow-sm",children:[(0,a.jsxs)("h3",{className:"text-sm font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,a.jsx)(o.Users,{className:"w-4 h-4 text-indigo-600"}),"Nominee Information"]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[(0,a.jsx)(W,{icon:i.User,label:"Nominee Name",value:k.nominee_name}),(0,a.jsx)(W,{icon:X.Heart,label:"Relationship",value:k.nominee_relation?.charAt(0).toUpperCase()+k.nominee_relation?.slice(1)}),(0,a.jsx)(W,{icon:H.UserCircle,label:"Gender",value:k.nominee_gender?.charAt(0).toUpperCase()+k.nominee_gender?.slice(1)}),(0,a.jsx)(W,{icon:f.Calendar,label:"Date of Birth",value:z(k.nominee_dob)}),(0,a.jsx)(W,{icon:u.Phone,label:"Phone Number",value:O(k.nominee_phone),copyable:!0}),(0,a.jsx)(W,{icon:p.Mail,label:"Email Address",value:k.nominee_email,copyable:!0}),(0,a.jsx)(W,{icon:j.Hash,label:"Aadhaar Number",value:k.nominee_aadhaar,copyable:!0}),(0,a.jsx)(W,{icon:n.CreditCard,label:"PAN Number",value:k.nominee_pan,copyable:!0}),(0,a.jsx)(W,{icon:q.Home,label:"Address",value:k.nominee_address})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl p-5 border border-gray-100 shadow-sm",children:[(0,a.jsxs)("h3",{className:"text-sm font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,a.jsx)(V,{className:"w-4 h-4 text-indigo-600"}),"Nominee Documents"]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[(0,a.jsx)(Y,{label:"Nominee Photo",imageUrl:k.nominee_image,onView:$}),(0,a.jsx)(Y,{label:"Nominee Aadhaar Card",imageUrl:k.nominee_aadhaar_image,onView:$}),(0,a.jsx)(Y,{label:"Nominee PAN Card",imageUrl:k.nominee_pan_image,onView:$})]})]})]})]}),(0,a.jsx)("div",{className:"border-t border-gray-200 bg-gray-50 px-6 py-3 flex-shrink-0",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["Farmer ID: ",k.farmerId," | Last updated: ",z(k.registration_date)]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-100 transition-all duration-200 text-sm font-medium",children:[(0,a.jsx)(y.Download,{className:"w-4 h-4"}),"Export"]}),(0,a.jsx)("button",{onClick:t,className:"px-5 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl hover:shadow-lg transition-all duration-300 text-sm font-semibold",children:"Close"})]})]})})]}),(I||S)&&(0,a.jsx)("div",{className:"border-t border-gray-200 bg-gray-50 px-6 py-3 flex-shrink-0",children:(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)("button",{onClick:t,className:"px-5 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl hover:shadow-lg transition-all duration-300 text-sm font-semibold",children:"Close"})})})]})}),D&&(0,a.jsx)(({imageUrl:e,onClose:s})=>(0,a.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[60] p-4",onClick:s,children:(0,a.jsxs)("div",{className:"relative max-w-4xl max-h-[90vh]",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("button",{onClick:s,className:"absolute -top-10 right-0 p-2 text-white hover:bg-white/20 rounded-full transition-colors",children:(0,a.jsx)(r.X,{className:"w-6 h-6"})}),(0,a.jsx)("img",{src:e,alt:"Preview",className:"max-w-full max-h-[85vh] object-contain rounded-lg"})]})}),{imageUrl:D,onClose:()=>$(null)})]})}],9132);var W=e.i(56909),Y=e.i(68553),K=e.i(83627),J=e.i(77705),Q=e.i(39312);let ee=(0,M.default)("power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]),ea=(0,M.default)("toggle-left",[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]]),es=(0,M.default)("toggle-right",[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]]);var er=e.i(81949);let et=({label:e,field:r,type:t="text",placeholder:l,icon:i,required:n=!1,disabled:d=!1,options:o=null,showToggle:c=!1,value:m,onChange:g,error:b,touched:u,isChanged:p,originalValue:f})=>{let j=b&&u,N=u&&!b&&m,[v,y]=(0,s.useState)(!c);return(0,a.jsxs)("div",{className:"space-y-1.5 group",children:[(0,a.jsxs)("label",{className:"flex items-center justify-between text-xs font-semibold text-gray-600 uppercase tracking-wide",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1.5",children:[i&&(0,a.jsx)(i,{className:"w-3.5 h-3.5 text-gray-400"}),e,n&&(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),p&&(0,a.jsxs)("span",{className:"flex items-center gap-1 text-amber-600 normal-case text-[10px] font-medium bg-amber-50 px-2 py-0.5 rounded-full",children:[(0,a.jsx)(Q.Zap,{className:"w-3 h-3"}),"Modified"]})]}),(0,a.jsxs)("div",{className:"relative",children:[o?(0,a.jsxs)("select",{value:m,onChange:e=>g(r,e.target.value),disabled:d,className:`w-full px-4 py-2.5 bg-gray-50 border rounded-xl text-sm font-medium transition-all duration-200 appearance-none cursor-pointer pr-10
              ${j?"border-red-300 bg-red-50 focus:ring-2 focus:ring-red-200 focus:border-red-400":p?"border-amber-300 bg-amber-50 focus:ring-2 focus:ring-amber-200 focus:border-amber-400":N?"border-green-300 bg-green-50 focus:ring-2 focus:ring-green-200 focus:border-green-400":"border-gray-200 focus:ring-2 focus:ring-indigo-200 focus:border-indigo-400 focus:bg-white"}
              ${d?"opacity-60 cursor-not-allowed":"hover:border-gray-300"}
            `,children:[(0,a.jsxs)("option",{value:"",children:["Select ",e]}),o.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))]}):(0,a.jsx)("input",{type:c?v?"text":"password":t,value:m,onChange:e=>g(r,e.target.value),placeholder:l,disabled:d,className:`w-full px-4 py-2.5 bg-gray-50 border rounded-xl text-sm font-medium transition-all duration-200 pr-10
              ${j?"border-red-300 bg-red-50 focus:ring-2 focus:ring-red-200 focus:border-red-400":p?"border-amber-300 bg-amber-50 focus:ring-2 focus:ring-amber-200 focus:border-amber-400":N?"border-green-300 bg-green-50 focus:ring-2 focus:ring-green-200 focus:border-green-400":"border-gray-200 focus:ring-2 focus:ring-indigo-200 focus:border-indigo-400 focus:bg-white"}
              ${d?"opacity-60 cursor-not-allowed":"hover:border-gray-300"}
            `}),(0,a.jsxs)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-1",children:[c&&(0,a.jsx)("button",{type:"button",onClick:()=>y(!v),className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:v?(0,a.jsx)(J.EyeOff,{className:"w-4 h-4 text-gray-400"}):(0,a.jsx)(C.Eye,{className:"w-4 h-4 text-gray-400"})}),j&&(0,a.jsx)(x.AlertCircle,{className:"w-4 h-4 text-red-500"}),p&&!j&&(0,a.jsx)(Q.Zap,{className:"w-4 h-4 text-amber-500"}),N&&!p&&(0,a.jsx)(h.CheckCircle2,{className:"w-4 h-4 text-green-500"})]})]}),j&&(0,a.jsxs)("p",{className:"text-xs text-red-500 flex items-center gap-1",children:[(0,a.jsx)(x.AlertCircle,{className:"w-3 h-3"}),b]}),p&&f&&(0,a.jsxs)("p",{className:"text-xs text-amber-600 flex items-center gap-1",children:[(0,a.jsx)(L.Info,{className:"w-3 h-3"}),"Original: ",f]})]})},el=({title:e,icon:s,children:r,color:t="indigo",badge:l=null})=>(0,a.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden hover:shadow-md transition-shadow duration-300",children:[(0,a.jsx)("div",{className:`px-5 py-3 bg-gradient-to-r from-${t}-50 to-${t}-100/50 border-b border-gray-100`,children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h3",{className:"text-sm font-semibold text-gray-800 flex items-center gap-2",children:[(0,a.jsx)("div",{className:`p-1.5 bg-gradient-to-br from-${t}-500 to-${t}-600 rounded-lg shadow-sm`,children:(0,a.jsx)(s,{className:"w-3.5 h-3.5 text-white"})}),e]}),l&&(0,a.jsx)("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${l.className}`,children:l.text})]})}),(0,a.jsx)("div",{className:"p-5",children:r})]}),ei=({src:e,label:s,icon:r})=>e?(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)("div",{className:"aspect-video rounded-xl overflow-hidden border border-gray-200 bg-gray-50",children:(0,a.jsx)("img",{src:e,alt:s,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"})}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-xl flex items-center justify-center",children:(0,a.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-white rounded-lg shadow-lg hover:bg-gray-100 transition-colors",children:(0,a.jsx)(C.Eye,{className:"w-5 h-5 text-gray-700"})})}),(0,a.jsxs)("p",{className:"mt-2 text-xs font-medium text-gray-600 flex items-center gap-1.5",children:[(0,a.jsx)(r,{className:"w-3.5 h-3.5 text-gray-400"}),s]})]}):null,en=[{value:"male",label:"Male"},{value:"female",label:"Female"},{value:"other",label:"Other"}],ed=[{value:"Uttar Pradesh",label:"Uttar Pradesh"},{value:"Bihar",label:"Bihar"},{value:"Madhya Pradesh",label:"Madhya Pradesh"},{value:"Maharashtra",label:"Maharashtra"},{value:"Rajasthan",label:"Rajasthan"},{value:"Punjab",label:"Punjab"},{value:"Haryana",label:"Haryana"},{value:"Gujarat",label:"Gujarat"},{value:"Tamil Nadu",label:"Tamil Nadu"},{value:"Karnataka",label:"Karnataka"}],eo=[{value:"spouse",label:"Spouse"},{value:"father",label:"Father"},{value:"mother",label:"Mother"},{value:"son",label:"Son"},{value:"daughter",label:"Daughter"},{value:"brother",label:"Brother"},{value:"sister",label:"Sister"},{value:"other",label:"Other"}];e.s(["default",0,({isOpen:e,onClose:t,farmerId:l,onSave:m})=>{let[g,y]=(0,s.useState)("personal"),[w,k]=(0,s.useState)(!0),[_,C]=(0,s.useState)(!1),[P,S]=(0,s.useState)({}),[M,D]=(0,s.useState)({}),[B,z]=(0,s.useState)(null),[O,Z]=(0,s.useState)(!1),[G,H]=(0,s.useState)({}),[q,V]=(0,s.useState)({}),[X,J]=(0,s.useState)(!1),[ec,em]=(0,s.useState)(null),[ex,eh]=(0,s.useState)({is_active:!0,name:"",phone_number:"",email:"",dob:"",gender:"",aadhaar_number:"",pan_number:"",user_image:"",aadhaar_image:"",pan_image:"",address:"",tehsil:"",district:"",state:"",pin_code:"",landmark:"",land_size:"",account_number:"",ifsc_code:"",account_holder:"",bank_name:"",branch_name:"",bank_passbook_img:"",nominee_name:"",nominee_relation:"",nominee_phone:"",nominee_email:"",nominee_dob:"",nominee_gender:"",nominee_aadhaar:"",nominee_pan:"",nominee_address:"",nominee_image:"",nominee_aadhaar_image:"",nominee_pan_image:""}),eg=(0,s.useCallback)(async()=>{if(l){k(!0),z(null);try{let e=await er.default.get(`${R.default}/user/getfarmerdetails?farmerId=${l}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(e.data.success){let a=e.data.data;em(a);let s=a.land_size?.$numberDecimal||a.land_size||"",r={is_active:a.is_active??!0,name:a.name||"",phone_number:a.phone_number||"",email:a.email||"",dob:a.dob||"",gender:a.gender||"",aadhaar_number:a.aadhaar_number||"",pan_number:a.pan_number||"",user_image:a.user_image||"",aadhaar_image:a.aadhaar_image||"",pan_image:a.pan_image||"",address:a.address||"",tehsil:a.tehsil||"",district:a.district||"",state:a.state||"",pin_code:a.pin_code||"",landmark:a.landmark||"",land_size:s,account_number:a.account_number||"",ifsc_code:a.ifsc_code||"",account_holder:a.account_holder||"",bank_name:a.bank_name||"",branch_name:a.branch_name||"",bank_passbook_img:a.bank_passbook_img||"",nominee_name:a.nominee_name||"",nominee_relation:a.nominee_relation||"",nominee_phone:a.nominee_phone||"",nominee_email:a.nominee_email||"",nominee_dob:a.nominee_dob||"",nominee_gender:a.nominee_gender||"",nominee_aadhaar:a.nominee_aadhaar||"",nominee_pan:a.nominee_pan||"",nominee_address:a.nominee_address||"",nominee_image:a.nominee_image||"",nominee_aadhaar_image:a.nominee_aadhaar_image||"",nominee_pan_image:a.nominee_pan_image||""};eh(r),H(r),V({})}else z(e.data.message||"Failed to fetch farmer details")}catch(e){console.error("Error fetching farmer details:",e),z(e.response?.data?.message||"Failed to connect to server")}finally{k(!1)}}},[l]);if((0,s.useEffect)(()=>{e&&l&&eg()},[e,l,eg]),(0,s.useEffect)(()=>{e||(y("personal"),S({}),D({}),Z(!1),V({}))},[e]),!e)return null;let eb=[{id:"personal",label:"Personal Info",icon:i.User,color:"from-blue-500 to-indigo-600"},{id:"address",label:"Address & Land",icon:b.MapPin,color:"from-green-500 to-emerald-600"},{id:"bank",label:"Bank Details",icon:d.Building2,color:"from-purple-500 to-pink-600"},{id:"nominee",label:"Nominee Info",icon:o.Users,color:"from-amber-500 to-orange-600"}],eu=(e,a)=>{eh(s=>({...s,[e]:a})),D(a=>({...a,[e]:!0})),a!==G[e]?V(s=>({...s,[e]:a})):V(a=>{let s={...a};return delete s[e],s}),P[e]&&S(a=>({...a,[e]:null})),O&&Z(!1)},ep=async()=>{let e,a;if(0===Object.keys(q).length)return void S({general:"No changes to save"});if(e={},(a=Object.keys(q)).includes("name")&&!ex.name.trim()&&(e.name="Name is required"),a.includes("phone_number")&&(ex.phone_number.trim()?/^[0-9]{10,12}$/.test(ex.phone_number.replace(/\s/g,""))||(e.phone_number="Invalid phone number"):e.phone_number="Phone is required"),a.includes("email")&&ex.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ex.email)&&(e.email="Invalid email address"),a.includes("aadhaar_number")&&!ex.aadhaar_number.trim()&&(e.aadhaar_number="Aadhaar is required"),a.includes("address")&&!ex.address.trim()&&(e.address="Address is required"),a.includes("district")&&!ex.district.trim()&&(e.district="District is required"),a.includes("state")&&!ex.state.trim()&&(e.state="State is required"),a.includes("pin_code")&&!ex.pin_code.trim()&&(e.pin_code="PIN code is required"),a.includes("account_number")&&!ex.account_number.trim()&&(e.account_number="Account number is required"),a.includes("ifsc_code")&&!ex.ifsc_code.trim()&&(e.ifsc_code="IFSC code is required"),a.includes("bank_name")&&!ex.bank_name.trim()&&(e.bank_name="Bank name is required"),S(e),0!==Object.keys(e).length){let e=Object.keys(P);e.length>0&&(["name","phone_number","email","dob","gender","aadhaar_number","pan_number"].some(a=>e.includes(a))?y("personal"):["address","tehsil","district","state","pin_code","landmark","land_size"].some(a=>e.includes(a))?y("address"):["account_number","ifsc_code","account_holder","bank_name","branch_name"].some(a=>e.includes(a))?y("bank"):y("nominee"));return}C(!0),S({});try{let e={farmerId:l,...q};console.log("Updating with payload:",e);let a=await er.default.put(`${R.default}/user/updatefarmerdetails?farmerId=${l}`,e,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});a.data.success?(Z(!0),H({...ex}),V({}),m?.(ex),setTimeout(()=>{t()},1500)):S({general:a.data.message||"Failed to update farmer details"})}catch(e){console.error("Save failed:",e),S({general:e.response?.data?.message||"Failed to save changes. Please try again."})}finally{C(!1)}},ef=e=>(0,a.jsx)(et,{...e,value:ex[e.field],onChange:eu,error:P[e.field],touched:M[e.field],isChanged:void 0!==q[e.field],originalValue:G[e.field]}),ej=()=>{let e=Object.keys(ex);return Math.round(e.filter(e=>ex[e]&&ex[e].toString().trim()).length/e.length*100)};return w?(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8 flex flex-col items-center gap-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"w-16 h-16 border-4 border-indigo-100 rounded-full"}),(0,a.jsx)("div",{className:"absolute inset-0 w-16 h-16 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Loading Farmer Details"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Please wait while we fetch the data..."})]})]})}):B?(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8 flex flex-col items-center gap-4",children:[(0,a.jsx)("div",{className:"p-4 bg-red-100 rounded-full",children:(0,a.jsx)($.AlertTriangle,{className:"w-8 h-8 text-red-600"})}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Failed to Load Data"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:B})]}),(0,a.jsxs)("div",{className:"flex gap-3 mt-2",children:[(0,a.jsx)("button",{onClick:t,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors text-sm font-medium",children:"Cancel"}),(0,a.jsxs)("button",{onClick:eg,className:"px-4 py-2 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition-colors text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(F.RefreshCw,{className:"w-4 h-4"}),"Retry"]})]})]})}):(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[92vh] overflow-hidden flex flex-col animate-in slide-in-from-bottom-4 duration-300",children:[(0,a.jsxs)("div",{className:"relative overflow-hidden flex-shrink-0",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600",children:(0,a.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48Y2lyY2xlIGN4PSIzMCIgY3k9IjMwIiByPSIyIi8+PC9nPjwvZz48L3N2Zz4=')] opacity-20"})}),(0,a.jsx)("div",{className:"relative px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"relative group",children:[ec?.user_image?(0,a.jsx)("img",{src:ec.user_image,alt:ex.name,className:"w-16 h-16 rounded-2xl object-cover border-2 border-white/30 shadow-xl"}):(0,a.jsx)("div",{className:"w-16 h-16 rounded-2xl bg-white/20 backdrop-blur-sm flex items-center justify-center text-white font-bold text-xl border border-white/30 shadow-xl",children:ex.name?ex.name.split(" ").map(e=>e[0]).join("").substring(0,2).toUpperCase():"NA"}),(0,a.jsx)("button",{className:"absolute inset-0 bg-black/40 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:(0,a.jsx)(Y.Camera,{className:"w-5 h-5 text-white"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,a.jsx)(K.Edit3,{className:"w-5 h-5"}),"Edit Farmer Profile"]}),(0,a.jsx)(I.Sparkles,{className:"w-4 h-4 text-yellow-300 animate-pulse"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mt-1",children:[(0,a.jsxs)("p",{className:"text-white/70 text-sm",children:["ID: ",ec?.farmerId||l]}),ec?.overallStatus&&(0,a.jsx)("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${"approved"===ec.overallStatus?"bg-green-400/20 text-green-100":"pending"===ec.overallStatus?"bg-yellow-400/20 text-yellow-100":"bg-red-400/20 text-red-100"}`,children:ec.overallStatus.charAt(0).toUpperCase()+ec.overallStatus.slice(1)})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[Object.keys(q).length>0&&(0,a.jsxs)("div",{className:"hidden sm:flex items-center gap-2 bg-amber-400/20 backdrop-blur-sm rounded-xl px-3 py-2 border border-amber-300/30",children:[(0,a.jsx)(Q.Zap,{className:"w-4 h-4 text-amber-300"}),(0,a.jsxs)("span",{className:"text-amber-100 text-sm font-medium",children:[Object.keys(q).length," change",Object.keys(q).length>1?"s":""]})]}),(0,a.jsxs)("div",{className:"hidden sm:flex items-center gap-3 bg-white/10 backdrop-blur-sm rounded-xl px-4 py-2 border border-white/20",children:[(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-white font-bold text-sm",children:[ej(),"%"]}),(0,a.jsx)("p",{className:"text-white/60 text-xs",children:"Complete"})]}),(0,a.jsxs)("div",{className:"w-12 h-12 relative",children:[(0,a.jsxs)("svg",{className:"w-12 h-12 -rotate-90",children:[(0,a.jsx)("circle",{cx:"24",cy:"24",r:"20",fill:"none",stroke:"rgba(255,255,255,0.2)",strokeWidth:"4"}),(0,a.jsx)("circle",{cx:"24",cy:"24",r:"20",fill:"none",stroke:"white",strokeWidth:"4",strokeDasharray:`${1.26*ej()} 126`,strokeLinecap:"round",className:"transition-all duration-500"})]}),(0,a.jsx)(h.CheckCircle2,{className:"w-5 h-5 text-white absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"})]})]}),(0,a.jsx)("button",{onClick:t,className:"p-2 bg-white/10 hover:bg-white/20 rounded-xl transition-all duration-300 hover:scale-110 hover:rotate-90",children:(0,a.jsx)(r.X,{className:"w-5 h-5 text-white"})})]})]})})]}),O&&(0,a.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-b border-green-200 px-6 py-3 flex items-center gap-3 animate-in slide-in-from-top-2 duration-300",children:[(0,a.jsx)("div",{className:"p-1.5 bg-green-100 rounded-full",children:(0,a.jsx)(h.CheckCircle2,{className:"w-5 h-5 text-green-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-green-800",children:"Changes saved successfully!"}),(0,a.jsx)("p",{className:"text-xs text-green-600",children:"Closing in a moment..."})]})]}),P.general&&(0,a.jsxs)("div",{className:"bg-gradient-to-r from-red-50 to-rose-50 border-b border-red-200 px-6 py-3 flex items-center gap-3 animate-in slide-in-from-top-2 duration-300",children:[(0,a.jsx)("div",{className:"p-1.5 bg-red-100 rounded-full",children:(0,a.jsx)(x.AlertCircle,{className:"w-5 h-5 text-red-600"})}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("p",{className:"text-sm font-semibold text-red-800",children:P.general})}),(0,a.jsx)("button",{onClick:()=>S(e=>({...e,general:null})),className:"p-1 hover:bg-red-100 rounded-lg transition-colors",children:(0,a.jsx)(r.X,{className:"w-4 h-4 text-red-500"})})]}),(0,a.jsx)("div",{className:"flex bg-gray-50 px-4 py-2 gap-2 flex-shrink-0 border-b border-gray-200 overflow-x-auto",children:eb.map(e=>{let s=e.icon,r=({personal:["name","phone_number","email","dob","gender","aadhaar_number","pan_number"],address:["address","tehsil","district","state","pin_code","landmark","land_size"],bank:["account_number","ifsc_code","account_holder","bank_name","branch_name"],nominee:["nominee_name","nominee_relation","nominee_phone","nominee_email","nominee_dob","nominee_gender","nominee_aadhaar","nominee_pan","nominee_address"]})[e.id]?.filter(e=>void 0!==q[e]).length||0;return(0,a.jsxs)("button",{onClick:()=>y(e.id),className:`flex-1 min-w-[140px] px-4 py-2 flex items-center justify-center gap-2 font-medium rounded-xl transition-all duration-300 relative ${g===e.id?"bg-white text-gray-800 shadow-md scale-[1.02]":"text-gray-500 hover:bg-white/50 hover:text-gray-700"}`,children:[(0,a.jsx)("div",{className:`p-1.5 rounded-lg bg-gradient-to-br ${g===e.id?e.color:"from-gray-300 to-gray-400"}`,children:(0,a.jsx)(s,{className:"w-3.5 h-3.5 text-white"})}),(0,a.jsx)("span",{className:"text-sm whitespace-nowrap",children:e.label}),r>0&&(0,a.jsx)("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-amber-500 text-white text-xs font-bold rounded-full flex items-center justify-center",children:r})]},e.id)})}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 bg-gradient-to-br from-gray-50 via-white to-gray-50",children:["personal"===g&&(0,a.jsxs)("div",{className:"space-y-5",children:[(0,a.jsxs)(el,{title:"Basic Information",icon:i.User,color:"blue",children:[(0,a.jsxs)("div",{className:"mb-5 p-4 bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl border border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:`p-2.5 rounded-xl shadow-sm ${ex.is_active?"bg-gradient-to-br from-green-500 to-emerald-600":"bg-gradient-to-br from-red-500 to-rose-600"}`,children:(0,a.jsx)(ee,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:"Account Status"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:ex.is_active?"Farmer can access the system":"Farmer access is disabled"})]})]}),(0,a.jsx)("button",{type:"button",onClick:()=>eu("is_active",!ex.is_active),className:`flex items-center gap-2 px-4 py-2 rounded-xl font-medium text-sm transition-all duration-300 ${ex.is_active?"bg-green-100 text-green-700 hover:bg-green-200":"bg-red-100 text-red-700 hover:bg-red-200"}`,children:ex.is_active?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(es,{className:"w-5 h-5"}),"Active"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ea,{className:"w-5 h-5"}),"Inactive"]})})]}),void 0!==q.is_active&&(0,a.jsxs)("div",{className:"mt-3 flex items-center gap-2 text-amber-600 bg-amber-50 px-3 py-1.5 rounded-lg text-xs font-medium",children:[(0,a.jsx)(Q.Zap,{className:"w-3.5 h-3.5"}),"Status will change from ",G.is_active?"Active":"Inactive"," to ",ex.is_active?"Active":"Inactive"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[ef({label:"Full Name",field:"name",icon:i.User,placeholder:"Enter full name",required:!0}),ef({label:"Phone Number",field:"phone_number",icon:u.Phone,placeholder:"9876543210",required:!0}),ef({label:"Email Address",field:"email",icon:p.Mail,type:"email",placeholder:"email@example.com"}),ef({label:"Date of Birth",field:"dob",icon:f.Calendar,type:"date"}),ef({label:"Gender",field:"gender",icon:i.User,options:en})]})]}),(0,a.jsxs)(el,{title:"Identity Documents",icon:E.Shield,color:"indigo",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[ef({label:"Aadhaar Number",field:"aadhaar_number",icon:j.Hash,placeholder:"123456789012",required:!0}),ef({label:"PAN Number",field:"pan_number",icon:n.CreditCard,placeholder:"ABCDE1234F"})]}),(ex.aadhaar_image||ex.pan_image)&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("p",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide mb-3",children:"Document Images"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,a.jsx)(ei,{src:ex.user_image,label:"Profile Photo",icon:i.User}),(0,a.jsx)(ei,{src:ex.aadhaar_image,label:"Aadhaar Card",icon:n.CreditCard}),(0,a.jsx)(ei,{src:ex.pan_image,label:"PAN Card",icon:c.FileText})]})]}),(0,a.jsx)("div",{className:"mt-4 p-4 bg-blue-50 rounded-xl border border-blue-100",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(L.Info,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"Document Verification"}),(0,a.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"Identity documents were verified during registration. Contact admin to update document images."})]})]})})]})]}),"address"===g&&(0,a.jsxs)("div",{className:"space-y-5",children:[(0,a.jsx)(el,{title:"Residential Address",icon:b.MapPin,color:"green",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:ef({label:"Address",field:"address",icon:b.MapPin,placeholder:"Village, Post Office",required:!0})}),ef({label:"Landmark",field:"landmark",icon:b.MapPin,placeholder:"Near landmark"}),ef({label:"Tehsil",field:"tehsil",icon:b.MapPin,placeholder:"Enter tehsil"}),ef({label:"District",field:"district",icon:b.MapPin,placeholder:"Enter district",required:!0}),ef({label:"State",field:"state",icon:b.MapPin,options:ed,required:!0}),ef({label:"PIN Code",field:"pin_code",icon:j.Hash,placeholder:"273402",required:!0})]})}),(0,a.jsxs)(el,{title:"Land Details",icon:T.Wheat,color:"amber",children:[(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:ef({label:"Land Size (Acres)",field:"land_size",icon:T.Wheat,type:"number",placeholder:"2.5"})}),ec?.khatauni_images?.length>0&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("p",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide mb-3",children:"Khatauni Documents"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ec.khatauni_images.map((e,s)=>(0,a.jsx)(ei,{src:e.image_url,label:`Khatauni ${s+1}`,icon:c.FileText},e.khatauni_id))})]}),(0,a.jsx)("div",{className:"mt-4 p-4 bg-amber-50 rounded-xl border border-amber-100",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(c.FileText,{className:"w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-amber-800",children:"Khatauni Documents"}),(0,a.jsx)("p",{className:"text-xs text-amber-600 mt-1",children:"Land ownership documents are verified separately. Contact admin to update Khatauni records."})]})]})})]})]}),"bank"===g&&(0,a.jsxs)("div",{className:"space-y-5",children:[(0,a.jsxs)(el,{title:"Bank Account Details",icon:d.Building2,color:"purple",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[ef({label:"Account Number",field:"account_number",icon:n.CreditCard,placeholder:"Enter account number",required:!0,showToggle:!0}),ef({label:"IFSC Code",field:"ifsc_code",icon:j.Hash,placeholder:"SBIN0001234",required:!0}),ef({label:"Account Holder Name",field:"account_holder",icon:i.User,placeholder:"Name as per bank"}),ef({label:"Bank Name",field:"bank_name",icon:d.Building2,placeholder:"State Bank of India",required:!0}),ef({label:"Branch Name",field:"branch_name",icon:N.Landmark,placeholder:"Main Branch"})]}),ex.bank_passbook_img&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("p",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide mb-3",children:"Bank Documents"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(0,a.jsx)(ei,{src:ex.bank_passbook_img,label:"Bank Passbook",icon:c.FileText})})]})]}),(0,a.jsx)("div",{className:"p-5 bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl border border-purple-100",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2.5 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl shadow-lg",children:(0,a.jsx)(E.Shield,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:"Bank Account Status"}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["Registered on"," ",new Date(ec?.registration_date).toLocaleDateString()]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-green-100 rounded-full",children:[(0,a.jsx)(A.BadgeCheck,{className:"w-4 h-4 text-green-600"}),(0,a.jsx)("span",{className:"text-xs font-semibold text-green-700",children:"Linked"})]})]})})]}),"nominee"===g&&(0,a.jsxs)("div",{className:"space-y-5",children:[(0,a.jsx)(el,{title:"Nominee Personal Information",icon:o.Users,color:"orange",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[ef({label:"Nominee Name",field:"nominee_name",icon:i.User,placeholder:"Enter nominee name"}),ef({label:"Relationship",field:"nominee_relation",icon:o.Users,options:eo}),ef({label:"Phone Number",field:"nominee_phone",icon:u.Phone,placeholder:"9876543210"}),ef({label:"Email Address",field:"nominee_email",icon:p.Mail,type:"email",placeholder:"email@example.com"}),ef({label:"Date of Birth",field:"nominee_dob",icon:f.Calendar,type:"date"}),ef({label:"Gender",field:"nominee_gender",icon:i.User,options:en})]})}),(0,a.jsxs)(el,{title:"Nominee Identity & Address",icon:E.Shield,color:"red",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[ef({label:"Aadhaar Number",field:"nominee_aadhaar",icon:j.Hash,placeholder:"123456789012"}),ef({label:"PAN Number",field:"nominee_pan",icon:n.CreditCard,placeholder:"ABCDE1234F"}),(0,a.jsx)("div",{className:"md:col-span-2",children:ef({label:"Address",field:"nominee_address",icon:b.MapPin,placeholder:"Complete address"})})]}),(ex.nominee_image||ex.nominee_aadhaar_image||ex.nominee_pan_image)&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("p",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide mb-3",children:"Nominee Documents"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,a.jsx)(ei,{src:ex.nominee_image,label:"Nominee Photo",icon:i.User}),(0,a.jsx)(ei,{src:ex.nominee_aadhaar_image,label:"Nominee Aadhaar",icon:n.CreditCard}),(0,a.jsx)(ei,{src:ex.nominee_pan_image,label:"Nominee PAN",icon:c.FileText})]})]})]}),(0,a.jsx)("div",{className:"p-4 bg-orange-50 rounded-xl border border-orange-100",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(L.Info,{className:"w-5 h-5 text-orange-500 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-orange-800",children:"Nominee Information"}),(0,a.jsx)("p",{className:"text-xs text-orange-600 mt-1",children:"The nominee will be the beneficiary in case of any claims. Ensure all details are accurate and up-to-date."})]})]})})]})]}),(0,a.jsx)("div",{className:"border-t border-gray-200 bg-gradient-to-r from-gray-50 via-white to-gray-50 px-6 py-4 flex-shrink-0",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"Required fields marked with *"})]}),Object.keys(q).length>0&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-amber-600 bg-amber-50 px-3 py-1 rounded-full",children:[(0,a.jsx)(Q.Zap,{className:"w-4 h-4"}),(0,a.jsxs)("span",{className:"text-xs font-medium",children:[Object.keys(q).length," unsaved change",Object.keys(q).length>1?"s":""]})]}),Object.keys(P).filter(e=>"general"!==e).length>0&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-red-500",children:[(0,a.jsx)(x.AlertCircle,{className:"w-4 h-4"}),(0,a.jsxs)("span",{className:"text-xs font-medium",children:[Object.keys(P).filter(e=>"general"!==e).length," ","error",Object.keys(P).filter(e=>"general"!==e).length>1?"s":""," ","found"]})]})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)("button",{onClick:()=>{eh({...G}),V({}),D({}),S({})},disabled:_||0===Object.keys(q).length,className:"px-4 py-2.5 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-100 transition-all duration-200 text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[(0,a.jsx)(F.RefreshCw,{className:"w-4 h-4"}),"Reset"]}),(0,a.jsx)("button",{onClick:t,disabled:_,className:"px-5 py-2.5 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-100 transition-all duration-200 text-sm font-medium disabled:opacity-50",children:"Cancel"}),(0,a.jsx)("button",{onClick:ep,disabled:_||0===Object.keys(q).length,className:"group px-6 py-2.5 bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 text-white rounded-xl hover:shadow-lg hover:shadow-indigo-200 transition-all duration-300 text-sm font-semibold flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:shadow-none",children:_?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(U.Loader2,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(W.Save,{className:"w-4 h-4"}),"Save Changes",Object.keys(q).length>0&&(0,a.jsx)("span",{className:"bg-white/20 px-1.5 py-0.5 rounded text-xs",children:Object.keys(q).length}),(0,a.jsx)(v.ChevronRight,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})})]})]})})]})})}],96302);let ec=(0,M.default)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);e.s(["UserX",()=>ec],98962)}]);