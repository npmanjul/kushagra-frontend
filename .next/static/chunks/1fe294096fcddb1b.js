(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,87087,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(7486),d=e.i(7233),r=e.i(55436),l=e.i(95828),l=l,i=e.i(70956),o=e.i(46897),n=e.i(88844),x=e.i(61911),c=e.i(75254);let m=(0,c.default)("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);var h=e.i(86536),b=e.i(83627),g=e.i(27612),j=e.i(16715),f=e.i(33785),p=e.i(95468),u=e.i(87316),y=e.i(98919),N=e.i(31795),v=e.i(5766),w=e.i(68228),k=e.i(37902),C=e.i(37727),S=e.i(84614),$=e.i(82293),T=e.i(17923),L=e.i(25652),M=e.i(63059);let A=(0,c.default)("box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);var _=e.i(52008),q=e.i(78894),E=e.i(3116),I=e.i(63488),B=e.i(43432),P=e.i(21218),D=e.i(63727),U=e.i(88081);let W=(0,c.default)("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);var z=e.i(50439),F=e.i(31278),Q=e.i(35408),R=e.i(15057),O=e.i(10813),V=e.i(73884),G=e.i(12426);let H=({isOpen:e,onClose:d,warehouse:r})=>{var l;let i,c,[m,h]=(0,a.useState)("overview"),[b,g]=(0,a.useState)({}),[j,v]=(0,a.useState)(null),[w,H]=(0,a.useState)(!1),[X,J]=(0,a.useState)(null);(0,a.useEffect)(()=>{let s=e=>{"Escape"===e.key&&d?.()};return e&&(document.addEventListener("keydown",s),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",s),document.body.style.overflow="unset"}},[e,d]),(0,a.useEffect)(()=>{e&&(h("overview"),g({}),K())},[e]);let K=async()=>{if(r?._id){H(!0),J(null);try{let e=await fetch(`${N.default}/warehouse/inventory`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw Error("Failed to fetch inventory");let s=await e.json();if(s.success&&s.warehouses){let e=s.warehouses.find(e=>e.warehouseId===r._id);e?v(e):J("No inventory data found for this warehouse")}}catch(e){console.error("Error fetching inventory:",e),J(e.message||"Failed to load inventory data")}finally{H(!1)}}};if(!e||!r)return null;let Y=r.capacity_quintal||0,Z=j&&j?.categories?j.categories.reduce((e,s)=>e+Math.max(0,(s.deposit?.completed?.qty||0)-(s.withdraw?.completed||0)-(s.sell?.completed?.qty||0)),0):r.used_capacity_quintal||0,ee=Math.max(0,Y-Z),es=Y>0?Math.round(Z/Y*100):0,ea=es>=90?{label:"Critical",icon:q.AlertTriangle,bgColor:"bg-rose-500",bgColorLight:"bg-rose-50",textColor:"text-rose-600",borderColor:"border-rose-200",badgeBg:"bg-rose-500/10",badgeText:"text-rose-400",badgeBorder:"border-rose-500/20",gradientFrom:"from-rose-500",gradientTo:"to-red-600"}:es>=70?{label:"High",icon:L.TrendingUp,bgColor:"bg-amber-500",bgColorLight:"bg-amber-50",textColor:"text-amber-600",borderColor:"border-amber-200",badgeBg:"bg-amber-500/10",badgeText:"text-amber-400",badgeBorder:"border-amber-500/20",gradientFrom:"from-amber-500",gradientTo:"to-orange-600"}:es>=40?{label:"Normal",icon:T.BarChart3,bgColor:"bg-blue-500",bgColorLight:"bg-blue-50",textColor:"text-blue-600",borderColor:"border-blue-200",badgeBg:"bg-blue-500/10",badgeText:"text-blue-400",badgeBorder:"border-blue-500/20",gradientFrom:"from-blue-500",gradientTo:"to-indigo-600"}:{label:"Low",icon:p.CheckCircle2,bgColor:"bg-emerald-500",bgColorLight:"bg-emerald-50",textColor:"text-emerald-600",borderColor:"border-emerald-200",badgeBg:"bg-emerald-500/10",badgeText:"text-emerald-400",badgeBorder:"border-emerald-500/20",gradientFrom:"from-emerald-500",gradientTo:"to-teal-600"},et=ea.icon,ed=[{id:"overview",label:"Overview",icon:t.Building2},{id:"team",label:"Team",icon:x.Users,count:(r.staff?.length||0)+2},{id:"inventory",label:"Inventory",icon:n.Package}],er=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",el=e=>{g(s=>({...s,[e]:!0}))},ei=({icon:e,value:a,label:t,gradient:d,shadowColor:r})=>(0,s.jsxs)("div",{className:"group relative p-6 bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-xl transition-all duration-500 overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-50 to-white opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("div",{className:`p-3 bg-gradient-to-br ${d} rounded-xl shadow-lg ${r} group-hover:scale-110 transition-transform duration-500`,children:(0,s.jsx)(e,{className:"w-6 h-6 text-white"})}),(0,s.jsx)(M.ChevronRight,{className:"w-5 h-5 text-gray-300 group-hover:text-gray-400 group-hover:translate-x-1 transition-all duration-300"})]}),(0,s.jsx)("h3",{className:"text-3xl font-bold text-gray-900 mb-1",children:"number"==typeof a?a.toLocaleString():a}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:t})]})]}),eo=({member:e,role:a,gradientBg:t,accentGradient:d,borderColor:r,roleTextColor:l})=>{let i=e?.employee,o=i?.employeeImage&&!b[e._id];return(0,s.jsx)("div",{className:`p-6 bg-gradient-to-br ${t} rounded-2xl border ${r} hover:shadow-xl transition-all duration-300`,children:(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsxs)("div",{className:"relative shrink-0",children:[o?(0,s.jsx)("img",{src:i.employeeImage,alt:e.name,onError:()=>el(e._id),className:"w-16 h-16 rounded-2xl object-cover shadow-lg ring-2 ring-white"}):(0,s.jsx)("div",{className:`w-16 h-16 bg-gradient-to-br ${d} rounded-2xl flex items-center justify-center shadow-lg ring-2 ring-white`,children:"Manager"===a?(0,s.jsx)(S.User,{className:"w-8 h-8 text-white"}):(0,s.jsx)($.UserCheck,{className:"w-8 h-8 text-white"})}),(0,s.jsx)("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-emerald-500 rounded-full flex items-center justify-center border-2 border-white shadow-md",children:(0,s.jsx)(p.CheckCircle2,{className:"w-3.5 h-3.5 text-white"})})]}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)("span",{className:`text-xs font-bold uppercase tracking-wider ${l}`,children:a}),i?.employmentStatus==="Active"&&(0,s.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium bg-emerald-100 text-emerald-700 rounded-full",children:"Active"})]}),(0,s.jsx)("h4",{className:"text-lg font-bold text-gray-900 truncate",children:e.name}),(0,s.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-600 flex items-center gap-2 truncate",children:[(0,s.jsx)(I.Mail,{className:"w-3.5 h-3.5 text-gray-400 shrink-0"}),e.email]}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 flex items-center gap-2",children:[(0,s.jsx)(B.Phone,{className:"w-3.5 h-3.5 text-gray-400 shrink-0"}),e.phone_number]})]}),i&&(0,s.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200/50 grid grid-cols-2 gap-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)(U.Hash,{className:"w-3.5 h-3.5 text-gray-400"}),(0,s.jsx)("span",{className:"text-xs text-gray-500 truncate",children:i.employeeId})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)(D.Briefcase,{className:"w-3.5 h-3.5 text-gray-400"}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:i.employmentType})]}),(0,s.jsxs)("div",{className:"col-span-2 flex items-center gap-1.5",children:[(0,s.jsx)(W,{className:"w-3.5 h-3.5 text-gray-400"}),(0,s.jsxs)("span",{className:"text-xs text-gray-500",children:["Joined ",er(i.dateOfJoining)]})]})]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2 shrink-0",children:[(0,s.jsx)("button",{className:"p-2.5 bg-white/80 hover:bg-white rounded-xl transition-all duration-200 shadow-sm hover:shadow-md group/btn",title:`Email ${e.name}`,children:(0,s.jsx)(I.Mail,{className:"w-4 h-4 text-gray-500 group-hover/btn:text-blue-600 transition-colors"})}),(0,s.jsx)("button",{className:"p-2.5 bg-white/80 hover:bg-white rounded-xl transition-all duration-200 shadow-sm hover:shadow-md group/btn",title:`Call ${e.name}`,children:(0,s.jsx)(B.Phone,{className:"w-4 h-4 text-gray-500 group-hover/btn:text-emerald-600 transition-colors"})})]})]})})},en=({member:e,index:a})=>{let t=e?.employee,d=t?.employeeImage&&!b[e._id];return(0,s.jsx)("div",{className:"group p-4 bg-white rounded-2xl border border-gray-100 hover:border-violet-200 hover:shadow-lg transition-all duration-300",style:{animation:`fadeIn 0.3s ease-out ${.05*a}s backwards`},children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"relative shrink-0",children:[d?(0,s.jsx)("img",{src:t.employeeImage,alt:e.name,onError:()=>el(e._id),className:"w-14 h-14 rounded-xl object-cover shadow-md group-hover:scale-105 transition-transform duration-300"}):(0,s.jsx)("div",{className:"w-14 h-14 bg-gradient-to-br from-violet-500 to-purple-600 rounded-xl flex items-center justify-center text-white text-xl font-bold shadow-md group-hover:scale-105 transition-transform duration-300",children:e.name?.charAt(0).toUpperCase()||"?"}),t?.employmentStatus==="Active"&&(0,s.jsx)("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-emerald-500 rounded-full flex items-center justify-center border-2 border-white",children:(0,s.jsx)(p.CheckCircle2,{className:"w-3 h-3 text-white"})})]}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-0.5",children:[(0,s.jsx)("h4",{className:"font-semibold text-gray-900 truncate",children:e.name}),(0,s.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium bg-violet-100 text-violet-700 rounded-full capitalize shrink-0",children:e.role})]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500 truncate flex items-center gap-1.5",children:[(0,s.jsx)(I.Mail,{className:"w-3.5 h-3.5"}),e.email]}),t&&(0,s.jsxs)("div",{className:"flex items-center gap-3 mt-1.5",children:[(0,s.jsxs)("span",{className:"text-xs text-gray-400 flex items-center gap-1",children:[(0,s.jsx)(U.Hash,{className:"w-3 h-3"}),t.employeeId]}),(0,s.jsxs)("span",{className:"text-xs text-gray-400 flex items-center gap-1",children:[(0,s.jsx)(D.Briefcase,{className:"w-3 h-3"}),t.employmentType]})]})]}),(0,s.jsxs)("div",{className:"flex gap-1.5 shrink-0 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[(0,s.jsx)("button",{className:"p-2 bg-gray-100 hover:bg-blue-100 rounded-lg transition-colors",title:`Email ${e.name}`,children:(0,s.jsx)(I.Mail,{className:"w-4 h-4 text-gray-500 hover:text-blue-600"})}),(0,s.jsx)("button",{className:"p-2 bg-gray-100 hover:bg-emerald-100 rounded-lg transition-colors",title:`Call ${e.name}`,children:(0,s.jsx)(B.Phone,{className:"w-4 h-4 text-gray-500 hover:text-emerald-600"})})]})]})})};return(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,s.jsx)("div",{onClick:d,style:{animation:"fadeIn 0.2s ease-out"},className:"jsx-3b7d0dd1644d5f3a absolute inset-0 bg-black/60 backdrop-blur-sm"}),(0,s.jsxs)("div",{style:{animation:"modalSlide 0.3s cubic-bezier(0.16, 1, 0.3, 1)"},className:"jsx-3b7d0dd1644d5f3a relative bg-white rounded-3xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden",children:[(0,s.jsx)("div",{className:"jsx-3b7d0dd1644d5f3a absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-violet-500 via-purple-500 to-indigo-500"}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a relative bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white",children:[(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a absolute inset-0 opacity-30",children:[(0,s.jsx)("div",{className:"jsx-3b7d0dd1644d5f3a absolute top-0 right-0 w-96 h-96 bg-purple-500 rounded-full filter blur-3xl opacity-20 -translate-y-1/2 translate-x-1/2"}),(0,s.jsx)("div",{className:"jsx-3b7d0dd1644d5f3a absolute bottom-0 left-0 w-64 h-64 bg-blue-500 rounded-full filter blur-3xl opacity-20 translate-y-1/2 -translate-x-1/2"})]}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a relative px-8 py-6",children:[(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a flex items-start justify-between gap-6",children:[(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a flex items-center gap-5 min-w-0 flex-1",children:[(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a relative shrink-0",children:[(0,s.jsx)("div",{className:"jsx-3b7d0dd1644d5f3a absolute inset-0 bg-gradient-to-br from-violet-500 to-purple-600 rounded-2xl blur-lg opacity-60"}),(0,s.jsx)("div",{className:"jsx-3b7d0dd1644d5f3a relative p-4 bg-gradient-to-br from-violet-500 to-purple-600 rounded-2xl shadow-xl",children:(0,s.jsx)(f.Warehouse,{className:"w-8 h-8 text-white"})})]}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a min-w-0 flex-1",children:[(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a flex items-center gap-3 mb-2 flex-wrap",children:[(0,s.jsx)("h2",{className:"jsx-3b7d0dd1644d5f3a text-2xl font-bold truncate",children:r.name}),(0,s.jsx)("span",{className:"jsx-3b7d0dd1644d5f3a px-3 py-1 text-xs font-semibold rounded-full bg-emerald-500/20 text-emerald-300 border border-emerald-500/30 shrink-0",children:"Active"})]}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a flex items-center gap-4 text-slate-300 text-sm flex-wrap",children:[(0,s.jsxs)("span",{className:"jsx-3b7d0dd1644d5f3a flex items-center gap-1.5",children:[(0,s.jsx)(o.MapPin,{className:"w-4 h-4 shrink-0"}),(0,s.jsx)("span",{className:"jsx-3b7d0dd1644d5f3a truncate",children:r.location})]}),(0,s.jsxs)("span",{className:"jsx-3b7d0dd1644d5f3a flex items-center gap-1.5 shrink-0",children:[(0,s.jsx)(u.Calendar,{className:"w-4 h-4"}),er(r.created_at)]}),(0,s.jsxs)("span",{className:"jsx-3b7d0dd1644d5f3a flex items-center gap-1.5 shrink-0",children:[(0,s.jsx)(x.Users,{className:"w-4 h-4"}),(r.staff?.length||0)+2," Team Members"]})]})]})]}),(0,s.jsx)("div",{className:"jsx-3b7d0dd1644d5f3a flex items-center gap-2 shrink-0",children:(0,s.jsx)("button",{onClick:d,title:"Close",className:"jsx-3b7d0dd1644d5f3a p-2.5 bg-white/10 hover:bg-white/20 rounded-xl transition-all duration-200 border border-white/10 hover:border-white/20 hover:scale-105",children:(0,s.jsx)(C.X,{className:"w-5 h-5"})})})]}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a mt-6 p-4 bg-white/5 rounded-2xl border border-white/10 backdrop-blur-sm",children:[(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a flex items-center justify-between mb-3",children:[(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a flex items-center gap-3",children:[(0,s.jsx)("div",{className:`jsx-3b7d0dd1644d5f3a p-1.5 rounded-lg ${ea.badgeBg}`,children:(0,s.jsx)(et,{className:`jsx-3b7d0dd1644d5f3a w-4 h-4 ${ea.badgeText}`})}),(0,s.jsxs)("span",{className:"jsx-3b7d0dd1644d5f3a text-sm font-medium text-slate-300",children:["Storage Capacity ",j?"(Live Data)":""]})]}),(0,s.jsx)("span",{className:`jsx-3b7d0dd1644d5f3a text-sm font-bold ${ea.badgeText} px-2 py-0.5 rounded-md ${ea.badgeBg}`,children:ea.label})]}),(0,s.jsx)("div",{className:"jsx-3b7d0dd1644d5f3a relative h-3 bg-slate-700/50 rounded-full overflow-hidden",children:(0,s.jsx)("div",{style:{width:`${Math.max(es,2)}%`},className:`jsx-3b7d0dd1644d5f3a absolute inset-y-0 left-0 bg-gradient-to-r ${ea.gradientFrom} ${ea.gradientTo} rounded-full transition-all duration-1000 ease-out`,children:(0,s.jsx)("div",{className:"jsx-3b7d0dd1644d5f3a absolute inset-0 bg-gradient-to-t from-transparent via-white/20 to-transparent"})})}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a grid grid-cols-3 gap-2 mt-3 text-sm",children:[(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a text-center",children:[(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-xs text-slate-500 mb-0.5",children:"Used"}),(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a font-bold text-white",children:Z.toLocaleString()}),(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-xs text-slate-400",children:"Qtl"})]}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a text-center",children:[(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-xs text-slate-500 mb-0.5",children:"Capacity"}),(0,s.jsxs)("p",{className:"jsx-3b7d0dd1644d5f3a font-bold text-white text-lg",children:[es,"%"]}),(0,s.jsxs)("p",{className:"jsx-3b7d0dd1644d5f3a text-xs text-emerald-400",children:[ee.toLocaleString()," available"]})]}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a text-center",children:[(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-xs text-slate-500 mb-0.5",children:"Total"}),(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a font-bold text-white",children:Y.toLocaleString()}),(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-xs text-slate-400",children:"Qtl"})]})]})]})]}),(0,s.jsx)("div",{className:"jsx-3b7d0dd1644d5f3a relative px-8 flex gap-1",children:ed.map(e=>{let a=e.icon;return(0,s.jsxs)("button",{onClick:()=>h(e.id),className:`jsx-3b7d0dd1644d5f3a relative flex items-center gap-2 px-5 py-3 rounded-t-xl font-medium transition-all duration-300 ${m===e.id?"bg-white text-slate-900 shadow-lg":"text-slate-400 hover:text-white hover:bg-white/10"}`,children:[(0,s.jsx)(a,{className:"jsx-3b7d0dd1644d5f3a w-4 h-4"}),e.label,void 0!==e.count&&(0,s.jsx)("span",{className:`jsx-3b7d0dd1644d5f3a ml-1 px-2 py-0.5 text-xs font-semibold rounded-full ${m===e.id?"bg-violet-100 text-violet-700":"bg-white/20 text-white"}`,children:e.count}),m===e.id&&(0,s.jsx)("div",{className:"jsx-3b7d0dd1644d5f3a absolute bottom-0 left-4 right-4 h-0.5 bg-gradient-to-r from-violet-500 to-purple-500"})]},e.id)})})]}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a p-8 overflow-y-auto max-h-[calc(90vh-340px)] bg-gradient-to-b from-gray-50 to-white custom-scrollbar",children:["overview"===m&&(0,s.jsxs)("div",{style:{animation:"fadeIn 0.3s ease-out"},className:"jsx-3b7d0dd1644d5f3a space-y-6",children:[(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsx)(ei,{icon:n.Package,value:Y,label:"Total Capacity (Quintal)",gradient:"from-blue-500 to-indigo-600",shadowColor:"shadow-blue-500/25",className:"jsx-3b7d0dd1644d5f3a"}),(0,s.jsx)(ei,{icon:A,value:Z,label:`Used Space (${es}%)`,gradient:"from-emerald-500 to-teal-600",shadowColor:"shadow-emerald-500/25",className:"jsx-3b7d0dd1644d5f3a"}),(0,s.jsx)(ei,{icon:_.Layers,value:ee,label:`Available Space (${100-es}%)`,gradient:"from-purple-500 to-pink-600",shadowColor:"shadow-purple-500/25",className:"jsx-3b7d0dd1644d5f3a"})]}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a p-6 bg-white rounded-2xl border border-gray-100 shadow-sm",children:[(0,s.jsxs)("h3",{className:"jsx-3b7d0dd1644d5f3a text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,s.jsx)(t.Building2,{className:"w-5 h-5 text-gray-400"}),"Warehouse Details"]}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a space-y-4",children:[(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a flex items-center justify-between py-3 border-b border-gray-100",children:[(0,s.jsx)("span",{className:"jsx-3b7d0dd1644d5f3a text-sm text-gray-500",children:"Warehouse ID"}),(0,s.jsx)("span",{className:"jsx-3b7d0dd1644d5f3a text-sm font-mono font-medium text-gray-900 bg-gray-100 px-2 py-1 rounded",children:r._id?.slice(-8)||"N/A"})]}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a flex items-center justify-between py-3 border-b border-gray-100",children:[(0,s.jsx)("span",{className:"jsx-3b7d0dd1644d5f3a text-sm text-gray-500",children:"Location"}),(0,s.jsxs)("span",{className:"jsx-3b7d0dd1644d5f3a text-sm font-medium text-gray-900 flex items-center gap-1.5",children:[(0,s.jsx)(o.MapPin,{className:"w-4 h-4 text-gray-400"}),r.location]})]}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a flex items-center justify-between py-3 border-b border-gray-100",children:[(0,s.jsx)("span",{className:"jsx-3b7d0dd1644d5f3a text-sm text-gray-500",children:"Manager"}),(0,s.jsx)("span",{className:"jsx-3b7d0dd1644d5f3a text-sm font-medium text-gray-900",children:r.manager?.name||"Not assigned"})]}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a flex items-center justify-between py-3 border-b border-gray-100",children:[(0,s.jsx)("span",{className:"jsx-3b7d0dd1644d5f3a text-sm text-gray-500",children:"Supervisor"}),(0,s.jsx)("span",{className:"jsx-3b7d0dd1644d5f3a text-sm font-medium text-gray-900",children:r.supervisor?.name||"Not assigned"})]}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a flex items-center justify-between py-3",children:[(0,s.jsx)("span",{className:"jsx-3b7d0dd1644d5f3a text-sm text-gray-500",children:"Staff Count"}),(0,s.jsxs)("span",{className:"jsx-3b7d0dd1644d5f3a text-sm font-medium text-violet-600 bg-violet-50 px-2 py-1 rounded-full",children:[r.staff?.length||0," members"]})]})]})]}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a p-6 bg-white rounded-2xl border border-gray-100 shadow-sm",children:[(0,s.jsxs)("h3",{className:"jsx-3b7d0dd1644d5f3a text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,s.jsx)(E.Clock,{className:"w-5 h-5 text-gray-400"}),"Activity Timeline"]}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a space-y-4",children:[(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a flex items-start gap-4",children:[(0,s.jsx)("div",{className:"jsx-3b7d0dd1644d5f3a w-10 h-10 bg-emerald-100 rounded-xl flex items-center justify-center shrink-0",children:(0,s.jsx)(p.CheckCircle2,{className:"w-5 h-5 text-emerald-600"})}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a",children:[(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-sm font-medium text-gray-900",children:"Warehouse Created"}),(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-xs text-gray-500 mt-0.5",children:(l=r.created_at)?new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"})]})]}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a flex items-start gap-4",children:[(0,s.jsx)("div",{className:"jsx-3b7d0dd1644d5f3a w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center shrink-0",children:(0,s.jsx)(S.User,{className:"w-5 h-5 text-blue-600"})}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a",children:[(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-sm font-medium text-gray-900",children:"Manager Assigned"}),(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-xs text-gray-500 mt-0.5",children:r.manager?.name||"Pending"})]})]}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a flex items-start gap-4",children:[(0,s.jsx)("div",{className:"jsx-3b7d0dd1644d5f3a w-10 h-10 bg-purple-100 rounded-xl flex items-center justify-center shrink-0",children:(0,s.jsx)(x.Users,{className:"w-5 h-5 text-purple-600"})}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a",children:[(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-sm font-medium text-gray-900",children:"Team Setup Complete"}),(0,s.jsxs)("p",{className:"jsx-3b7d0dd1644d5f3a text-xs text-gray-500 mt-0.5",children:[(r.staff?.length||0)+2," team members assigned"]})]})]}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a flex items-start gap-4",children:[(0,s.jsx)("div",{className:"jsx-3b7d0dd1644d5f3a w-10 h-10 bg-amber-100 rounded-xl flex items-center justify-center shrink-0",children:(0,s.jsx)(y.Shield,{className:"w-5 h-5 text-amber-600"})}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a",children:[(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-sm font-medium text-gray-900",children:"Status"}),(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-xs text-emerald-600 mt-0.5 font-medium",children:"All systems operational"})]})]})]})]})]}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a p-6 bg-white rounded-2xl border border-gray-100 shadow-sm",children:[(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a flex items-center justify-between mb-4",children:[(0,s.jsxs)("h3",{className:"jsx-3b7d0dd1644d5f3a text-lg font-bold text-gray-900 flex items-center gap-2",children:[(0,s.jsx)(x.Users,{className:"w-5 h-5 text-gray-400"}),"Team Overview"]}),(0,s.jsxs)("button",{onClick:()=>h("team"),className:"jsx-3b7d0dd1644d5f3a text-sm font-medium text-violet-600 hover:text-violet-700 flex items-center gap-1",children:["View All",(0,s.jsx)(M.ChevronRight,{className:"w-4 h-4"})]})]}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a flex items-center gap-3 flex-wrap",children:[r.manager&&(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a flex items-center gap-2 px-3 py-2 bg-orange-50 rounded-xl border border-orange-100",children:[(0,s.jsx)("div",{className:"jsx-3b7d0dd1644d5f3a w-8 h-8 bg-gradient-to-br from-orange-500 to-rose-600 rounded-lg flex items-center justify-center",children:(0,s.jsx)(S.User,{className:"w-4 h-4 text-white"})}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a",children:[(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-xs text-orange-600 font-medium",children:"Manager"}),(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-sm font-semibold text-gray-900",children:r.manager.name})]})]}),r.supervisor&&(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a flex items-center gap-2 px-3 py-2 bg-cyan-50 rounded-xl border border-cyan-100",children:[(0,s.jsx)("div",{className:"jsx-3b7d0dd1644d5f3a w-8 h-8 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-lg flex items-center justify-center",children:(0,s.jsx)($.UserCheck,{className:"w-4 h-4 text-white"})}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a",children:[(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-xs text-cyan-600 font-medium",children:"Supervisor"}),(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-sm font-semibold text-gray-900",children:r.supervisor.name})]})]}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a flex items-center gap-2 px-3 py-2 bg-violet-50 rounded-xl border border-violet-100",children:[(0,s.jsx)("div",{className:"jsx-3b7d0dd1644d5f3a w-8 h-8 bg-gradient-to-br from-violet-500 to-purple-600 rounded-lg flex items-center justify-center",children:(0,s.jsx)(x.Users,{className:"w-4 h-4 text-white"})}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a",children:[(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-xs text-violet-600 font-medium",children:"Staff"}),(0,s.jsxs)("p",{className:"jsx-3b7d0dd1644d5f3a text-sm font-semibold text-gray-900",children:[r.staff?.length||0," Members"]})]})]})]})]})]}),"team"===m&&(0,s.jsxs)("div",{style:{animation:"fadeIn 0.3s ease-out"},className:"jsx-3b7d0dd1644d5f3a space-y-6",children:[(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a grid grid-cols-1 lg:grid-cols-2 gap-4",children:[r.manager&&(0,s.jsx)(eo,{member:r.manager,role:"Manager",gradientBg:"from-orange-50 to-rose-50",accentGradient:"from-orange-500 to-rose-600",borderColor:"border-orange-100",roleTextColor:"text-orange-600",className:"jsx-3b7d0dd1644d5f3a"}),r.supervisor&&(0,s.jsx)(eo,{member:r.supervisor,role:"Supervisor",gradientBg:"from-cyan-50 to-blue-50",accentGradient:"from-cyan-500 to-blue-600",borderColor:"border-cyan-100",roleTextColor:"text-cyan-600",className:"jsx-3b7d0dd1644d5f3a"})]}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a bg-white rounded-2xl border border-gray-100 shadow-sm p-6",children:[(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a flex items-center justify-between mb-4",children:[(0,s.jsxs)("h3",{className:"jsx-3b7d0dd1644d5f3a text-lg font-bold text-gray-900 flex items-center gap-2",children:[(0,s.jsx)(x.Users,{className:"w-5 h-5 text-gray-400"}),"Staff Members"]}),(0,s.jsxs)("span",{className:"jsx-3b7d0dd1644d5f3a px-3 py-1 text-sm font-medium text-violet-600 bg-violet-50 rounded-full",children:[r.staff?.length||0," members"]})]}),r.staff&&r.staff.length>0?(0,s.jsx)("div",{className:"jsx-3b7d0dd1644d5f3a grid grid-cols-1 lg:grid-cols-2 gap-4",children:r.staff.map((e,a)=>(0,s.jsx)(en,{member:e,index:a},e._id||a))}):(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a p-12 text-center bg-gray-50 rounded-xl",children:[(0,s.jsx)("div",{className:"jsx-3b7d0dd1644d5f3a w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(x.Users,{className:"w-8 h-8 text-gray-300"})}),(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-gray-500 font-medium",children:"No staff members assigned"}),(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-sm text-gray-400 mt-1",children:"Add staff members to this warehouse"})]})]})]}),"inventory"===m&&(0,s.jsx)("div",{style:{animation:"fadeIn 0.3s ease-out"},className:"jsx-3b7d0dd1644d5f3a space-y-6",children:w?(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a text-center py-16",children:[(0,s.jsx)(F.Loader2,{className:"w-12 h-12 text-violet-600 animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-gray-600",children:"Loading inventory data..."})]}):X?(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a text-center py-16",children:[(0,s.jsx)("div",{className:"jsx-3b7d0dd1644d5f3a w-24 h-24 bg-red-50 rounded-3xl flex items-center justify-center mx-auto mb-6",children:(0,s.jsx)(V.XCircle,{className:"w-12 h-12 text-red-400"})}),(0,s.jsx)("h3",{className:"jsx-3b7d0dd1644d5f3a text-xl font-bold text-gray-900 mb-2",children:"Failed to Load Inventory"}),(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-gray-500 mb-4",children:X}),(0,s.jsx)("button",{onClick:K,className:"jsx-3b7d0dd1644d5f3a px-6 py-3 bg-violet-600 text-white rounded-xl font-semibold hover:bg-violet-700 transition-all",children:"Retry"})]}):j&&j.categories&&j.categories.length>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a p-5 bg-gradient-to-br from-emerald-50 to-green-50 rounded-2xl border border-emerald-100",children:[(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a flex items-center justify-between mb-2",children:[(0,s.jsx)(n.Package,{className:"w-8 h-8 text-emerald-600"}),(0,s.jsx)(R.ArrowUpRight,{className:"w-5 h-5 text-emerald-500"})]}),(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-2xl font-bold text-emerald-900",children:j.categories.reduce((e,s)=>e+(s.deposit?.completed?.qty||0),0)}),(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-sm text-emerald-700 mt-1",children:"Total Deposits (Qtl)"})]}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a p-5 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl border border-blue-100",children:[(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a flex items-center justify-between mb-2",children:[(0,s.jsx)(Q.TrendingDown,{className:"w-8 h-8 text-blue-600"}),(0,s.jsx)(O.ArrowDownRight,{className:"w-5 h-5 text-blue-500"})]}),(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-2xl font-bold text-blue-900",children:j.categories.reduce((e,s)=>e+(s.withdraw?.completed||0),0)}),(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-sm text-blue-700 mt-1",children:"Total Withdrawals (Qtl)"})]}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a p-5 bg-gradient-to-br from-purple-50 to-violet-50 rounded-2xl border border-purple-100",children:[(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a flex items-center justify-between mb-2",children:[(0,s.jsx)(P.Activity,{className:"w-8 h-8 text-purple-600"}),(0,s.jsx)(p.CheckCircle2,{className:"w-5 h-5 text-purple-500"})]}),(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-2xl font-bold text-purple-900",children:j.categories.reduce((e,s)=>e+(s.sell?.completed?.qty||0),0)}),(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-sm text-purple-700 mt-1",children:"Total Sales (Qtl)"})]}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a p-5 bg-gradient-to-br from-amber-50 to-orange-50 rounded-2xl border border-amber-100",children:[(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a flex items-center justify-between mb-2",children:[(0,s.jsx)(G.DollarSign,{className:"w-8 h-8 text-amber-600"}),(0,s.jsx)(L.TrendingUp,{className:"w-5 h-5 text-amber-500"})]}),(0,s.jsxs)("p",{className:"jsx-3b7d0dd1644d5f3a text-2xl font-bold text-amber-900",children:["₹",j.categories.reduce((e,s)=>e+(s.deposit?.completed?.amount||0),0).toLocaleString()]}),(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-sm text-amber-700 mt-1",children:"Total Value"})]})]}),(0,s.jsx)("div",{className:"jsx-3b7d0dd1644d5f3a space-y-6",children:(i=j.categories.reduce((e,s)=>{let a=s.grain_type;return e[a]||(e[a]=[]),e[a].push(s),e},{}),c={Wheat:{bg:"from-amber-50 to-orange-50",border:"border-amber-200",text:"text-amber-600",gradient:"from-amber-500 to-orange-600"},Rice:{bg:"from-emerald-50 to-green-50",border:"border-emerald-200",text:"text-emerald-600",gradient:"from-emerald-500 to-green-600"},Corn:{bg:"from-yellow-50 to-amber-50",border:"border-yellow-200",text:"text-yellow-600",gradient:"from-yellow-500 to-amber-600"},default:{bg:"from-violet-50 to-purple-50",border:"border-violet-200",text:"text-violet-600",gradient:"from-violet-500 to-purple-600"}},Object.entries(i).map(([e,a])=>{let t=c[e]||c.default,d=a.sort((e,s)=>{let a={A:1,B:2,C:3};return(a[e.quality]||999)-(a[s.quality]||999)}),r=a.reduce((e,s)=>e+(s.deposit?.completed?.qty||0),0),l=a.reduce((e,s)=>e+(s.withdraw?.completed||0),0),i=a.reduce((e,s)=>e+(s.sell?.completed?.qty||0),0);return(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[(0,s.jsxs)("div",{className:`jsx-3b7d0dd1644d5f3a p-5 bg-gradient-to-r ${t.bg} border-b ${t.border}`,children:[(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a flex items-center gap-3",children:[(0,s.jsx)("div",{className:`jsx-3b7d0dd1644d5f3a w-12 h-12 bg-gradient-to-br ${t.gradient} rounded-xl flex items-center justify-center shadow-lg`,children:(0,s.jsx)(z.Wheat,{className:"w-6 h-6 text-white"})}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a",children:[(0,s.jsx)("h3",{className:`jsx-3b7d0dd1644d5f3a text-xl font-bold ${t.text}`,children:e}),(0,s.jsxs)("p",{className:"jsx-3b7d0dd1644d5f3a text-sm text-gray-600",children:[a.length," quality variant",a.length>1?"s":""]})]})]}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a text-right",children:[(0,s.jsx)("p",{className:`jsx-3b7d0dd1644d5f3a text-3xl font-bold ${t.text}`,children:r-l-i}),(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-xs text-gray-500",children:"Total Available Qtl"})]})]}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a grid grid-cols-3 gap-3 mt-4",children:[(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a bg-white/60 backdrop-blur-sm rounded-lg p-3 text-center",children:[(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-sm text-gray-600 mb-1",children:"Deposits"}),(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-lg font-bold text-gray-900",children:r})]}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a bg-white/60 backdrop-blur-sm rounded-lg p-3 text-center",children:[(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-sm text-gray-600 mb-1",children:"Withdrawals"}),(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-lg font-bold text-gray-900",children:l})]}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a bg-white/60 backdrop-blur-sm rounded-lg p-3 text-center",children:[(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-sm text-gray-600 mb-1",children:"Sales"}),(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-lg font-bold text-gray-900",children:i})]})]})]}),(0,s.jsx)("div",{className:"jsx-3b7d0dd1644d5f3a p-6",children:(0,s.jsx)("div",{className:"jsx-3b7d0dd1644d5f3a grid grid-cols-1 lg:grid-cols-2 gap-4",children:d.map((e,a)=>{let t=(e.deposit?.completed?.qty||0)-(e.withdraw?.completed||0)-(e.sell?.completed?.qty||0);return(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a group p-5 bg-gradient-to-br from-slate-50 to-gray-50 rounded-2xl border border-gray-100 hover:border-violet-200 hover:shadow-lg transition-all duration-300",children:[(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a flex items-start justify-between mb-4",children:[(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a flex items-center gap-3",children:[(0,s.jsx)("div",{className:"jsx-3b7d0dd1644d5f3a w-10 h-10 bg-gradient-to-br from-violet-500 to-purple-600 rounded-lg flex items-center justify-center",children:(0,s.jsx)("span",{className:"jsx-3b7d0dd1644d5f3a text-white font-bold text-sm",children:e.quality})}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a",children:[(0,s.jsxs)("h4",{className:"jsx-3b7d0dd1644d5f3a font-bold text-gray-900",children:["Quality ",e.quality]}),(0,s.jsx)("span",{className:"jsx-3b7d0dd1644d5f3a text-xs text-gray-500",children:e.grain_type})]})]}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a text-right",children:[(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-2xl font-bold text-violet-600",children:t}),(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-xs text-gray-500",children:"Available Qtl"})]})]}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a grid grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a bg-white rounded-xl p-3 border border-gray-100",children:[(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a flex items-center justify-between mb-1",children:[(0,s.jsx)("span",{className:"jsx-3b7d0dd1644d5f3a text-xs text-gray-500",children:"Deposits"}),(0,s.jsx)(n.Package,{className:"w-3.5 h-3.5 text-emerald-500"})]}),(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-lg font-bold text-gray-900",children:e.deposit?.completed?.qty||0}),(0,s.jsxs)("p",{className:"jsx-3b7d0dd1644d5f3a text-xs text-gray-500",children:["₹",(e.deposit?.completed?.amount||0).toLocaleString()]})]}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a bg-white rounded-xl p-3 border border-gray-100",children:[(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a flex items-center justify-between mb-1",children:[(0,s.jsx)("span",{className:"jsx-3b7d0dd1644d5f3a text-xs text-gray-500",children:"Withdrawals"}),(0,s.jsx)(Q.TrendingDown,{className:"w-3.5 h-3.5 text-blue-500"})]}),(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-lg font-bold text-gray-900",children:e.withdraw?.completed||0}),(0,s.jsxs)("p",{className:"jsx-3b7d0dd1644d5f3a text-xs text-gray-500",children:[e.withdraw?.pending||0," pending"]})]}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a bg-white rounded-xl p-3 border border-gray-100",children:[(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a flex items-center justify-between mb-1",children:[(0,s.jsx)("span",{className:"jsx-3b7d0dd1644d5f3a text-xs text-gray-500",children:"Sales"}),(0,s.jsx)(P.Activity,{className:"w-3.5 h-3.5 text-purple-500"})]}),(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-lg font-bold text-gray-900",children:e.sell?.completed?.qty||0}),(0,s.jsxs)("p",{className:"jsx-3b7d0dd1644d5f3a text-xs text-gray-500",children:["₹",(e.sell?.completed?.amount||0).toLocaleString()]})]}),(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a bg-white rounded-xl p-3 border border-gray-100",children:[(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a flex items-center justify-between mb-1",children:[(0,s.jsx)("span",{className:"jsx-3b7d0dd1644d5f3a text-xs text-gray-500",children:"Loans"}),(0,s.jsx)(G.DollarSign,{className:"w-3.5 h-3.5 text-amber-500"})]}),(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-lg font-bold text-gray-900",children:e.loan?.completed||0}),(0,s.jsxs)("p",{className:"jsx-3b7d0dd1644d5f3a text-xs text-gray-500",children:[e.loan?.pending||0," pending"]})]})]}),e.deposit?.rejected?.qty>0&&(0,s.jsx)("div",{className:"jsx-3b7d0dd1644d5f3a mt-3 pt-3 border-t border-gray-200",children:(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a flex items-center gap-2 text-xs text-red-600",children:[(0,s.jsx)(V.XCircle,{className:"w-3.5 h-3.5"}),(0,s.jsxs)("span",{className:"jsx-3b7d0dd1644d5f3a",children:[e.deposit?.rejected?.qty," deposits rejected (₹",e.deposit?.rejected?.amount?.toLocaleString(),")"]})]})}),(e.deposit?.pending?.qty>0||e.sell?.pending?.qty>0||e.withdraw?.pending>0)&&(0,s.jsx)("div",{className:"jsx-3b7d0dd1644d5f3a mt-3 pt-3 border-t border-gray-200",children:(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a flex items-center gap-2 text-xs text-amber-600",children:[(0,s.jsx)(E.Clock,{className:"w-3.5 h-3.5"}),(0,s.jsxs)("span",{className:"jsx-3b7d0dd1644d5f3a",children:[e.deposit?.pending?.qty||0," deposits, ",e.sell?.pending?.qty||0," sales, ",e.withdraw?.pending||0," withdrawals pending"]})]})})]},e.category_id||a)})})})]},e)}))})]}):(0,s.jsxs)("div",{className:"jsx-3b7d0dd1644d5f3a text-center py-16",children:[(0,s.jsx)("div",{className:"jsx-3b7d0dd1644d5f3a w-24 h-24 bg-gradient-to-br from-gray-100 to-gray-50 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-inner",children:(0,s.jsx)(n.Package,{className:"w-12 h-12 text-gray-400"})}),(0,s.jsx)("h3",{className:"jsx-3b7d0dd1644d5f3a text-xl font-bold text-gray-900 mb-2",children:"No Inventory Data"}),(0,s.jsx)("p",{className:"jsx-3b7d0dd1644d5f3a text-gray-500 max-w-md mx-auto leading-relaxed",children:"No grain inventory found for this warehouse. Start by adding grain deposits."})]})})]})]}),(0,s.jsx)(k.default,{id:"3b7d0dd1644d5f3a",children:"@keyframes modalSlide{0%{opacity:0;transform:translateY(20px)scale(.98)}to{opacity:1;transform:translateY(0)scale(1)}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.custom-scrollbar.jsx-3b7d0dd1644d5f3a::-webkit-scrollbar{width:8px}.custom-scrollbar.jsx-3b7d0dd1644d5f3a::-webkit-scrollbar-track{background:0 0}.custom-scrollbar.jsx-3b7d0dd1644d5f3a::-webkit-scrollbar-thumb{background:linear-gradient(#c7d2fe,#a5b4fc) padding-box padding-box;border:2px solid #0000;border-radius:10px}.custom-scrollbar.jsx-3b7d0dd1644d5f3a.jsx-3b7d0dd1644d5f3a::-webkit-scrollbar-thumb:hover{background:linear-gradient(#a5b4fc,#818cf8) padding-box padding-box}"})]})};e.s(["default",0,()=>{let[e,c]=(0,a.useState)([]),[k,C]=(0,a.useState)([]),[S,$]=(0,a.useState)([]),[T,L]=(0,a.useState)([]),[M,A]=(0,a.useState)(!0),[_,q]=(0,a.useState)(""),[E,I]=(0,a.useState)("grid"),[B,P]=(0,a.useState)(!1),[D,U]=(0,a.useState)(!1),[W,z]=(0,a.useState)(null),[F,Q]=(0,a.useState)(null);(0,a.useEffect)(()=>{R(),O()},[]),(0,a.useEffect)(()=>{let e=()=>Q(null);return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]);let R=async()=>{try{A(!0);let e=await fetch(`${N.default}/warehouse/allwarehouse`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}}),s=await e.json();e.ok&&s.success?c(s.data||[]):v.default.error(s.message||"Failed to fetch warehouses")}catch(e){console.error("Error fetching warehouses:",e),v.default.error("Failed to fetch warehouses")}finally{A(!1)}},O=async()=>{try{let[e,s,a]=await Promise.all([fetch(`${N.default}/warehouse/allmanager`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}}),fetch(`${N.default}/warehouse/allsupervisor`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}}),fetch(`${N.default}/warehouse/allstaff`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}})]),[t,d,r]=await Promise.all([e.json(),s.json(),a.json()]);C(t.data||[]),$(d.data||[]),L(r.data||[])}catch(e){console.error("Error fetching users:",e)}},V=e=>{z(e),U(!0),Q(null)},G=async e=>{if(confirm("Are you sure you want to delete this warehouse?")){try{(await fetch(`${N.default}/warehouse/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok?(v.default.success("Warehouse deleted successfully"),R()):v.default.error("Failed to delete warehouse")}catch(e){console.error("Error deleting warehouse:",e),v.default.error("Something went wrong")}Q(null)}},X=(e,s)=>{let a=s>0?e/s*100:0;return a>=90?{color:"rose",bg:"from-rose-500 to-pink-600",light:"bg-rose-100",text:"text-rose-600"}:a>=70?{color:"amber",bg:"from-amber-500 to-orange-600",light:"bg-amber-100",text:"text-amber-600"}:a>=40?{color:"blue",bg:"from-blue-500 to-indigo-600",light:"bg-blue-100",text:"text-blue-600"}:{color:"emerald",bg:"from-emerald-500 to-teal-600",light:"bg-emerald-100",text:"text-emerald-600"}},J=e=>{let s=[];return e.manager&&s.push({...e.manager,roleLabel:"Manager",roleColor:"from-violet-500 to-purple-600"}),e.supervisor&&s.push({...e.supervisor,roleLabel:"Supervisor",roleColor:"from-blue-500 to-indigo-600"}),e.staff?.length&&e.staff.forEach(e=>{s.push({...e,roleLabel:"Staff",roleColor:"from-emerald-500 to-teal-600"})}),s},K=e.filter(e=>e.name?.toLowerCase().includes(_.toLowerCase())||e.location?.toLowerCase().includes(_.toLowerCase())||e.manager?.name?.toLowerCase().includes(_.toLowerCase())),Y={total:e.length,active:e.length,totalCapacity:e.reduce((e,s)=>e+(s.capacity_quintal||0),0),usedCapacity:e.reduce((e,s)=>e+(s.used_capacity_quintal||0),0),totalStaff:e.reduce((e,s)=>{let a;return e+(a=0,s.manager&&a++,s.supervisor&&a++,s.staff?.length&&(a+=s.staff.length),a)},0)},Z=e=>new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"});return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-indigo-50/50",children:[(0,s.jsx)("div",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-xl border-b border-gray-100 shadow-sm",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"p-3 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-2xl shadow-lg shadow-blue-500/20",children:(0,s.jsx)(t.Building2,{className:"w-8 h-8 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Warehouse Management"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Manage and monitor all warehouses"})]})]}),(0,s.jsxs)("button",{onClick:()=>P(!0),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl font-semibold hover:shadow-lg hover:shadow-blue-500/30 transition-all duration-300 hover:scale-105",children:[(0,s.jsx)(d.Plus,{className:"w-5 h-5"}),"Add Warehouse"]})]})})}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,s.jsxs)("div",{className:"p-6 bg-white rounded-2xl shadow-sm border border-gray-100 hover:shadow-lg transition-all duration-300",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("div",{className:"p-3 bg-blue-100 rounded-xl",children:(0,s.jsx)(f.Warehouse,{className:"w-6 h-6 text-blue-600"})}),(0,s.jsx)("span",{className:"text-xs font-semibold text-blue-600 bg-blue-50 px-2 py-1 rounded-lg",children:"Total"})]}),(0,s.jsx)("h3",{className:"text-3xl font-bold text-gray-900",children:Y.total}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Total Warehouses"})]}),(0,s.jsxs)("div",{className:"p-6 bg-white rounded-2xl shadow-sm border border-gray-100 hover:shadow-lg transition-all duration-300",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("div",{className:"p-3 bg-emerald-100 rounded-xl",children:(0,s.jsx)(p.CheckCircle2,{className:"w-6 h-6 text-emerald-600"})}),(0,s.jsx)("span",{className:"text-xs font-semibold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-lg",children:"Active"})]}),(0,s.jsx)("h3",{className:"text-3xl font-bold text-gray-900",children:Y.active}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Active Warehouses"})]}),(0,s.jsxs)("div",{className:"p-6 bg-white rounded-2xl shadow-sm border border-gray-100 hover:shadow-lg transition-all duration-300",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("div",{className:"p-3 bg-purple-100 rounded-xl",children:(0,s.jsx)(n.Package,{className:"w-6 h-6 text-purple-600"})}),(0,s.jsx)("span",{className:"text-xs font-semibold text-purple-600 bg-purple-50 px-2 py-1 rounded-lg",children:"Capacity"})]}),(0,s.jsx)("h3",{className:"text-3xl font-bold text-gray-900",children:Y.totalCapacity.toLocaleString()}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Total Capacity (Q)"})]}),(0,s.jsxs)("div",{className:"p-6 bg-white rounded-2xl shadow-sm border border-gray-100 hover:shadow-lg transition-all duration-300",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("div",{className:"p-3 bg-amber-100 rounded-xl",children:(0,s.jsx)(x.Users,{className:"w-6 h-6 text-amber-600"})}),(0,s.jsx)("span",{className:"text-xs font-semibold text-amber-600 bg-amber-50 px-2 py-1 rounded-lg",children:"Team"})]}),(0,s.jsx)("h3",{className:"text-3xl font-bold text-gray-900",children:Y.totalStaff}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Total Team Members"})]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,s.jsx)(r.Search,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,s.jsx)("input",{type:"text",placeholder:"Search by name, location, or manager...",value:_,onChange:e=>q(e.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border border-gray-200 rounded-xl focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-300"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("button",{onClick:R,className:"p-3 bg-white border border-gray-200 rounded-xl hover:bg-gray-50 transition-all duration-300",title:"Refresh",children:(0,s.jsx)(j.RefreshCw,{className:`w-5 h-5 text-gray-600 ${M?"animate-spin":""}`})}),(0,s.jsxs)("div",{className:"flex bg-white border border-gray-200 rounded-xl p-1",children:[(0,s.jsx)("button",{onClick:()=>I("grid"),className:`p-2 rounded-lg transition-all duration-300 ${"grid"===E?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:(0,s.jsx)(l.default,{className:"w-5 h-5"})}),(0,s.jsx)("button",{onClick:()=>I("list"),className:`p-2 rounded-lg transition-all duration-300 ${"list"===E?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:(0,s.jsx)(i.List,{className:"w-5 h-5"})})]})]})]}),M?(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,a)=>(0,s.jsxs)("div",{className:"p-6 bg-white rounded-2xl border border-gray-100 animate-pulse",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,s.jsx)("div",{className:"w-14 h-14 bg-gray-200 rounded-xl"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"h-5 bg-gray-200 rounded w-3/4 mb-2"}),(0,s.jsx)("div",{className:"h-4 bg-gray-100 rounded w-1/2"})]})]}),(0,s.jsx)("div",{className:"h-3 bg-gray-200 rounded-full mb-3"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("div",{className:"h-4 bg-gray-100 rounded w-1/3"}),(0,s.jsx)("div",{className:"h-4 bg-gray-100 rounded w-1/3"})]})]},a))}):0===K.length?(0,s.jsxs)("div",{className:"text-center py-16 bg-white rounded-2xl border border-gray-100",children:[(0,s.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-3xl flex items-center justify-center mx-auto mb-6",children:(0,s.jsx)(f.Warehouse,{className:"w-12 h-12 text-gray-400"})}),(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No warehouses found"}),(0,s.jsx)("p",{className:"text-gray-500 mb-6",children:_?"Try adjusting your search query":"Get started by creating your first warehouse"}),!_&&(0,s.jsx)("button",{onClick:()=>P(!0),className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all duration-300",children:"Create Warehouse"})]}):"grid"===E?(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:K.map((e,a)=>{let t=e.used_capacity_quintal||0,d=e.capacity_quintal||0,r=d>0?Math.round(t/d*100):0,l=X(t,d),i=J(e);return(0,s.jsxs)("div",{className:"group p-6 bg-white rounded-2xl border border-gray-100 hover:border-blue-200 hover:shadow-xl transition-all duration-500 cursor-pointer",style:{animationDelay:`${50*a}ms`},onClick:()=>V(e),children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:`p-3 bg-gradient-to-br ${l.bg} rounded-xl shadow-lg group-hover:scale-110 transition-transform duration-300`,children:(0,s.jsx)(f.Warehouse,{className:"w-6 h-6 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-bold text-gray-900 text-lg group-hover:text-blue-600 transition-colors",children:e.name}),(0,s.jsxs)("p",{className:"text-sm text-gray-500 flex items-center gap-1",children:[(0,s.jsx)(o.MapPin,{className:"w-3.5 h-3.5"}),e.location]})]})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("button",{onClick:s=>{s.stopPropagation(),Q(F===e._id?null:e._id)},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors opacity-0 group-hover:opacity-100",children:(0,s.jsx)(m,{className:"w-5 h-5 text-gray-400"})}),F===e._id&&(0,s.jsxs)("div",{className:"absolute right-0 top-full mt-1 w-40 bg-white rounded-xl shadow-xl border border-gray-100 py-2 z-10",children:[(0,s.jsxs)("button",{onClick:s=>{s.stopPropagation(),V(e)},className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:[(0,s.jsx)(h.Eye,{className:"w-4 h-4"})," View Details"]}),(0,s.jsxs)("button",{onClick:e=>{e.stopPropagation(),Q(null)},className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:[(0,s.jsx)(b.Edit3,{className:"w-4 h-4"})," Edit"]}),(0,s.jsxs)("button",{onClick:s=>{s.stopPropagation(),G(e._id)},className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-rose-600 hover:bg-rose-50",children:[(0,s.jsx)(g.Trash2,{className:"w-4 h-4"})," Delete"]})]})]})]}),e.manager&&(0,s.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gradient-to-r from-violet-50 to-purple-50 rounded-xl mb-4",children:[(0,s.jsx)("img",{src:e.manager.employee?.employeeImage,alt:e.manager.name,className:"w-10 h-10 rounded-full object-cover border-2 border-violet-200"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-900 truncate",children:e.manager.name}),(0,s.jsxs)("p",{className:"text-xs text-violet-600 flex items-center gap-1",children:[(0,s.jsx)(y.Shield,{className:"w-3 h-3"}),"Manager"]})]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm mb-2",children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Storage Capacity"}),(0,s.jsxs)("span",{className:`font-semibold ${l.text}`,children:[r,"%"]})]}),(0,s.jsx)("div",{className:"h-2.5 bg-gray-100 rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:`h-full bg-gradient-to-r ${l.bg} rounded-full transition-all duration-1000`,style:{width:`${r}%`}})}),(0,s.jsxs)("p",{className:"text-xs text-gray-400 mt-1.5",children:[t.toLocaleString()," / ",d.toLocaleString()," quintal"]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[(0,s.jsxs)("div",{className:"flex -space-x-2",children:[i.slice(0,4).map((e,a)=>(0,s.jsx)("img",{src:e.employee?.employeeImage,alt:e.name,title:`${e.name} (${e.roleLabel})`,className:"w-8 h-8 rounded-full border-2 border-white object-cover"},e._id||a)),i.length>4&&(0,s.jsxs)("div",{className:"w-8 h-8 rounded-full bg-gray-100 border-2 border-white flex items-center justify-center text-gray-600 text-xs font-medium",children:["+",i.length-4]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1.5 text-sm text-gray-500",children:[(0,s.jsx)(x.Users,{className:"w-4 h-4"}),(0,s.jsxs)("span",{children:[i.length," Members"]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-gray-400 mt-3",children:[(0,s.jsx)(u.Calendar,{className:"w-3.5 h-3.5"}),(0,s.jsxs)("span",{children:["Created ",Z(e.created_at)]})]})]},e._id)})}):(0,s.jsx)("div",{className:"bg-white rounded-2xl border border-gray-100 overflow-hidden",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Warehouse"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Manager"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Capacity"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Team"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Created"}),(0,s.jsx)("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-100",children:K.map(e=>{let a=e.used_capacity_quintal||0,t=e.capacity_quintal||0,d=t>0?Math.round(a/t*100):0,r=X(a,t),l=J(e);return(0,s.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>V(e),children:[(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:`p-2 bg-gradient-to-br ${r.bg} rounded-lg`,children:(0,s.jsx)(f.Warehouse,{className:"w-5 h-5 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-semibold text-gray-900 block",children:e.name}),(0,s.jsxs)("span",{className:"text-sm text-gray-500 flex items-center gap-1",children:[(0,s.jsx)(o.MapPin,{className:"w-3.5 h-3.5"}),e.location]})]})]})}),(0,s.jsx)("td",{className:"px-6 py-4",children:e.manager?(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("img",{src:e.manager.employee?.employeeImage,alt:e.manager.name,className:"w-9 h-9 rounded-full object-cover border-2 border-violet-200"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.manager.name}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:e.manager.email})]})]}):(0,s.jsx)("span",{className:"text-gray-400 text-sm",children:"Not assigned"})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"w-36",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm mb-1",children:[(0,s.jsxs)("span",{className:"text-gray-500",children:[a.toLocaleString(),"/",t.toLocaleString()]}),(0,s.jsxs)("span",{className:`font-medium ${r.text}`,children:[d,"%"]})]}),(0,s.jsx)("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:`h-full bg-gradient-to-r ${r.bg} rounded-full`,style:{width:`${d}%`}})})]})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("div",{className:"flex -space-x-2",children:[l.slice(0,3).map((e,a)=>(0,s.jsx)("img",{src:e.employee?.employeeImage,alt:e.name,title:`${e.name} (${e.roleLabel})`,className:"w-8 h-8 rounded-full border-2 border-white object-cover"},e._id||a)),l.length>3&&(0,s.jsxs)("div",{className:"w-8 h-8 rounded-full bg-gray-100 border-2 border-white flex items-center justify-center text-gray-600 text-xs font-medium",children:["+",l.length-3]})]}),(0,s.jsxs)("span",{className:"text-sm text-gray-500",children:[l.length," members"]})]})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("span",{className:"text-sm text-gray-600",children:Z(e.created_at)})}),(0,s.jsx)("td",{className:"px-6 py-4 text-right",children:(0,s.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,s.jsx)("button",{onClick:s=>{s.stopPropagation(),V(e)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:(0,s.jsx)(h.Eye,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:e=>{e.stopPropagation()},className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",title:"Edit",children:(0,s.jsx)(b.Edit3,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:s=>{s.stopPropagation(),G(e._id)},className:"p-2 text-rose-600 hover:bg-rose-50 rounded-lg transition-colors",title:"Delete",children:(0,s.jsx)(g.Trash2,{className:"w-4 h-4"})})]})})]},e._id)})})]})}),!M&&K.length>0&&(0,s.jsxs)("div",{className:"mt-6 text-center text-sm text-gray-500",children:["Showing ",K.length," of ",e.length," warehouses"]})]}),(0,s.jsx)(w.default,{isOpen:B,onClose:()=>P(!1),onSubmit:()=>{R(),P(!1)},managers:k,supervisors:S,staff:T}),(0,s.jsx)(H,{isOpen:D,onClose:()=>{U(!1),z(null)},warehouse:W,onEdit:e=>{console.log("Edit warehouse:",e)},onDelete:G})]})}],87087)}]);