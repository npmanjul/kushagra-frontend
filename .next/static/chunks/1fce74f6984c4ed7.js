(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},69638,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},52754,e=>{"use strict";let t=(0,e.i(75254).default)("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);e.s(["Wallet",()=>t],52754)},73884,e=>{"use strict";let t=(0,e.i(75254).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>t],73884)},86536,e=>{"use strict";let t=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],86536)},3116,e=>{"use strict";let t=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],3116)},16715,e=>{"use strict";let t=(0,e.i(75254).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>t],16715)},61911,e=>{"use strict";let t=(0,e.i(75254).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);e.s(["Users",()=>t],61911)},61659,e=>{"use strict";let t=(0,e.i(75254).default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);e.s(["CreditCard",()=>t],61659)},23609,e=>{"use strict";let t=(0,e.i(75254).default)("landmark",[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]]);e.s(["Landmark",()=>t],23609)},78894,e=>{"use strict";let t=(0,e.i(75254).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>t],78894)},95468,e=>{"use strict";var t=e.i(23287);e.s(["CheckCircle2",()=>t.default])},83086,e=>{"use strict";let t=(0,e.i(75254).default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);e.s(["Sparkles",()=>t],83086)},98919,e=>{"use strict";let t=(0,e.i(75254).default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);e.s(["Shield",()=>t],98919)},46897,e=>{"use strict";let t=(0,e.i(75254).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>t],46897)},75254,e=>{"use strict";var t=e.i(71645);let s=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},a=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim();var r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,t.forwardRef)(({color:e="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:c="",children:n,iconNode:d,...o},h)=>(0,t.createElement)("svg",{ref:h,...r,width:s,height:s,stroke:e,strokeWidth:i?24*Number(l)/Number(s):l,className:a("lucide",c),...!n&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(o)&&{"aria-hidden":"true"},...o},[...d.map(([e,s])=>(0,t.createElement)(e,s)),...Array.isArray(n)?n:[n]])),i=(e,r)=>{let i=(0,t.forwardRef)(({className:i,...c},n)=>(0,t.createElement)(l,{ref:n,iconNode:r,className:a(`lucide-${s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,i),...c}));return i.displayName=s(e),i};e.s(["default",()=>i],75254)},31795,e=>{"use strict";e.s(["default",0,"http://localhost:8000/api/v1"])},84614,e=>{"use strict";let t=(0,e.i(75254).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],84614)},37727,e=>{"use strict";let t=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],37727)},23287,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["default",()=>t])},83627,e=>{"use strict";let t=(0,e.i(75254).default)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);e.s(["Edit3",()=>t],83627)},94351,e=>{"use strict";let t=(0,e.i(75254).default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]);e.s(["Home",()=>t],94351)},27516,e=>{"use strict";let t=(0,e.i(75254).default)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);e.s(["History",()=>t],27516)},11847,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(18566),r=e.i(92161),l=e.i(37727),i=e.i(45423),c=e.i(94351),n=e.i(25652),d=e.i(61659),o=e.i(84614),h=e.i(39616),x=e.i(92270),u=e.i(27516),m=e.i(22016),f=e.i(57688),p=e.i(72288),y=e.i(88614),g=e.i(82987),b=e.i(72675),v=e.i(41444),j=e.i(62700);let k=[{id:"dashboard",label:"Dashboard",icon:c.Home,href:"/dashboard"},{id:"sell",label:"Sell Grain",icon:n.TrendingUp,href:"/dashboard/sell"},{id:"loan",label:"Loan",icon:d.CreditCard,href:"/dashboard/loan"},{id:"transactions",label:"Transactions",icon:u.History,href:"/dashboard/transactions"},{id:"notifications",label:"Notifications",icon:i.Bell,href:"/dashboard/notifications"},{id:"profile",label:"Profile",icon:o.User,href:"/dashboard/profile"}];function N({children:e}){let c,[n,d]=(0,s.useState)(!1),[u,N]=(0,s.useState)(!1),[w,C]=(0,s.useState)(!1),[M,S]=(0,s.useState)(!1),[z,L]=(0,s.useState)(!1),[A,E]=(0,s.useState)(!0),[U,H]=(0,s.useState)([]),O=(0,s.useRef)(null),P=(0,s.useRef)(null),q=(0,a.usePathname)(),{checkToken:B,getprofile:R}=(0,p.default)(),T=(0,a.useRouter)(),[V,$]=(0,s.useState)(!0),[W,_]=(0,s.useState)(!1),D=e=>{O.current&&!O.current.contains(e.target)&&N(!1)};return((0,s.useEffect)(()=>(u?document.addEventListener("mousedown",D):document.removeEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}),[u]),(0,s.useEffect)(()=>{let e=e=>{P.current&&!P.current.contains(e.target)&&C(!1)};return w?document.addEventListener("mousedown",e):document.removeEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[w]),(0,s.useEffect)(()=>{S(!0);let e=async()=>{try{let e=await R();console.log("Profile details:",e),H(e.profile),"rejected"===e.profile.farmerVerification.overallStatus?_(!0):"pending"===e.profile.farmerVerification.overallStatus?L(!0):(L(!1),_(!1)),$(!1)}catch(e){console.error("Error fetching profile:",e)}};(async()=>{try{let e=await B();e?.success||(T.push("/login"),(0,y.logout)()),e?.role==="farmer"&&T.push("/dashboard"),e?.role==="manager"&&T.push("/manager"),e?.role==="admin"&&T.push("/admin")}catch(e){console.error("Token validation error:",e)}})(),e()},[B,T]),V)?(0,t.jsx)(v.default,{}):(0,t.jsxs)("div",{className:"h-screen bg-gray-50 flex relative",children:[(0,t.jsx)(g.default,{isOpen:M,onClose:()=>S(!1)}),(0,t.jsx)(j.FarmerVerificationModal,{isOpen:W}),(0,t.jsx)(b.default,{isOpen:z,onClose:()=>L(!1)}),n&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 z-20 lg:hidden",onClick:()=>d(!1)}),(0,t.jsxs)("div",{className:`${n?"translate-x-0":"-translate-x-full"} lg:translate-x-0 fixed lg:static inset-y-0 left-0 z-30 w-64 bg-white shadow-lg transition-transform duration-300 ease-in-out border-r border-gray-100 lg:flex lg:flex-col`,children:[(0,t.jsx)("div",{className:"lg:hidden absolute top-4 right-4",children:(0,t.jsx)("button",{onClick:()=>d(!1),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:(0,t.jsx)(l.X,{className:"w-5 h-5 text-gray-600"})})}),(0,t.jsxs)("div",{className:"p-6 flex items-center space-x-1",children:[(0,t.jsx)(f.default,{src:"/logo.png",alt:"Samriddh Grain Bank Logo",className:"w-18 h-18 rounded-xl object-cover bg-white border",width:500,height:500}),(0,t.jsx)("div",{children:(0,t.jsx)("h1",{className:"text-xl font-extrabold bg-gradient-to-r from-green-700 to-yellow-600 bg-clip-text text-transparent tracking-wide",children:"Samriddh Grain Bank"})})]}),(0,t.jsx)("nav",{className:"mt-1",children:k.map(e=>{let s=e.icon,a=q===e.href;return(0,t.jsx)("button",{onClick:()=>d(!1),className:"w-full",children:(0,t.jsxs)(m.default,{href:e.href,className:`w-full flex items-center px-6 py-3 text-left hover:bg-gray-100 transition-colors ${a?"bg-blue-50 border-r-4 border-blue-600 text-blue-600":"text-gray-700"}`,children:[(0,t.jsx)(s,{className:"h-5 w-5 mr-3"}),e.label]},e.id)},e.id)})})]}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col w-full lg:w-auto",children:[(0,t.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-100 px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("button",{onClick:()=>d(!n),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors lg:hidden",children:(0,t.jsx)(r.Menu,{className:"w-5 h-5 text-gray-600"})}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:(c=k.find(e=>e.href===q))?c.label:"Dashboard"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"relative",ref:P,children:[(0,t.jsxs)("button",{className:"relative p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full transition-colors duration-200",onClick:()=>C(e=>!e),children:[(0,t.jsx)(i.Bell,{className:"w-6 h-6"}),(0,t.jsx)("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full text-xs text-white flex items-center justify-center font-semibold shadow",children:"3"})]}),w&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>C(!1)}),(0,t.jsxs)("div",{className:"absolute right-0 mt-3 w-80 bg-white rounded-2xl shadow-2xl z-50 border border-gray-100 overflow-hidden animate-fade-in",children:[(0,t.jsxs)("div",{className:"px-5 py-3 border-b border-gray-100 flex items-center justify-between bg-gray-50",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-gray-800",children:"Notifications"}),(0,t.jsx)("button",{onClick:()=>C(!1),className:"text-xs text-blue-600 hover:underline",children:"Mark all as read"})]}),(0,t.jsxs)("div",{className:"max-h-72 overflow-y-auto divide-y divide-gray-100",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3 px-5 py-4 hover:bg-gray-50 transition-colors",children:[(0,t.jsx)("div",{className:"w-8 h-8 flex items-center justify-center bg-blue-100 text-blue-600 rounded-full text-sm font-bold",children:"D"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-700",children:["New"," ",(0,t.jsx)("span",{className:"font-medium",children:"deposit request"})," ","received."]}),(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"2m ago"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3 px-5 py-4 hover:bg-gray-50 transition-colors",children:[(0,t.jsx)("div",{className:"w-8 h-8 flex items-center justify-center bg-green-100 text-green-600 rounded-full text-sm font-bold",children:"S"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-700",children:["Your"," ",(0,t.jsx)("span",{className:"font-medium",children:"grain selling order"})," ","is approved."]}),(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"10m ago"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3 px-5 py-4 hover:bg-gray-50 transition-colors",children:[(0,t.jsx)("div",{className:"w-8 h-8 flex items-center justify-center bg-yellow-100 text-yellow-600 rounded-full text-sm font-bold",children:"M"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,t.jsx)("span",{className:"font-medium",children:"System maintenance"})," ","scheduled tomorrow."]}),(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"1h ago"})]})]})]}),(0,t.jsx)("button",{onClick:()=>C(!1),className:"w-full text-center py-3 text-sm font-medium text-blue-600 hover:bg-gray-50 transition-colors",children:"View All Notifications"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsxs)("div",{className:"text-right hidden sm:block",children:[(0,t.jsx)("p",{className:"text-sm font-bold text-gray-900",children:U.name}),(0,t.jsx)("p",{className:"text-xs text-gray-500 font-bold",children:U.role?U.role.charAt(0).toUpperCase()+U.role.slice(1):""})]}),(0,t.jsxs)("div",{className:"relative",ref:O,children:[(0,t.jsx)("button",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center text-white font-medium text-sm focus:outline-none",onClick:()=>N(e=>!e),children:(0,t.jsx)("img",{src:U.user_image,alt:"Profile Avatar",className:"w-10 h-10 rounded-full p-[2px]"})}),u&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>N(!1)}),(0,t.jsxs)("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-lg z-50 border border-gray-100 overflow-hidden",children:[(0,t.jsxs)("div",{className:"px-4 py-3 border-b border-gray-100",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:U.name}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:U.email}),(0,t.jsx)("p",{className:"text-xs text-blue-600 font-bold",children:U.farmerId}),(0,t.jsx)("p",{className:"text-xs text-green-600 font-bold",children:U.role.charAt(0).toUpperCase()+U.role.slice(1)})]}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsxs)("button",{className:"flex items-center gap-2 px-4 py-3 text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>{N(!1),T.push("/dashboard/profile")},children:[(0,t.jsx)(o.User,{className:"h-4 w-4 text-gray-500"})," Profile"]}),(0,t.jsxs)("button",{className:"flex items-center gap-2 px-4 py-3 text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>{N(!1),T.push("/dashboard/settings")},children:[(0,t.jsx)(h.Settings,{className:"h-4 w-4 text-gray-500"})," ","Settings"]}),(0,t.jsxs)("button",{className:"flex items-center gap-2 px-4 py-3 text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>{N(!1),T.push("/dashboard/notifications")},children:[(0,t.jsx)(i.Bell,{className:"h-4 w-4 text-gray-500"})," ","Notifications"]}),(0,t.jsxs)("button",{className:"flex items-center gap-2 px-4 py-3 text-red-600 hover:bg-red-50 transition-colors",onClick:()=>{N(!1),(0,y.logout)()},children:[(0,t.jsx)(x.LogOut,{className:"h-4 w-4"})," Logout"]})]})]})]})]})]})]})]})}),(0,t.jsx)("main",{className:"flex-1 overflow-auto max-h-screen p-6 no-scrollbar",children:e})]})]})}e.s(["default",()=>N])}]);