module.exports=[19572,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(87532),e=a.i(15618),f=a.i(69012),g=a.i(84505),h=a.i(77156),i=a.i(68976),j=a.i(67453),k=a.i(63519),l=a.i(92258),m=a.i(24987),n=a.i(8406),o=a.i(28379),p=a.i(67900),q=a.i(60246),r=a.i(13749),s=a.i(50522),t=a.i(72692),u=a.i(33508),v=a.i(1499),w=a.i(67329),x=a.i(22520),y=a.i(57344),z=a.i(69520),A=a.i(92e3),B=a.i(46864);let C=(0,a.i(70106).default)("hard-hat",[["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["rect",{x:"2",y:"15",width:"20",height:"4",rx:"1",key:"g3x8cw"}]]);var D=a.i(79808),E=a.i(46842),F=a.i(41961),G=a.i(4720),H=a.i(38632),I=a.i(41675),J=a.i(2835),K=a.i(49853),L=a.i(34044),M=a.i(41815),N=a.i(62219),O=a.i(41710),P=a.i(3314),Q=a.i(97063),R=a.i(5151),S=a.i(53569),T=a.i(71931),U=a.i(11156),V=a.i(69769),W=a.i(76472),X=a.i(96221),Y=a.i(56738),Z=a.i(87466),$=a.i(90669),_=a.i(44494),aa=a.i(26112),ab=a.i(81010),ac=a.i(93518),ad=a.i(91965),ae=a.i(19272),af=a.i(60779);let ag=({isOpen:a,onClose:d,staffId:e})=>{var f,i;let[n,q]=(0,c.useState)("identity"),[t,v]=(0,c.useState)(null),[w,x]=(0,c.useState)(0),[y,C]=(0,c.useState)([]),[D,ag]=(0,c.useState)(0),[ah,ai]=(0,c.useState)(null),[aj,ak]=(0,c.useState)(null),[al,am]=(0,c.useState)(!1),[an,ao]=(0,c.useState)(null);(0,c.useEffect)(()=>{a&&e&&ap()},[a,e]);let ap=async()=>{am(!0),ao(null);try{let a=await fetch(`${af.default}/employee/getstaffdetail?staffId=${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),b=await a.json();b.success?ak(b.data):ao(b.message||"Failed to fetch staff details")}catch(a){ao("Failed to fetch staff details. Please try again."),console.error("Error fetching staff:",a)}finally{am(!1)}};if((0,c.useEffect)(()=>{a||(q("identity"),ak(null),ao(null),v(null))},[a]),!a)return null;let aq=a=>{if(!a)return"N/A";try{return new Date(a).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})}catch(b){return a}},ar=a=>{if(!a)return"N/A";let b=[a.line1,a.line2,a.city,a.state,a.country,a.postalCode].filter(Boolean);return b.length>0?b.join(", "):"N/A"},as=async a=>{try{let b=await fetch(a),c=await b.blob(),d=window.URL.createObjectURL(c),e=document.createElement("a");e.href=d,e.download=`staff-profile-${Date.now()}.jpg`,document.body.appendChild(e),e.click(),document.body.removeChild(e),window.URL.revokeObjectURL(d)}catch(b){window.open(a,"_blank")}},at=()=>{window.print()},au=(a,b=[a])=>{let c=Array.isArray(b)?b:[b];C(c),ag(-1!==c.indexOf(a)?c.indexOf(a):0),v(a),x(0)},av=a=>{let b="next"===a?(D+1)%y.length:(D-1+y.length)%y.length;ag(b),v(y[b]),x(0)},aw=({label:a,value:c,field:d,relatedImage:e=null,icon:f,maskValue:g=!1})=>{if(!c||"N/A"===c||Array.isArray(c)&&0===c.length)return null;let h=g?String(c).replace(/\d(?=\d{4})/g,"*"):c;return(0,b.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white hover:shadow-md transition-all duration-300",children:(0,b.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg shadow",children:(0,b.jsx)("div",{className:"text-white",children:f})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"flex items-center gap-2.5 mb-1.5",children:(0,b.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:a})}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("p",{className:"text-base font-semibold text-gray-900",children:h}),(0,b.jsx)("button",{onClick:()=>{var a;return a=String(c),void(navigator.clipboard.writeText(a),ai(d),setTimeout(()=>ai(null),2e3))},className:"p-1.5 hover:bg-gray-100 rounded-lg transition-colors",title:"Copy to clipboard",children:ah===d?(0,b.jsx)(j.CheckCircle2,{className:"w-3.5 h-3.5 text-green-600"}):(0,b.jsx)(R.Copy,{className:"w-3.5 h-3.5 text-gray-400"})})]}),e&&(0,b.jsxs)("div",{className:"mt-3",children:[(0,b.jsxs)("p",{className:"text-xs text-gray-500 mb-2.5 flex items-center gap-1.5",children:[(0,b.jsx)(H.Image,{className:"w-3.5 h-3.5"}),"Supporting Documents"]}),(0,b.jsx)("div",{className:"flex gap-2.5 flex-wrap",children:Array.isArray(e)?e.map((c,d)=>(0,b.jsx)(ax,{src:c,alt:`${a} ${d+1}`,onClick:()=>au(c,e)},d)):(0,b.jsx)(ax,{src:e,alt:a,onClick:()=>au(e)})})]})]})]})})})})},ax=({src:a,alt:c,onClick:d})=>(0,b.jsx)("div",{className:"relative group cursor-pointer",onClick:d,children:(0,b.jsxs)("div",{className:"w-20 h-20 rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 transform hover:scale-105 ring-1 ring-gray-200 hover:ring-indigo-400",children:[(0,b.jsx)("img",{src:a,alt:c,className:"w-full h-full object-cover"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-all duration-300 flex items-center justify-center",children:(0,b.jsx)("div",{className:"p-1.5 bg-white/20 backdrop-blur-sm rounded-full transform scale-0 group-hover:scale-100 transition-transform duration-300",children:(0,b.jsx)(h.Eye,{className:"w-4 h-4 text-white"})})})]})}),ay=({icon:a,title:c,color:d="from-indigo-500 to-purple-600"})=>(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,b.jsx)("div",{className:`p-1.5 bg-gradient-to-br ${d} rounded-lg shadow-sm`,children:(0,b.jsx)(a,{className:"w-4 h-4 text-white"})}),(0,b.jsx)("h4",{className:"text-sm font-semibold text-gray-700",children:c})]}),az=[{id:"identity",label:"Personal Info",icon:E.User,color:"from-indigo-500 to-purple-600"},{id:"work",label:"Employment",icon:F.Briefcase,color:"from-emerald-500 to-green-600"},{id:"documents",label:"Documents & IDs",icon:G.FileText,color:"from-blue-500 to-indigo-600"},{id:"finance",label:"Bank & Salary",icon:Y.Wallet,color:"from-amber-500 to-orange-600"},{id:"additional",label:"Additional",icon:Q.Info,color:"from-violet-500 to-purple-600"}];return al?(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl p-8 flex flex-col items-center justify-center",children:[(0,b.jsx)(X.Loader2,{className:"w-12 h-12 text-indigo-600 animate-spin mb-4"}),(0,b.jsx)("p",{className:"text-gray-600 font-medium",children:"Loading staff details..."})]})}):an?(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8 flex flex-col items-center justify-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:(0,b.jsx)(A.AlertCircle,{className:"w-8 h-8 text-red-600"})}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Error Loading Data"}),(0,b.jsx)("p",{className:"text-gray-600 text-center mb-6",children:an}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("button",{onClick:ap,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors flex items-center gap-2",children:[(0,b.jsx)(z.RefreshCw,{className:"w-4 h-4"}),"Retry"]}),(0,b.jsx)("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors",children:"Close"})]})]})}):aj?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[92vh] overflow-hidden flex flex-col",children:[(0,b.jsxs)("div",{className:"relative overflow-hidden flex-shrink-0",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600",children:(0,b.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48Y2lyY2xlIGN4PSIzMCIgY3k9IjMwIiByPSIyIi8+PC9nPjwvZz48L3N2Zz4=')] opacity-20"})}),(0,b.jsx)("div",{className:"relative px-5 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"absolute -inset-1 bg-white/20 rounded-full blur animate-pulse"}),(0,b.jsx)("div",{className:"relative w-14 h-14 rounded-full overflow-hidden border-2 border-white/50 cursor-pointer hover:border-white transition-colors",onClick:()=>aj.photo&&au(aj.photo),children:(0,b.jsx)("img",{src:aj.photo,alt:aj.name,className:"w-full h-full object-cover"})}),(0,b.jsx)("div",{className:"absolute -bottom-1 -right-1 p-1 bg-indigo-500 rounded-full border-2 border-white",children:(0,b.jsx)(o.UserCog,{className:"w-3 h-3 text-white"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[aj.name,aj.is_active&&(0,b.jsx)(N.BadgeCheck,{className:"w-5 h-5 text-green-300"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 text-white/70 text-xs mt-1",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(J.Hash,{className:"w-3 h-3"}),aj.employee_id]}),(0,b.jsx)("span",{children:"•"}),(0,b.jsxs)("span",{className:"flex items-center gap-1 capitalize",children:[(0,b.jsx)(o.UserCog,{className:"w-3 h-3"}),aj.role]}),(0,b.jsx)("span",{children:"•"}),(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(I.Calendar,{className:"w-3 h-3"}),"Joined: ",aq(aj.date_of_joining)]})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(f=aj.is_active,i=aj.employment_status,f&&"Active"===i?(0,b.jsxs)("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-green-100 rounded-full",children:[(0,b.jsx)(j.CheckCircle2,{className:"w-3.5 h-3.5 text-green-600"}),(0,b.jsx)("span",{className:"text-xs font-medium text-green-700",children:"Active"})]}):(0,b.jsxs)("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-gray-100 rounded-full",children:[(0,b.jsx)(u.X,{className:"w-3.5 h-3.5 text-gray-600"}),(0,b.jsx)("span",{className:"text-xs font-medium text-gray-700",children:"Inactive"})]})),aj.is_engaged?(0,b.jsxs)("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-blue-100 rounded-full",children:[(0,b.jsx)(p.Building2,{className:"w-3.5 h-3.5 text-blue-600"}),(0,b.jsx)("span",{className:"text-xs font-medium text-blue-700",children:"Assigned"})]}):(0,b.jsxs)("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-amber-100 rounded-full",children:[(0,b.jsx)(O.Clock,{className:"w-3.5 h-3.5 text-amber-600"}),(0,b.jsx)("span",{className:"text-xs font-medium text-amber-700",children:"Unassigned"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:at,className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg transition-all duration-300",title:"Print Profile",children:(0,b.jsx)(T.Printer,{className:"w-4 h-4 text-white"})}),(0,b.jsx)("button",{onClick:()=>{navigator.share&&navigator.share({title:`Staff Profile - ${aj?.name}`,text:`View profile of ${aj?.name}`,url:window.location.href})},className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg transition-all duration-300",title:"Share Profile",children:(0,b.jsx)(S.Share2,{className:"w-4 h-4 text-white"})}),(0,b.jsx)("button",{onClick:d,className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg transition-all duration-300 hover:scale-110 hover:rotate-90 ml-2",children:(0,b.jsx)(u.X,{className:"w-4 h-4 text-white"})})]})]})]})})]}),(0,b.jsx)("div",{className:"flex bg-gradient-to-r from-gray-50 to-gray-100 px-3 py-2 gap-2 flex-shrink-0 border-b border-gray-200 overflow-x-auto",children:az.map(a=>{let c=a.icon;return(0,b.jsxs)("button",{onClick:()=>q(a.id),className:`flex-shrink-0 px-4 py-2 flex items-center justify-center gap-2 font-medium rounded-lg transition-all duration-300 ${n===a.id?"bg-white text-gray-800 shadow-md scale-[1.02] border border-gray-200":"text-gray-500 hover:bg-white/50 hover:text-gray-700"}`,children:[(0,b.jsx)("div",{className:`p-1.5 rounded-lg bg-gradient-to-br ${n===a.id?a.color:"from-gray-300 to-gray-400"} shadow-sm`,children:(0,b.jsx)(c,{className:"w-3.5 h-3.5 text-white"})}),(0,b.jsx)("span",{className:"text-sm whitespace-nowrap",children:a.label})]},a.id)})}),(0,b.jsx)("div",{className:"flex-1 p-4 overflow-y-auto bg-gradient-to-br from-gray-50 via-white to-gray-50",children:(0,b.jsxs)("div",{className:"space-y-3",children:["identity"===n&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ay,{icon:E.User,title:"Basic Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,b.jsx)(aw,{label:"Full Name",value:aj.name,field:"name",icon:(0,b.jsx)(E.User,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"Employee ID",value:aj.employee_id,field:"employee_id",icon:(0,b.jsx)(J.Hash,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"Date of Birth",value:aq(aj.dob),field:"dob",icon:(0,b.jsx)(I.Calendar,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"Gender",value:aj.gender?.charAt(0).toUpperCase()+aj.gender?.slice(1),field:"gender",icon:(0,b.jsx)(E.User,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"Marital Status",value:aj.marital_status,field:"marital_status",icon:(0,b.jsx)(W.Heart,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"Nationality",value:aj.nationality,field:"nationality",icon:(0,b.jsx)(_.Globe,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"Blood Group",value:aj.blood_group,field:"blood_group",icon:(0,b.jsx)(aa.Droplet,{className:"w-4 h-4"})})]}),(0,b.jsx)(ay,{icon:k.Phone,title:"Contact Information",color:"from-green-500 to-emerald-600"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,b.jsx)(aw,{label:"Primary Phone",value:aj.phone_number,field:"phone_number",icon:(0,b.jsx)(k.Phone,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"Secondary Phone",value:aj.secondary_phone_number,field:"secondary_phone_number",icon:(0,b.jsx)(k.Phone,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"Email Address",value:aj.email,field:"email",icon:(0,b.jsx)(l.Mail,{className:"w-4 h-4"})})]}),(0,b.jsx)(ay,{icon:ab.Home,title:"Address Information",color:"from-orange-500 to-red-600"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[(0,b.jsx)(aw,{label:"Permanent Address",value:ar(aj.permanent_address),field:"permanent_address",icon:(0,b.jsx)(m.MapPin,{className:"w-4 h-4"})}),!aj.same_as_permanent&&(0,b.jsx)(aw,{label:"Current Address",value:ar(aj.current_address),field:"current_address",icon:(0,b.jsx)(m.MapPin,{className:"w-4 h-4"})}),aj.same_as_permanent&&(0,b.jsx)("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:(0,b.jsxs)("p",{className:"text-sm text-blue-700 flex items-center gap-2",children:[(0,b.jsx)(Q.Info,{className:"w-4 h-4"}),"Current address is same as permanent address"]})})]}),(0,b.jsx)(ay,{icon:H.Image,title:"Profile Photo",color:"from-purple-500 to-pink-600"}),(0,b.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(ax,{src:aj.photo,alt:"Profile Photo",onClick:()=>au(aj.photo)}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Profile Picture"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Click to view full image"})]})]})})]}),"work"===n&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ay,{icon:F.Briefcase,title:"Employment Details"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,b.jsx)(aw,{label:"Role",value:aj.role?.charAt(0).toUpperCase()+aj.role?.slice(1),field:"role",icon:(0,b.jsx)(F.Briefcase,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"Department",value:aj.department,field:"department",icon:(0,b.jsx)(p.Building2,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"Designation",value:aj.designation,field:"designation",icon:(0,b.jsx)(ac.Award,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"Employment Type",value:aj.employment_type,field:"employment_type",icon:(0,b.jsx)(Z.FileCheck,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"Employment Status",value:aj.employment_status,field:"employment_status",icon:(0,b.jsx)($.Activity,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"Date of Joining",value:aq(aj.date_of_joining),field:"date_of_joining",icon:(0,b.jsx)(I.Calendar,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"Registration Date",value:aq(aj.registration_date),field:"registration_date",icon:(0,b.jsx)(I.Calendar,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"Total Experience",value:`${aj.total_experience_years||0} Years`,field:"total_experience_years",icon:(0,b.jsx)(O.Clock,{className:"w-4 h-4"})})]}),aj.office&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ay,{icon:p.Building2,title:"Office Assignment",color:"from-indigo-500 to-purple-600"}),(0,b.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Office Name"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:aj.office.name})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Location"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:aj.office.location})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Branch Code"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:aj.office.branch_code})]})]})})]}),aj.reporting_manager&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ay,{icon:B.UserCheck,title:"Reporting Manager",color:"from-teal-500 to-cyan-600"}),(0,b.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:aj.reporting_manager})})]}),aj.skills&&aj.skills.length>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ay,{icon:ac.Award,title:"Skills",color:"from-amber-500 to-orange-600"}),(0,b.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:aj.skills.map((a,c)=>(0,b.jsx)("span",{className:"px-3 py-1.5 bg-gradient-to-r from-indigo-50 to-purple-50 text-indigo-700 rounded-full text-sm font-medium border border-indigo-200",children:a},c))})})]}),aj.experience&&aj.experience.length>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ay,{icon:ad.History,title:"Work Experience",color:"from-violet-500 to-purple-600"}),(0,b.jsx)("div",{className:"space-y-3",children:aj.experience.map((a,c)=>(0,b.jsxs)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h5",{className:"text-sm font-semibold text-gray-800",children:a.title}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:a.companyName})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:[aq(a.startDate)," - ",aq(a.endDate)]}),a.lastDrawnSalary&&(0,b.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Last Salary: ₹",a.lastDrawnSalary?.toLocaleString()]})]})]}),a.responsibilities&&(0,b.jsx)("p",{className:"text-xs text-gray-600 mt-2 border-t pt-2",children:a.responsibilities})]},c))})]}),(0,b.jsx)("div",{className:`p-4 rounded-xl border ${aj.onboarding_completed?"bg-green-50 border-green-200":"bg-amber-50 border-amber-200"}`,children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[aj.onboarding_completed?(0,b.jsx)(j.CheckCircle2,{className:"w-5 h-5 text-green-600"}):(0,b.jsx)(O.Clock,{className:"w-5 h-5 text-amber-600"}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:`text-sm font-semibold ${aj.onboarding_completed?"text-green-800":"text-amber-800"}`,children:["Onboarding ",aj.onboarding_completed?"Completed":"In Progress"]}),(0,b.jsxs)("p",{className:`text-xs ${aj.onboarding_completed?"text-green-700":"text-amber-700"}`,children:["Step ",aj.step_completed," of 7 completed"]})]})]})})]}),"documents"===n&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ay,{icon:G.FileText,title:"Government IDs"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,b.jsx)(aw,{label:"PAN Number",value:aj.govt_ids?.pan_number,field:"pan_number",maskValue:!0,icon:(0,b.jsx)(U.CreditCard,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"Aadhaar Number",value:aj.govt_ids?.aadhaar_number,field:"aadhaar_number",maskValue:!0,icon:(0,b.jsx)(U.CreditCard,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"Passport Number",value:aj.govt_ids?.passport_number,field:"passport_number",icon:(0,b.jsx)(G.FileText,{className:"w-4 h-4"})}),aj.govt_ids?.passport_expiry&&(0,b.jsx)(aw,{label:"Passport Expiry",value:aq(aj.govt_ids?.passport_expiry),field:"passport_expiry",icon:(0,b.jsx)(I.Calendar,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"PF Number",value:aj.govt_ids?.pf_number,field:"pf_number",icon:(0,b.jsx)(G.FileText,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"ESI Number",value:aj.govt_ids?.esi_number,field:"esi_number",icon:(0,b.jsx)(G.FileText,{className:"w-4 h-4"})})]}),!aj.govt_ids?.pan_number&&!aj.govt_ids?.aadhaar_number&&!aj.govt_ids?.passport_number&&(0,b.jsx)("div",{className:"p-4 rounded-xl border border-amber-200 bg-amber-50",children:(0,b.jsxs)("p",{className:"text-sm text-amber-700 flex items-center gap-2",children:[(0,b.jsx)(A.AlertCircle,{className:"w-4 h-4"}),"No government ID documents have been added yet."]})}),(0,b.jsx)(ay,{icon:V.GraduationCap,title:"Education",color:"from-blue-500 to-indigo-600"}),aj.education&&aj.education.length>0?(0,b.jsx)("div",{className:"space-y-3",children:aj.education.map((a,c)=>(0,b.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Qualification"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:a.qualification})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Institution"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:a.institution})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Board/University"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:a.boardOrUniversity})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Year of Passing"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:a.yearOfPassing})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Percentage/CGPA"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:a.percentageOrCgpa})]})]})},c))}):(0,b.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-gray-50",children:(0,b.jsxs)("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[(0,b.jsx)(Q.Info,{className:"w-4 h-4"}),"No education details have been added yet."]})}),(0,b.jsx)(ay,{icon:ac.Award,title:"Certifications",color:"from-amber-500 to-orange-600"}),aj.certifications&&aj.certifications.length>0?(0,b.jsx)("div",{className:"space-y-3",children:aj.certifications.map((a,c)=>(0,b.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Title"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:a.title})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Issuer"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:a.issuer})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Issue Date"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:aq(a.issueDate)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Expiry Date"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:aq(a.expiryDate)})]})]})},c))}):(0,b.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-gray-50",children:(0,b.jsxs)("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[(0,b.jsx)(Q.Info,{className:"w-4 h-4"}),"No certifications have been added yet."]})})]}),"finance"===n&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ay,{icon:Y.Wallet,title:"Salary Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[aj.salary?(0,b.jsx)(aw,{label:"Monthly Salary",value:`₹${aj.salary?.toLocaleString()}`,field:"salary",icon:(0,b.jsx)(Y.Wallet,{className:"w-4 h-4"})}):(0,b.jsx)("div",{className:"p-4 rounded-xl border border-amber-200 bg-amber-50",children:(0,b.jsxs)("p",{className:"text-sm text-amber-700 flex items-center gap-2",children:[(0,b.jsx)(A.AlertCircle,{className:"w-4 h-4"}),"Salary information not available"]})}),(0,b.jsx)(aw,{label:"Tax Status",value:aj.govt_ids?.tax_status,field:"tax_status",icon:(0,b.jsx)(G.FileText,{className:"w-4 h-4"})})]}),(0,b.jsx)(ay,{icon:K.Landmark,title:"Bank Account Details",color:"from-green-500 to-emerald-600"}),aj.bank_details&&(aj.bank_details.account_number||aj.bank_details.bank_name||aj.bank_details.account_holder)?(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,b.jsx)(aw,{label:"Account Holder Name",value:aj.bank_details.account_holder,field:"account_holder",icon:(0,b.jsx)(E.User,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"Account Number",value:aj.bank_details.account_number,field:"account_number",maskValue:!0,icon:(0,b.jsx)(U.CreditCard,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"Bank Name",value:aj.bank_details.bank_name,field:"bank_name",icon:(0,b.jsx)(K.Landmark,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"Branch Name",value:aj.bank_details.branch_name,field:"branch_name",icon:(0,b.jsx)(m.MapPin,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"IFSC Code",value:aj.bank_details.ifsc_code,field:"ifsc_code",icon:(0,b.jsx)(J.Hash,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"UPI ID",value:aj.bank_details.upi_id,field:"upi_id",icon:(0,b.jsx)(U.CreditCard,{className:"w-4 h-4"})})]}):(0,b.jsx)("div",{className:"p-4 rounded-xl border border-amber-200 bg-amber-50",children:(0,b.jsxs)("p",{className:"text-sm text-amber-700 flex items-center gap-2",children:[(0,b.jsx)(A.AlertCircle,{className:"w-4 h-4"}),"Bank account details have not been added yet."]})})]}),"additional"===n&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ay,{icon:ae.PhoneCall,title:"Emergency Contacts",color:"from-red-500 to-rose-600"}),aj.emergency_contacts&&aj.emergency_contacts.length>0?(0,b.jsx)("div",{className:"space-y-3",children:aj.emergency_contacts.map((a,c)=>(0,b.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Name"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:a.name})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Relationship"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:a.relationship})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Phone"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:a.phone})]}),a.alternatePhone&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Alternate Phone"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:a.alternatePhone})]}),a.address&&(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Address"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:a.address})]})]})},c))}):(0,b.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-gray-50",children:(0,b.jsxs)("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[(0,b.jsx)(Q.Info,{className:"w-4 h-4"}),"No emergency contacts have been added yet."]})}),(0,b.jsx)(ay,{icon:$.Activity,title:"Medical Information",color:"from-pink-500 to-rose-600"}),aj.medical_conditions?(0,b.jsx)(aw,{label:"Medical Conditions",value:aj.medical_conditions,field:"medical_conditions",icon:(0,b.jsx)($.Activity,{className:"w-4 h-4"})}):(0,b.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-gray-50",children:(0,b.jsxs)("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[(0,b.jsx)(j.CheckCircle2,{className:"w-4 h-4 text-green-500"}),"No medical conditions reported"]})}),(0,b.jsx)(ay,{icon:P.Shield,title:"Background Verification",color:"from-indigo-500 to-purple-600"}),(0,b.jsx)("div",{className:`p-4 rounded-xl border ${"Passed"===aj.background_check_status?"bg-green-50 border-green-200":"Failed"===aj.background_check_status?"bg-red-50 border-red-200":"bg-amber-50 border-amber-200"}`,children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:["Passed"===aj.background_check_status?(0,b.jsx)(j.CheckCircle2,{className:"w-5 h-5 text-green-600"}):"Failed"===aj.background_check_status?(0,b.jsx)(u.X,{className:"w-5 h-5 text-red-600"}):(0,b.jsx)(O.Clock,{className:"w-5 h-5 text-amber-600"}),(0,b.jsx)("div",{children:(0,b.jsxs)("p",{className:`text-sm font-semibold ${"Passed"===aj.background_check_status?"text-green-800":"Failed"===aj.background_check_status?"text-red-800":"text-amber-800"}`,children:["Background Check: ",aj.background_check_status||"Pending"]})})]})}),(0,b.jsx)(ay,{icon:G.FileText,title:"HR Notes",color:"from-gray-500 to-gray-600"}),aj.hr_notes?(0,b.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:(0,b.jsx)("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:aj.hr_notes})}):(0,b.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-gray-50",children:(0,b.jsxs)("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[(0,b.jsx)(Q.Info,{className:"w-4 h-4"}),"No HR notes available"]})}),(0,b.jsx)(ay,{icon:Q.Info,title:"System Information",color:"from-gray-500 to-gray-600"}),(0,b.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-gray-50",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Created At"}),(0,b.jsx)("p",{className:"text-xs font-medium text-gray-700",children:aq(aj.created_at)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Updated At"}),(0,b.jsx)("p",{className:"text-xs font-medium text-gray-700",children:aq(aj.updated_at)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Is Engaged"}),(0,b.jsx)("p",{className:"text-xs font-medium text-gray-700",children:aj.is_engaged?"Yes":"No"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Profile ID"}),(0,b.jsx)("p",{className:"text-xs font-medium text-gray-700 truncate",title:aj.employee_profile_id,children:aj.employee_profile_id?.slice(-8)})]})]})})]})]})}),(0,b.jsx)("div",{className:"border-t border-gray-200 bg-gradient-to-r from-gray-50 via-white to-gray-50 px-5 py-3 flex-shrink-0",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[(0,b.jsx)(Q.Info,{className:"w-3.5 h-3.5"}),(0,b.jsx)("span",{children:"Read-only view. Contact administrator for any changes."})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("button",{onClick:ap,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-all duration-300 font-medium text-sm flex items-center gap-2",children:[(0,b.jsx)(z.RefreshCw,{className:"w-4 h-4"}),"Refresh"]}),(0,b.jsxs)("button",{onClick:at,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-all duration-300 font-medium text-sm flex items-center gap-2",children:[(0,b.jsx)(T.Printer,{className:"w-4 h-4"}),"Print"]}),(0,b.jsx)("button",{onClick:d,className:"px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:shadow-lg transition-all duration-300 font-medium text-sm transform hover:scale-105",children:"Close"})]})]})})]})}),t&&(0,b.jsx)(({image:a,onClose:c})=>a?(0,b.jsxs)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex items-center justify-center z-[60]",onClick:c,children:[(0,b.jsx)("button",{onClick:c,className:"absolute top-4 right-4 p-2.5 bg-white/10 hover:bg-white/20 rounded-xl transition-all duration-300 hover:scale-110 group z-10",children:(0,b.jsx)(u.X,{className:"w-5 h-5 text-white group-hover:rotate-90 transition-transform duration-300"})}),y.length>1&&(0,b.jsx)("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 px-3 py-1.5 bg-white/10 backdrop-blur-sm rounded-full",children:(0,b.jsxs)("span",{className:"text-white text-sm font-medium",children:[D+1," / ",y.length]})}),y.length>1&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:a=>{a.stopPropagation(),av("prev")},className:"absolute left-4 top-1/2 -translate-y-1/2 p-3 bg-white/10 hover:bg-white/20 rounded-xl transition-all duration-300 hover:scale-110 group",children:(0,b.jsx)(r.ChevronLeft,{className:"w-6 h-6 text-white group-hover:-translate-x-1 transition-transform"})}),(0,b.jsx)("button",{onClick:a=>{a.stopPropagation(),av("next")},className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 bg-white/10 hover:bg-white/20 rounded-xl transition-all duration-300 hover:scale-110 group",children:(0,b.jsx)(s.ChevronRight,{className:"w-6 h-6 text-white group-hover:translate-x-1 transition-transform"})})]}),(0,b.jsxs)("div",{className:"relative max-w-[85vw] max-h-[85vh] p-4",onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl bg-white/5 backdrop-blur-sm border border-white/10",children:[(0,b.jsx)("img",{src:a,alt:"Staff",className:"max-w-full max-h-[75vh] object-contain transition-transform duration-500",style:{transform:`rotate(${w}deg)`}}),(0,b.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-black/70 to-transparent"})]}),(0,b.jsx)("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 flex items-center gap-3",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2.5 bg-white/10 backdrop-blur-xl rounded-xl border border-white/20",children:[(0,b.jsx)("button",{onClick:()=>x(a=>a-90),className:"p-2.5 hover:bg-white/20 rounded-lg transition-all duration-200 group",title:"Rotate Left",children:(0,b.jsx)(M.RotateCw,{className:"w-4 h-4 text-white transform -scale-x-100 group-hover:rotate-[-90deg] transition-transform duration-300"})}),(0,b.jsx)("div",{className:"w-px h-6 bg-white/20"}),(0,b.jsx)("button",{onClick:()=>x(a=>a+90),className:"p-2.5 hover:bg-white/20 rounded-lg transition-all duration-200 group",title:"Rotate Right",children:(0,b.jsx)(M.RotateCw,{className:"w-4 h-4 text-white group-hover:rotate-90 transition-transform duration-300"})}),(0,b.jsx)("div",{className:"w-px h-6 bg-white/20"}),(0,b.jsx)("button",{onClick:()=>window.open(a,"_blank"),className:"p-2.5 hover:bg-white/20 rounded-lg transition-all duration-200 group",title:"Open in New Tab",children:(0,b.jsx)(L.Maximize2,{className:"w-4 h-4 text-white group-hover:scale-110 transition-transform duration-300"})}),(0,b.jsx)("div",{className:"w-px h-6 bg-white/20"}),(0,b.jsxs)("button",{onClick:()=>as(a),className:"flex items-center gap-2 px-3.5 py-2.5 bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 rounded-lg transition-all duration-300 hover:scale-105",title:"Download",children:[(0,b.jsx)(g.Download,{className:"w-4 h-4 text-white"}),(0,b.jsx)("span",{className:"text-white font-medium text-sm",children:"Download"})]})]})})]})]}):null,{image:t,onClose:()=>v(null)})]}):(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8 flex flex-col items-center justify-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:(0,b.jsx)(E.User,{className:"w-8 h-8 text-gray-400"})}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Data Found"}),(0,b.jsx)("p",{className:"text-gray-600 text-center mb-6",children:"Staff details could not be found."}),(0,b.jsx)("button",{onClick:d,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Close"})]})})};var ah=a.i(14548),ai=a.i(4416),aj=a.i(73320),ak=a.i(81560),al=a.i(73570),am=a.i(5784),an=a.i(67552);let ao=({label:a,field:c,type:d="text",required:e=!1,icon:f,options:g=null,nestedPath:h=null,placeholder:i="",disabled:k=!1,value:l,onChange:m,onBlur:n,hasError:o,errorMessage:p,isValid:q,isChanged:r})=>(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsxs)("label",{className:"text-xs font-medium text-gray-700 flex items-center gap-1.5",children:[f&&(0,b.jsx)(f,{className:"w-3.5 h-3.5 text-gray-400"}),a,e&&(0,b.jsx)("span",{className:"text-red-500",children:"*"}),r&&(0,b.jsx)("span",{className:"ml-auto text-xs text-amber-600 font-normal",children:"Modified"})]}),(0,b.jsxs)("div",{className:"relative",children:[g?(0,b.jsxs)("select",{value:l||"",onChange:a=>m(c,a.target.value,h),disabled:k,className:`w-full px-3 py-2 border rounded-lg text-sm transition-all ${o?"border-red-300 bg-red-50":r?"border-amber-300 bg-amber-50":"border-gray-300"} ${k?"bg-gray-100 cursor-not-allowed":""} focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500`,children:[(0,b.jsxs)("option",{value:"",children:["Select ",a]}),g.map(a=>(0,b.jsx)("option",{value:"object"==typeof a?a.value:a,children:"object"==typeof a?a.label:a},"object"==typeof a?a.value:a))]}):"textarea"===d?(0,b.jsx)("textarea",{value:l||"",onChange:a=>m(c,a.target.value,h),onBlur:()=>n&&n(c),disabled:k,placeholder:i,rows:3,className:`w-full px-3 py-2 border rounded-lg text-sm transition-all resize-none ${o?"border-red-300 bg-red-50":r?"border-amber-300 bg-amber-50":"border-gray-300"} ${k?"bg-gray-100 cursor-not-allowed":""} focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500`}):(0,b.jsx)("input",{type:d,value:l||"",onChange:a=>m(c,"number"===d?Number(a.target.value):a.target.value,h),onBlur:()=>n&&n(c),disabled:k,placeholder:i,className:`w-full px-3 py-2 border rounded-lg text-sm transition-all ${o?"border-red-300 bg-red-50":r?"border-amber-300 bg-amber-50":"border-gray-300"} ${k?"bg-gray-100 cursor-not-allowed":""} focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500`}),o&&(0,b.jsx)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:(0,b.jsx)(A.AlertCircle,{className:"w-4 h-4 text-red-500"})}),q&&!o&&(0,b.jsx)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:(0,b.jsx)(j.CheckCircle2,{className:"w-4 h-4 text-green-500"})})]}),o&&(0,b.jsxs)("p",{className:"text-xs text-red-600 flex items-center gap-1",children:[(0,b.jsx)(A.AlertCircle,{className:"w-3 h-3"}),p]})]}),ap=({icon:a,title:c,color:d="from-cyan-500 to-blue-600",collapsible:e=!1,isExpanded:f=!1,onToggle:g=null})=>(0,b.jsxs)("div",{className:`flex items-center justify-between mb-4 ${e?"cursor-pointer":""}`,onClick:()=>e&&g&&g(),children:[(0,b.jsxs)("h3",{className:"text-sm font-semibold text-gray-800 flex items-center gap-2",children:[(0,b.jsx)("div",{className:`p-1.5 bg-gradient-to-br ${d} rounded-lg shadow-sm`,children:(0,b.jsx)(a,{className:"w-4 h-4 text-white"})}),c]}),e&&(0,b.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded transition-colors",children:f?(0,b.jsx)(an.ChevronUp,{className:"w-4 h-4 text-gray-500"}):(0,b.jsx)(am.ChevronDown,{className:"w-4 h-4 text-gray-500"})})]}),aq=({currentImage:a,onImageChange:d,onImageRemove:e})=>{let[f,g]=(0,c.useState)(a),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(0),[m,n]=(0,c.useState)(null);(0,c.useEffect)(()=>{g(a)},[a]);let o=async a=>{let b=a.name.split(".").pop(),c=`staff_photo_${Date.now()}.${b}`,d=await fetch(`${af.default}/aws/getpresigneduploadurls`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({files:[{fileName:c,fileType:a.type,folder:"employee-photos"}]})});if(!d.ok)throw Error("Failed to get presigned URL");let e=await d.json();if(!e.success||!e.urls||0===e.urls.length)throw Error("Failed to get presigned URL");return e.urls[0]},p=async(a,b)=>{if(!(await fetch(b,{method:"PUT",headers:{"Content-Type":a.type},body:a})).ok)throw Error("Failed to upload file to S3");return b.split("?")[0]},q=async b=>{let c=b.target.files[0];if(c){if(c.size>5242880)return void n("File size must be less than 5MB");if(!c.type.startsWith("image/"))return void n("Only image files are allowed");j(!0),n(null),l(0);try{let a=new FileReader;a.onloadend=()=>{g(a.result)},a.readAsDataURL(c),l(20);let{uploadUrl:b,publicUrl:e}=await o(c);l(40),await p(c,b),l(80),g(e),d(e),l(100),setTimeout(()=>{l(0)},500)}catch(b){console.error("Error uploading image:",b),n("Failed to upload image. Please try again."),g(a)}finally{j(!1)}}};return(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"text-xs font-medium text-gray-700 flex items-center gap-1.5",children:[(0,b.jsx)(H.Image,{className:"w-3.5 h-3.5 text-gray-400"}),"Profile Photo"]}),(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsx)("div",{className:`w-24 h-24 rounded-xl overflow-hidden border-2 border-dashed transition-colors ${i?"border-cyan-400 bg-cyan-50":"border-gray-300 hover:border-cyan-400"}`,children:i?(0,b.jsxs)("div",{className:"w-full h-full flex flex-col items-center justify-center bg-cyan-50",children:[(0,b.jsx)(X.Loader2,{className:"w-6 h-6 text-cyan-500 animate-spin mb-1"}),(0,b.jsxs)("span",{className:"text-xs text-cyan-600",children:[k,"%"]})]}):f?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("img",{src:f,alt:"Profile",className:"w-full h-full object-cover"}),(0,b.jsxs)("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:()=>window.open(f,"_blank"),className:"p-1.5 bg-white/20 backdrop-blur-sm rounded-lg hover:bg-white/30 transition-colors",children:(0,b.jsx)(h.Eye,{className:"w-4 h-4 text-white"})}),(0,b.jsx)("button",{type:"button",onClick:()=>{g(null),n(null),e()},className:"p-1.5 bg-white/20 backdrop-blur-sm rounded-lg hover:bg-white/30 transition-colors",children:(0,b.jsx)(ak.Trash2,{className:"w-4 h-4 text-white"})})]})]}):(0,b.jsxs)("label",{className:"cursor-pointer w-full h-full flex flex-col items-center justify-center text-gray-400 hover:text-cyan-500 transition-colors",children:[(0,b.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:q,disabled:i}),(0,b.jsx)(aj.Upload,{className:"w-6 h-6 mb-1"}),(0,b.jsx)("span",{className:"text-xs",children:"Upload"})]})}),i&&k>0&&(0,b.jsx)("div",{className:"absolute -bottom-2 left-0 right-0 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-gradient-to-r from-cyan-500 to-blue-500 transition-all duration-300",style:{width:`${k}%`}})})]}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Upload a profile photo. Recommended size: 256x256 pixels."}),(0,b.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Supported formats: JPG, PNG (max 5MB)"}),m&&(0,b.jsxs)("p",{className:"text-xs text-red-600 mt-1 flex items-center gap-1",children:[(0,b.jsx)(A.AlertCircle,{className:"w-3 h-3"}),m]}),f&&!i&&(0,b.jsxs)("label",{className:"mt-2 inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-cyan-600 hover:bg-cyan-50 rounded-lg cursor-pointer transition-colors",children:[(0,b.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:q,disabled:i}),(0,b.jsx)(z.RefreshCw,{className:"w-3.5 h-3.5"}),"Change Photo"]})]})]})]})},ar=({isOpen:a,onClose:d,onSave:f,staffId:g})=>{let h,[n,p]=(0,c.useState)({}),[q,r]=(0,c.useState)({}),[s,t]=(0,c.useState)("personal"),[v,w]=(0,c.useState)({}),[x,y]=(0,c.useState)(!1),[B,L]=(0,c.useState)(new Set),[M,N]=(0,c.useState)(!1),[P,R]=(0,c.useState)({}),[S,T]=(0,c.useState)({}),[ag,aj]=(0,c.useState)({}),[am,an]=(0,c.useState)(!1),[ar,as]=(0,c.useState)(!1),[at,au]=(0,c.useState)(null),[av,aw]=(0,c.useState)(!1);(0,c.useEffect)(()=>{a&&g&&ax()},[a,g]),(0,c.useEffect)(()=>{a||(t("personal"),w({}),y(!1),L(new Set),R({}),T({}),aw(!1))},[a]);let ax=async()=>{an(!0),au(null);try{let a=await fetch(`${af.default}/employee/getstaffdetail?staffId=${g}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),b=await a.json();if(b.success){let a=b.data,c={_id:a._id,name:a.name||"",phone_number:a.phone_number||"",secondary_phone_number:a.secondary_phone_number||"",email:a.email||"",gender:a.gender||"",dob:a.dob?a.dob.split("T")[0]:"",role:a.role||"",designation:a.designation||"",is_active:a.is_active??!0,is_on_duty:a.is_on_duty??!1,employee_id:a.employee_id||"",photo:a.photo||"",marital_status:a.marital_status||"",nationality:a.nationality||"",blood_group:a.blood_group||"",permanent_address:a.permanent_address||{line1:"",line2:"",city:"",state:"",country:"",postalCode:""},current_address:a.current_address||{line1:"",line2:"",city:"",state:"",country:"",postalCode:""},same_as_permanent:a.same_as_permanent??!1,employment_type:a.employment_type||"",date_of_joining:a.date_of_joining?a.date_of_joining.split("T")[0]:"",employment_status:a.employment_status||"",salary:a.salary||0,hourly_rate:a.hourly_rate||0,shift_type:a.shift_type||"",bank_details:a.bank_details||{account_number:"",ifsc_code:"",account_holder:"",bank_name:"",branch_name:"",upi_id:""},govt_ids:a.govt_ids||{pan_number:"",aadhaar_number:"",passport_number:"",passport_expiry:"",pf_number:"",esi_number:"",tax_status:""},education:a.education||[],certifications:a.certifications||[],experience:a.experience||[],total_experience_years:a.total_experience_years||0,skills:a.skills||[],medical_conditions:a.medical_conditions||"",emergency_contacts:a.emergency_contacts||[],hr_notes:a.hr_notes||"",background_check_status:a.background_check_status||"",warehouse:a.warehouse?._id||"",supervisor:a.supervisor?._id||"",supervisor_name:a.supervisor?.name||""};p(c),r(JSON.parse(JSON.stringify(c)))}else au(b.message||"Failed to fetch staff details")}catch(a){au("Failed to fetch staff details. Please try again."),console.error("Error fetching staff:",a)}finally{an(!1)}},ay=async()=>{let a={};if(["name","phone_number","email"].forEach(b=>{n[b]||(a[b]="This field is required")}),n.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)&&(a.email="Invalid email format"),n.phone_number&&!/^\d{10}$/.test(n.phone_number)&&(a.phone_number="Phone number must be 10 digits"),Object.keys(a).length>0)return void w(a);as(!0),au(null);try{let a={staffId:g,...n,modifiedFields:Array.from(B),modifiedAt:new Date().toISOString()},b=await fetch(`${af.default}/employee/updatestaffdetail?staffId=${g}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(a)}),c=await b.json();c.success?(aw(!0),y(!1),L(new Set),r(JSON.parse(JSON.stringify(n))),f&&f(c.data),setTimeout(()=>{aw(!1),d()},1500)):au(c.message||"Failed to update staff details")}catch(a){au("Failed to update staff details. Please try again."),console.error("Error updating staff:",a)}finally{as(!1)}};if(!a)return null;let az=a=>{if(!a)return"";try{return a.split("T")[0]}catch{return a}},aA=(a,b,c=null)=>{p(d=>{if(c){let[a,e]=c.split(".");return{...d,[a]:{...d[a],[e]:b}}}return{...d,[a]:b}});let d=c||a;L(a=>new Set(a).add(d)),y(!0),w(b=>{let c={...b};return delete c[a],c})},aB=(a,b,c,d)=>{p(e=>{let f=[...e[a]||[]];return f[b]={...f[b],[c]:d},{...e,[a]:f}}),L(b=>new Set(b).add(a)),y(!0)},aC=(a,b)=>{p(c=>({...c,[a]:[...c[a]||[],b]})),L(b=>new Set(b).add(a)),y(!0)},aD=(a,b)=>{p(c=>({...c,[a]:c[a].filter((a,c)=>c!==b)})),L(b=>new Set(b).add(a)),y(!0)},aE=a=>{let b=((a,b)=>{switch(a){case"email":return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b)?null:"Invalid email format";case"phone_number":case"secondary_phone_number":return!b||/^\d{10}$/.test(b)?null:"Phone number must be 10 digits";case"postalCode":return!b||/^\d{6}$/.test(b)?null:"Postal code must be 6 digits";default:return null}})(a,n[a]);b?(w(c=>({...c,[a]:b})),T(b=>({...b,[a]:"error"}))):T(b=>({...b,[a]:"success"}))},aF=()=>{x?N(!0):d()},aG=[{id:"personal",label:"Personal Info",icon:E.User,color:"from-blue-500 to-cyan-600"},{id:"employment",label:"Employment",icon:F.Briefcase,color:"from-teal-500 to-emerald-600"},{id:"documents",label:"Documents",icon:G.FileText,color:"from-emerald-500 to-teal-600"},{id:"finance",label:"Bank & Salary",icon:Y.Wallet,color:"from-amber-500 to-orange-600"},{id:"additional",label:"Additional",icon:Q.Info,color:"from-pink-500 to-rose-600"}],aH=a=>{let{field:c,nestedPath:d}=a,e=d?d.split(".").reduce((a,b)=>a?.[b],n):n[c],f=v[c],g="success"===S[c],h=B.has(d||c);return(0,b.jsx)(ao,{...a,value:e,onChange:aA,onBlur:aE,hasError:f,errorMessage:f,isValid:g,isChanged:h})},aI=a=>{let{sectionKey:c}=a;return(0,b.jsx)(ap,{...a,isExpanded:!!c&&ag[c],onToggle:c?()=>{aj(a=>({...a,[c]:!a[c]}))}:null})},aJ=a=>(0,b.jsx)("div",{className:"space-y-3",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[aH({label:"Address Line 1",field:"line1",nestedPath:`${a}.line1`,icon:ab.Home,placeholder:"Street address"}),aH({label:"Address Line 2",field:"line2",nestedPath:`${a}.line2`,icon:ab.Home,placeholder:"Apartment, suite, etc."}),aH({label:"City",field:"city",nestedPath:`${a}.city`,icon:m.MapPin}),aH({label:"State",field:"state",nestedPath:`${a}.state`,icon:m.MapPin}),aH({label:"Country",field:"country",nestedPath:`${a}.country`,icon:_.Globe}),aH({label:"Postal Code",field:"postalCode",nestedPath:`${a}.postalCode`,icon:J.Hash})]})});return am?(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl p-8 flex flex-col items-center justify-center",children:[(0,b.jsx)(X.Loader2,{className:"w-12 h-12 text-cyan-600 animate-spin mb-4"}),(0,b.jsx)("p",{className:"text-gray-600 font-medium",children:"Loading staff details..."})]})}):at&&!n._id?(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8 flex flex-col items-center justify-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:(0,b.jsx)(A.AlertCircle,{className:"w-8 h-8 text-red-600"})}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Error Loading Data"}),(0,b.jsx)("p",{className:"text-gray-600 text-center mb-6",children:at}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("button",{onClick:ax,className:"px-4 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2",children:[(0,b.jsx)(z.RefreshCw,{className:"w-4 h-4"}),"Retry"]}),(0,b.jsx)("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors",children:"Close"})]})]})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[92vh] overflow-hidden flex flex-col",children:[(0,b.jsxs)("div",{className:"relative overflow-hidden flex-shrink-0",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-600 via-blue-600 to-indigo-600",children:(0,b.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48Y2lyY2xlIGN4PSIzMCIgY3k9IjMwIiByPSIyIi8+PC9nPjwvZz48L3N2Zz4=')] opacity-20"})}),(0,b.jsx)("div",{className:"relative px-5 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"absolute -inset-1 bg-white/20 rounded-full blur animate-pulse"}),(0,b.jsx)("div",{className:"relative w-12 h-12 rounded-full overflow-hidden border-2 border-white/50",children:(0,b.jsx)("img",{src:n.photo||`https://ui-avatars.com/api/?name=${n.name}&background=random&size=256`,alt:n.name,className:"w-full h-full object-cover"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[(0,b.jsx)(i.Edit3,{className:"w-5 h-5"}),"Edit Staff Profile"]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 text-white/70 text-xs mt-1",children:[(0,b.jsx)("span",{children:n.name}),(0,b.jsx)("span",{children:"•"}),(0,b.jsxs)("span",{children:["ID: ",n.employee_id]}),n.designation&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{children:"•"}),(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(D.Wrench,{className:"w-3 h-3"}),n.designation.replace(/_/g," ").replace(/\b\w/g,a=>a.toUpperCase())]})]}),x&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{children:"•"}),(0,b.jsxs)("span",{className:"text-yellow-300 font-medium flex items-center gap-1",children:[(0,b.jsx)(A.AlertCircle,{className:"w-3 h-3"}),B.size," field(s) modified"]})]})]})]})]}),(0,b.jsx)("div",{className:"flex items-center gap-3",children:(0,b.jsx)("button",{onClick:aF,className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg transition-all duration-300",children:(0,b.jsx)(u.X,{className:"w-4 h-4 text-white"})})})]})})]}),av&&(0,b.jsxs)("div",{className:"bg-green-50 border-b border-green-200 px-5 py-3 flex items-center gap-3",children:[(0,b.jsx)(j.CheckCircle2,{className:"w-5 h-5 text-green-600"}),(0,b.jsx)("span",{className:"text-sm font-medium text-green-800",children:"Staff details updated successfully!"})]}),at&&n._id&&(0,b.jsxs)("div",{className:"bg-red-50 border-b border-red-200 px-5 py-3 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(A.AlertCircle,{className:"w-5 h-5 text-red-600"}),(0,b.jsx)("span",{className:"text-sm font-medium text-red-800",children:at})]}),(0,b.jsx)("button",{onClick:()=>au(null),className:"p-1 hover:bg-red-100 rounded transition-colors",children:(0,b.jsx)(u.X,{className:"w-4 h-4 text-red-600"})})]}),(0,b.jsx)("div",{className:"flex bg-gradient-to-r from-gray-50 to-gray-100 px-3 py-2 gap-2 flex-shrink-0 border-b border-gray-200 overflow-x-auto",children:aG.map(a=>{let c=a.icon;return(0,b.jsxs)("button",{onClick:()=>t(a.id),className:`flex-shrink-0 px-4 py-2 flex items-center gap-2 font-medium rounded-lg transition-all duration-300 ${s===a.id?"bg-white text-gray-800 shadow-md scale-[1.02] border border-gray-200":"text-gray-500 hover:bg-white/50 hover:text-gray-700"}`,children:[(0,b.jsx)("div",{className:`p-1.5 rounded-lg bg-gradient-to-br ${s===a.id?a.color:"from-gray-300 to-gray-400"} shadow-sm`,children:(0,b.jsx)(c,{className:"w-3.5 h-3.5 text-white"})}),(0,b.jsx)("span",{className:"text-sm whitespace-nowrap",children:a.label})]},a.id)})}),(0,b.jsx)("div",{className:"flex-1 p-4 overflow-y-auto bg-gradient-to-br from-gray-50 via-white to-gray-50",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto space-y-4",children:["personal"===s&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[aI({icon:E.User,title:"Basic Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[aH({label:"Full Name",field:"name",required:!0,icon:E.User}),aH({label:"Employee ID",field:"employee_id",icon:J.Hash,disabled:!0}),aH({label:"Date of Birth",field:"dob",type:"date",icon:I.Calendar}),aH({label:"Gender",field:"gender",options:["male","female","other"],icon:E.User}),aH({label:"Marital Status",field:"marital_status",options:["Single","Married","Divorced","Widowed"],icon:W.Heart}),aH({label:"Nationality",field:"nationality",icon:_.Globe}),aH({label:"Blood Group",field:"blood_group",options:["A+","A-","B+","B-","AB+","AB-","O+","O-"],icon:aa.Droplet})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[aI({icon:k.Phone,title:"Contact Information",color:"from-green-500 to-emerald-600"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[aH({label:"Primary Phone",field:"phone_number",required:!0,icon:k.Phone,placeholder:"10 digit phone number"}),aH({label:"Secondary Phone",field:"secondary_phone_number",icon:k.Phone,placeholder:"10 digit phone number"}),(0,b.jsx)("div",{className:"md:col-span-2",children:aH({label:"Email Address",field:"email",type:"email",required:!0,icon:l.Mail})})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[aI({icon:ab.Home,title:"Permanent Address",color:"from-orange-500 to-red-600"}),aJ("permanent_address")]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[aI({icon:m.MapPin,title:"Current Address",color:"from-teal-500 to-cyan-600"}),(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:n.same_as_permanent,onChange:a=>aA("same_as_permanent",a.target.checked),className:"w-4 h-4 rounded border-gray-300 text-cyan-600 focus:ring-cyan-500"}),(0,b.jsx)("span",{className:"text-xs text-gray-600",children:"Same as permanent address"})]})]}),!n.same_as_permanent&&aJ("current_address"),n.same_as_permanent&&(0,b.jsx)("p",{className:"text-sm text-gray-500 italic",children:"Current address is same as permanent address"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[aI({icon:H.Image,title:"Profile Photo",color:"from-purple-500 to-pink-600"}),(h=n.photo,(0,b.jsx)(aq,{currentImage:h,onImageChange:a=>aA("photo",a),onImageRemove:()=>aA("photo","")}))]})]}),"employment"===s&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[aI({icon:F.Briefcase,title:"Employment Details"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[aH({label:"Designation",field:"designation",options:[{value:"picker",label:"Picker"},{value:"packer",label:"Packer"},{value:"loader",label:"Loader"},{value:"forklift_operator",label:"Forklift Operator"},{value:"inventory_clerk",label:"Inventory Clerk"},{value:"quality_checker",label:"Quality Checker"},{value:"receiving_clerk",label:"Receiving Clerk"},{value:"shipping_clerk",label:"Shipping Clerk"},{value:"warehouse_associate",label:"Warehouse Associate"},{value:"material_handler",label:"Material Handler"}],icon:D.Wrench}),aH({label:"Employment Type",field:"employment_type",options:["Full-Time","Part-Time","Contract","Temporary","Daily Wage"],icon:Z.FileCheck}),aH({label:"Employment Status",field:"employment_status",options:["Active","On Leave","Terminated","Resigned"],icon:$.Activity}),aH({label:"Date of Joining",field:"date_of_joining",type:"date",icon:I.Calendar}),aH({label:"Shift Type",field:"shift_type",options:[{value:"morning",label:"Morning (6 AM - 2 PM)"},{value:"afternoon",label:"Afternoon (2 PM - 10 PM)"},{value:"night",label:"Night (10 PM - 6 AM)"},{value:"rotating",label:"Rotating Shifts"},{value:"flexible",label:"Flexible"}],icon:O.Clock}),aH({label:"Total Experience (Years)",field:"total_experience_years",type:"number",icon:O.Clock})]}),(0,b.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-100 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,b.jsxs)("label",{className:"text-xs font-medium text-gray-700 flex items-center gap-1.5",children:[(0,b.jsx)($.Activity,{className:"w-3.5 h-3.5 text-gray-400"}),"Active Status"]}),(0,b.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:n.is_active,onChange:a=>aA("is_active",a.target.checked),className:"sr-only peer"}),(0,b.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-cyan-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-cyan-600"})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,b.jsxs)("label",{className:"text-xs font-medium text-gray-700 flex items-center gap-1.5",children:[(0,b.jsx)(C,{className:"w-3.5 h-3.5 text-gray-400"}),"On Duty"]}),(0,b.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:n.is_on_duty,onChange:a=>aA("is_on_duty",a.target.checked),className:"sr-only peer"}),(0,b.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-orange-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"})]})]})]}),n.supervisor_name&&(0,b.jsx)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-100",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-blue-800",children:[(0,b.jsx)(o.UserCog,{className:"w-4 h-4"}),(0,b.jsxs)("span",{children:["Reports to: ",(0,b.jsx)("strong",{children:n.supervisor_name})]})]})})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[aI({icon:ad.History,title:"Work Experience",color:"from-violet-500 to-purple-600"}),(0,b.jsxs)("button",{onClick:()=>aC("experience",{companyName:"",title:"",startDate:"",endDate:"",responsibilities:"",lastDrawnSalary:0}),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-cyan-600 hover:bg-cyan-50 rounded-lg transition-colors",children:[(0,b.jsx)(e.Plus,{className:"w-3.5 h-3.5"}),"Add Experience"]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[n.experience?.map((a,c)=>(0,b.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:["Experience #",c+1]}),(0,b.jsx)("button",{onClick:()=>aD("experience",c),className:"p-1 text-red-500 hover:bg-red-50 rounded transition-colors",children:(0,b.jsx)(ak.Trash2,{className:"w-4 h-4"})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Company Name"}),(0,b.jsx)("input",{type:"text",value:a.companyName||"",onChange:a=>aB("experience",c,"companyName",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500"})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Job Title"}),(0,b.jsx)("input",{type:"text",value:a.title||"",onChange:a=>aB("experience",c,"title",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500"})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Start Date"}),(0,b.jsx)("input",{type:"date",value:az(a.startDate),onChange:a=>aB("experience",c,"startDate",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500"})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"End Date"}),(0,b.jsx)("input",{type:"date",value:az(a.endDate),onChange:a=>aB("experience",c,"endDate",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500"})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Last Drawn Salary"}),(0,b.jsx)("input",{type:"number",value:a.lastDrawnSalary||"",onChange:a=>aB("experience",c,"lastDrawnSalary",Number(a.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500"})]}),(0,b.jsxs)("div",{className:"md:col-span-2 space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Responsibilities"}),(0,b.jsx)("textarea",{value:a.responsibilities||"",onChange:a=>aB("experience",c,"responsibilities",a.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 resize-none"})]})]})]},c)),(!n.experience||0===n.experience.length)&&(0,b.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No work experience added"})]})]})]}),"documents"===s&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[aI({icon:U.CreditCard,title:"Government IDs"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[aH({label:"PAN Number",field:"pan_number",nestedPath:"govt_ids.pan_number",icon:U.CreditCard}),aH({label:"Aadhaar Number",field:"aadhaar_number",nestedPath:"govt_ids.aadhaar_number",icon:U.CreditCard}),aH({label:"Passport Number",field:"passport_number",nestedPath:"govt_ids.passport_number",icon:G.FileText}),aH({label:"Passport Expiry",field:"passport_expiry",nestedPath:"govt_ids.passport_expiry",type:"date",icon:I.Calendar}),aH({label:"PF Number",field:"pf_number",nestedPath:"govt_ids.pf_number",icon:G.FileText}),aH({label:"ESI Number",field:"esi_number",nestedPath:"govt_ids.esi_number",icon:G.FileText}),aH({label:"Tax Status",field:"tax_status",nestedPath:"govt_ids.tax_status",icon:G.FileText})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[aI({icon:V.GraduationCap,title:"Education",color:"from-blue-500 to-indigo-600"}),(0,b.jsxs)("button",{onClick:()=>aC("education",{qualification:"",institution:"",boardOrUniversity:"",yearOfPassing:"",percentageOrCgpa:"",certificateUrl:""}),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-cyan-600 hover:bg-cyan-50 rounded-lg transition-colors",children:[(0,b.jsx)(e.Plus,{className:"w-3.5 h-3.5"}),"Add Education"]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[n.education?.map((a,c)=>(0,b.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:["Education #",c+1]}),(0,b.jsx)("button",{onClick:()=>aD("education",c),className:"p-1 text-red-500 hover:bg-red-50 rounded transition-colors",children:(0,b.jsx)(ak.Trash2,{className:"w-4 h-4"})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Qualification"}),(0,b.jsx)("input",{type:"text",value:a.qualification||"",onChange:a=>aB("education",c,"qualification",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500"})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Institution"}),(0,b.jsx)("input",{type:"text",value:a.institution||"",onChange:a=>aB("education",c,"institution",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500"})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Board/University"}),(0,b.jsx)("input",{type:"text",value:a.boardOrUniversity||"",onChange:a=>aB("education",c,"boardOrUniversity",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500"})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Year of Passing"}),(0,b.jsx)("input",{type:"number",value:a.yearOfPassing||"",onChange:a=>aB("education",c,"yearOfPassing",Number(a.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500"})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Percentage/CGPA"}),(0,b.jsx)("input",{type:"text",value:a.percentageOrCgpa||"",onChange:a=>aB("education",c,"percentageOrCgpa",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500"})]})]})]},c)),(!n.education||0===n.education.length)&&(0,b.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No education records added"})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[aI({icon:ac.Award,title:"Certifications",color:"from-amber-500 to-orange-600"}),(0,b.jsxs)("button",{onClick:()=>aC("certifications",{title:"",issuer:"",issueDate:"",expiryDate:"",credentialUrl:""}),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-cyan-600 hover:bg-cyan-50 rounded-lg transition-colors",children:[(0,b.jsx)(e.Plus,{className:"w-3.5 h-3.5"}),"Add Certification"]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[n.certifications?.map((a,c)=>(0,b.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:["Certification #",c+1]}),(0,b.jsx)("button",{onClick:()=>aD("certifications",c),className:"p-1 text-red-500 hover:bg-red-50 rounded transition-colors",children:(0,b.jsx)(ak.Trash2,{className:"w-4 h-4"})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Title"}),(0,b.jsx)("input",{type:"text",value:a.title||"",onChange:a=>aB("certifications",c,"title",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500"})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Issuer"}),(0,b.jsx)("input",{type:"text",value:a.issuer||"",onChange:a=>aB("certifications",c,"issuer",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500"})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Issue Date"}),(0,b.jsx)("input",{type:"date",value:az(a.issueDate),onChange:a=>aB("certifications",c,"issueDate",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500"})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Expiry Date"}),(0,b.jsx)("input",{type:"date",value:az(a.expiryDate),onChange:a=>aB("certifications",c,"expiryDate",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500"})]})]})]},c)),(!n.certifications||0===n.certifications.length)&&(0,b.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No certifications added"})]})]})]}),"finance"===s&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[aI({icon:Y.Wallet,title:"Salary Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[aH({label:"Monthly Salary (₹)",field:"salary",type:"number",icon:Y.Wallet}),aH({label:"Hourly Rate (₹)",field:"hourly_rate",type:"number",icon:O.Clock,placeholder:"For part-time/hourly workers"})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[aI({icon:K.Landmark,title:"Bank Account Details",color:"from-green-500 to-emerald-600"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[aH({label:"Account Holder Name",field:"account_holder",nestedPath:"bank_details.account_holder",icon:E.User}),aH({label:"Account Number",field:"account_number",nestedPath:"bank_details.account_number",icon:U.CreditCard}),aH({label:"Bank Name",field:"bank_name",nestedPath:"bank_details.bank_name",icon:K.Landmark}),aH({label:"Branch Name",field:"branch_name",nestedPath:"bank_details.branch_name",icon:m.MapPin}),aH({label:"IFSC Code",field:"ifsc_code",nestedPath:"bank_details.ifsc_code",icon:J.Hash}),aH({label:"UPI ID",field:"upi_id",nestedPath:"bank_details.upi_id",icon:U.CreditCard})]})]})]}),"additional"===s&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[aI({icon:ae.PhoneCall,title:"Emergency Contacts",color:"from-red-500 to-rose-600"}),(0,b.jsxs)("button",{onClick:()=>aC("emergency_contacts",{name:"",relationship:"",phone:"",alternatePhone:"",address:""}),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-cyan-600 hover:bg-cyan-50 rounded-lg transition-colors",children:[(0,b.jsx)(e.Plus,{className:"w-3.5 h-3.5"}),"Add Contact"]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[n.emergency_contacts?.map((a,c)=>(0,b.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:["Contact #",c+1]}),(0,b.jsx)("button",{onClick:()=>aD("emergency_contacts",c),className:"p-1 text-red-500 hover:bg-red-50 rounded transition-colors",children:(0,b.jsx)(ak.Trash2,{className:"w-4 h-4"})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Name"}),(0,b.jsx)("input",{type:"text",value:a.name||"",onChange:a=>aB("emergency_contacts",c,"name",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500"})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Relationship"}),(0,b.jsxs)("select",{value:a.relationship||"",onChange:a=>aB("emergency_contacts",c,"relationship",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500",children:[(0,b.jsx)("option",{value:"",children:"Select"}),(0,b.jsx)("option",{value:"Spouse",children:"Spouse"}),(0,b.jsx)("option",{value:"Parent",children:"Parent"}),(0,b.jsx)("option",{value:"Sibling",children:"Sibling"}),(0,b.jsx)("option",{value:"Child",children:"Child"}),(0,b.jsx)("option",{value:"Friend",children:"Friend"}),(0,b.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Phone"}),(0,b.jsx)("input",{type:"tel",value:a.phone||"",onChange:a=>aB("emergency_contacts",c,"phone",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500"})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Alternate Phone"}),(0,b.jsx)("input",{type:"tel",value:a.alternatePhone||"",onChange:a=>aB("emergency_contacts",c,"alternatePhone",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500"})]}),(0,b.jsxs)("div",{className:"md:col-span-2 space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Address"}),(0,b.jsx)("textarea",{value:a.address||"",onChange:a=>aB("emergency_contacts",c,"address",a.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 resize-none"})]})]})]},c)),(!n.emergency_contacts||0===n.emergency_contacts.length)&&(0,b.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No emergency contacts added"})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[aI({icon:$.Activity,title:"Medical & HR Information",color:"from-pink-500 to-rose-600"}),(0,b.jsxs)("div",{className:"space-y-4",children:[aH({label:"Medical Conditions",field:"medical_conditions",type:"textarea",icon:$.Activity,placeholder:"List any medical conditions or allergies..."}),aH({label:"Background Check Status",field:"background_check_status",options:["Pending","In Progress","Passed","Failed"],icon:ai.ShieldCheck}),aH({label:"HR Notes",field:"hr_notes",type:"textarea",icon:G.FileText,placeholder:"Internal HR notes..."})]})]})]})]})}),(0,b.jsx)("div",{className:"border-t border-gray-200 bg-gradient-to-r from-gray-50 via-white to-gray-50 px-5 py-3 flex-shrink-0",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[x&&(0,b.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-amber-100 rounded-lg",children:[(0,b.jsx)(A.AlertCircle,{className:"w-3.5 h-3.5 text-amber-600"}),(0,b.jsxs)("span",{className:"text-xs font-medium text-amber-800",children:[B.size," unsaved change",1!==B.size?"s":""]})]}),(0,b.jsxs)("button",{onClick:()=>{p(JSON.parse(JSON.stringify(q))),L(new Set),y(!1),w({}),T({})},disabled:!x,className:`flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-lg transition-colors ${x?"text-gray-600 hover:bg-gray-100":"text-gray-400 cursor-not-allowed"}`,children:[(0,b.jsx)(z.RefreshCw,{className:"w-3.5 h-3.5"}),"Reset Changes"]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:aF,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-all duration-300 font-medium text-sm",children:"Cancel"}),(0,b.jsx)("button",{onClick:ay,disabled:!x||Object.keys(v).length>0||ar,className:`group px-5 py-2 bg-gradient-to-r from-cyan-600 via-blue-600 to-indigo-600 text-white rounded-lg hover:shadow-lg transition-all duration-300 font-medium text-sm flex items-center gap-2 ${!x||Object.keys(v).length>0||ar?"opacity-50 cursor-not-allowed":"transform hover:scale-105"}`,children:ar?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(X.Loader2,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ah.Save,{className:"w-4 h-4"}),"Save Changes",x&&(0,b.jsx)("span",{className:"ml-1 px-2 py-0.5 bg-white/20 rounded-full text-xs",children:B.size})]})})]})]})})]})}),(0,b.jsx)(()=>M?(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[70] p-4",children:(0,b.jsx)("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:(0,b.jsxs)("div",{className:"p-5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:"p-2 bg-amber-100 rounded-lg",children:(0,b.jsx)(al.AlertTriangle,{className:"w-5 h-5 text-amber-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Unsaved Changes"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"You have unsaved changes. Are you sure you want to discard them?"})]})]}),(0,b.jsxs)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[(0,b.jsxs)("p",{className:"text-xs font-medium text-gray-700 mb-2",children:["Modified fields (",B.size,"):"]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1 max-h-24 overflow-y-auto",children:Array.from(B).map(a=>(0,b.jsx)("span",{className:"px-2 py-1 bg-white text-xs rounded border border-gray-200",children:a.replace(/_/g," ").replace(/\./g," → ")},a))})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 mt-5",children:[(0,b.jsx)("button",{onClick:()=>N(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:()=>{N(!1),d()},className:"px-4 py-2 text-sm font-medium bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Discard Changes"})]})]})})}):null,{})]})};a.s(["default",0,()=>{let[a,E]=(0,c.useState)([]),[F,G]=(0,c.useState)(!0),[H,I]=(0,c.useState)(null),[J,K]=(0,c.useState)(!1),[L,M]=(0,c.useState)(!1),[N,O]=(0,c.useState)(null),[P,Q]=(0,c.useState)(""),[R,S]=(0,c.useState)("all"),[T,U]=(0,c.useState)("all"),[V,W]=(0,c.useState)("table"),[X,Y]=(0,c.useState)(!1),[Z,$]=(0,c.useState)(!1),[_,aa]=(0,c.useState)(1);(0,c.useEffect)(()=>{ab()},[]);let ab=async()=>{G(!0),I(null);try{let a=await fetch(`${af.default}/warehouse/allstaff`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),b=await a.json();b.success?E(b.data||[]):I(b.message||"Failed to fetch staff")}catch(a){I("Failed to fetch staff. Please try again."),console.error("Error fetching staff:",a)}finally{G(!1)}},ac=a=>{O(a),K(!0)},ad=a=>{O(a),M(!0)},ae=a.filter(a=>{let b=a.name?.toLowerCase().includes(P.toLowerCase())||a.employee_id?.toLowerCase().includes(P.toLowerCase())||a.phone?.includes(P)||a.email?.toLowerCase().includes(P.toLowerCase())||a.warehouse_name?.toLowerCase().includes(P.toLowerCase())||a.warehouse_location?.toLowerCase().includes(P.toLowerCase())||a.designation?.toLowerCase().includes(P.toLowerCase()),c="all"===R||"active"===R&&a.is_active||"inactive"===R&&!a.is_active||"on_duty"===R&&a.is_on_duty||"off_duty"===R&&!a.is_on_duty,d="all"===T||a.designation?.toLowerCase()===T.toLowerCase();return b&&c&&d}),ah=Math.ceil(ae.length/10),ai=ae.slice((_-1)*10,10*_),aj=[...new Set(a.map(a=>a.designation).filter(Boolean))],ak=[{label:"Total Staff",value:a.length,icon:q.Users,color:"from-blue-500 to-cyan-600",bgColor:"bg-blue-50",change:`${a.length}`,trend:"neutral"},{label:"Active",value:a.filter(a=>a.is_active).length,icon:j.CheckCircle2,color:"from-green-500 to-emerald-600",bgColor:"bg-green-50",change:`${Math.round(a.filter(a=>a.is_active).length/a.length*100)||0}%`,trend:"up"},{label:"On Duty",value:a.filter(a=>a.is_on_duty).length,icon:C,color:"from-orange-500 to-amber-600",bgColor:"bg-orange-50",change:`${a.filter(a=>a.is_on_duty).length}`,trend:"up"},{label:"Available",value:a.filter(a=>!a.is_on_duty&&a.is_active).length,icon:B.UserCheck,color:"from-teal-500 to-cyan-600",bgColor:"bg-teal-50",change:`${a.filter(a=>!a.is_on_duty&&a.is_active).length}`,trend:"neutral"}],al=(a,b)=>a?b?{label:"On Duty",bgColor:"bg-orange-100",textColor:"text-orange-700",dotColor:"bg-orange-500"}:{label:"Available",bgColor:"bg-green-100",textColor:"text-green-700",dotColor:"bg-green-500"}:{label:"Inactive",bgColor:"bg-gray-100",textColor:"text-gray-700",dotColor:"bg-gray-400"},am=a=>{let b={picker:"bg-blue-100 text-blue-700",packer:"bg-purple-100 text-purple-700",loader:"bg-amber-100 text-amber-700",forklift_operator:"bg-red-100 text-red-700",inventory_clerk:"bg-cyan-100 text-cyan-700",quality_checker:"bg-green-100 text-green-700",default:"bg-gray-100 text-gray-700"};return b[a?.toLowerCase()]||b.default},an=({staffMember:a})=>{let c=al(a.is_active,a.is_on_duty),d=am(a.designation);return(0,b.jsxs)("div",{className:"bg-white rounded-xl p-4 sm:p-5 shadow-sm border border-gray-100 hover:shadow-xl hover:border-cyan-200 transition-all duration-300 group",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-xl overflow-hidden shadow-md group-hover:shadow-lg transition-shadow",children:(0,b.jsx)("img",{src:a.photo,alt:a.name,className:"w-full h-full object-cover",onError:b=>{b.target.src=`https://ui-avatars.com/api/?name=${a.name}&background=random&size=256`}})}),(0,b.jsx)("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white ${a.is_active?"bg-green-500":"bg-gray-400"}`})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"font-semibold text-gray-900 flex items-center gap-2 text-sm sm:text-base",children:[a.name,a.is_active&&a.is_on_duty&&(0,b.jsx)(C,{className:"w-4 h-4 text-orange-500"})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 font-mono",children:a.employee_id})]})]}),(0,b.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-semibold ${c.bgColor} ${c.textColor}`,children:[(0,b.jsx)("span",{className:`w-1.5 h-1.5 rounded-full ${c.dotColor} animate-pulse`}),c.label]})]}),a.designation&&(0,b.jsx)("div",{className:"mb-3",children:(0,b.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-medium ${d}`,children:[(0,b.jsx)(D.Wrench,{className:"w-3 h-3"}),a.designation.replace(/_/g," ").replace(/\b\w/g,a=>a.toUpperCase())]})}),(0,b.jsxs)("div",{className:"bg-gradient-to-r from-cyan-50 to-blue-50 rounded-lg p-3 mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)(p.Building2,{className:"w-4 h-4 text-cyan-600"}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-800",children:a.warehouse_name||"Not Assigned"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-600",children:[(0,b.jsx)(m.MapPin,{className:"w-3 h-3"}),a.warehouse_location||"N/A"]})]}),(0,b.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,b.jsx)("div",{className:"p-1.5 bg-gray-100 rounded-lg",children:(0,b.jsx)(k.Phone,{className:"w-3.5 h-3.5 text-gray-500"})}),(0,b.jsx)("span",{className:"truncate",children:a.phone})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,b.jsx)("div",{className:"p-1.5 bg-gray-100 rounded-lg",children:(0,b.jsx)(l.Mail,{className:"w-3.5 h-3.5 text-gray-500"})}),(0,b.jsx)("span",{className:"truncate text-xs",children:a.email})]})]}),a.supervisor_name&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500 mb-4 pb-3 border-b border-gray-100",children:[(0,b.jsx)(o.UserCog,{className:"w-3.5 h-3.5"}),(0,b.jsxs)("span",{children:["Reports to: ",(0,b.jsx)("span",{className:"font-medium text-gray-700",children:a.supervisor_name})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 pt-3 border-t border-gray-100",children:[(0,b.jsxs)("button",{onClick:()=>ac(a),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2.5 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-all duration-200 text-sm font-medium group-hover:shadow-sm",children:[(0,b.jsx)(h.Eye,{className:"w-4 h-4"}),"View"]}),(0,b.jsxs)("button",{onClick:()=>ad(a),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2.5 bg-gradient-to-r from-cyan-500 to-blue-600 text-white rounded-xl hover:shadow-lg hover:shadow-cyan-200 transition-all duration-200 text-sm font-medium",children:[(0,b.jsx)(i.Edit3,{className:"w-4 h-4"}),"Edit"]})]})]})};return F?(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"w-16 h-16 border-4 border-cyan-200 rounded-full animate-spin border-t-cyan-600 mx-auto"}),(0,b.jsx)(q.Users,{className:"w-6 h-6 text-cyan-600 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"})]}),(0,b.jsx)("p",{className:"mt-4 text-gray-600 font-medium",children:"Loading staff..."})]})}):H&&0===a.length?(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100 flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(A.AlertCircle,{className:"w-8 h-8 text-red-600"})}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Failed to Load Staff"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:H}),(0,b.jsxs)("button",{onClick:ab,className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-cyan-600 to-blue-600 text-white rounded-xl hover:shadow-lg transition-all font-medium",children:[(0,b.jsx)(z.RefreshCw,{className:"w-4 h-4"}),"Try Again"]})]})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100 p-3 sm:p-4 lg:p-6 space-y-4 sm:space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[(0,b.jsxs)("div",{className:"w-full sm:w-auto",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 mb-2",children:[(0,b.jsx)("div",{className:"p-2 sm:p-2.5 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-lg sm:rounded-xl shadow-lg shadow-cyan-200",children:(0,b.jsx)(q.Users,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),(0,b.jsx)("h1",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 bg-clip-text text-transparent",children:"Staff Management"}),(0,b.jsx)(n.Sparkles,{className:"w-4 h-4 sm:w-5 sm:h-5 text-amber-500 animate-pulse"})]}),(0,b.jsx)("p",{className:"text-gray-500 text-xs sm:text-sm ml-0 sm:ml-14",children:"Manage and monitor all warehouse staff members"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 w-full sm:w-auto",children:[(0,b.jsx)("button",{onClick:()=>Y(!X),className:"sm:hidden p-2 bg-white border border-gray-200 rounded-lg",children:(0,b.jsx)(t.Menu,{className:"w-5 h-5 text-gray-600"})}),(0,b.jsxs)("button",{onClick:ab,className:"flex items-center justify-center gap-2 px-3 sm:px-4 py-2 sm:py-2.5 bg-white border border-gray-200 rounded-lg sm:rounded-xl hover:bg-gray-50 hover:border-gray-300 transition-all duration-200 text-gray-600 text-xs sm:text-sm font-medium shadow-sm",children:[(0,b.jsx)(z.RefreshCw,{className:`w-4 h-4 ${F?"animate-spin":""}`}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Refresh"})]}),(0,b.jsxs)("button",{className:"flex items-center justify-center gap-2 px-3 sm:px-4 py-2 sm:py-2.5 bg-white border border-gray-200 rounded-lg sm:rounded-xl hover:bg-gray-50 hover:border-gray-300 transition-all duration-200 text-gray-600 text-xs sm:text-sm font-medium shadow-sm flex-1 sm:flex-initial",children:[(0,b.jsx)(g.Download,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Export"})]}),(0,b.jsxs)("button",{className:"flex items-center justify-center gap-2 px-3 sm:px-5 py-2 sm:py-2.5 bg-gradient-to-r from-cyan-600 to-blue-600 text-white rounded-lg sm:rounded-xl hover:shadow-lg hover:shadow-cyan-200 transition-all duration-300 text-xs sm:text-sm font-semibold flex-1 sm:flex-initial",children:[(0,b.jsx)(e.Plus,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:"Add Staff"})]})]})]}),X&&(0,b.jsxs)("div",{className:"sm:hidden bg-white rounded-xl shadow-lg border border-gray-100 p-4 space-y-3 animate-in slide-in-from-top duration-200",children:[(0,b.jsxs)("button",{onClick:()=>{$(!Z),Y(!1)},className:"w-full flex items-center justify-between px-3 py-2 bg-gray-50 rounded-lg text-sm font-medium text-gray-700",children:[(0,b.jsxs)("span",{className:"flex items-center gap-2",children:[(0,b.jsx)(f.Filter,{className:"w-4 h-4"}),"Filters"]}),(0,b.jsx)(s.ChevronRight,{className:"w-4 h-4"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"View Type"}),(0,b.jsxs)("div",{className:"flex gap-1 bg-gray-100 p-1 rounded-lg",children:[(0,b.jsx)("button",{onClick:()=>W("table"),className:`p-1.5 rounded ${"table"===V?"bg-white shadow-sm":""}`,children:(0,b.jsx)(w.List,{className:"w-4 h-4 text-gray-600"})}),(0,b.jsx)("button",{onClick:()=>W("grid"),className:`p-1.5 rounded ${"grid"===V?"bg-white shadow-sm":""}`,children:(0,b.jsx)(v.Grid3x3,{className:"w-4 h-4 text-gray-600"})})]})]})]}),(0,b.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:ak.map((a,c)=>(0,b.jsxs)("div",{className:"bg-white rounded-lg sm:rounded-2xl p-3 sm:p-5 shadow-sm border border-gray-100 hover:shadow-lg hover:border-gray-200 transition-all duration-300 group relative overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute top-0 right-0 w-20 sm:w-32 h-20 sm:h-32 bg-gradient-to-br from-gray-50 to-transparent rounded-full -translate-y-8 sm:-translate-y-16 translate-x-8 sm:translate-x-16 group-hover:scale-150 transition-transform duration-500"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-2 sm:mb-3",children:[(0,b.jsx)("div",{className:`p-2 sm:p-3 bg-gradient-to-br ${a.color} rounded-lg sm:rounded-xl shadow-lg group-hover:scale-110 group-hover:rotate-3 transition-all duration-300`,children:(0,b.jsx)(a.icon,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),(0,b.jsxs)("div",{className:`flex items-center gap-1 text-xs ${"up"===a.trend?"text-green-600":"down"===a.trend?"text-red-600":"text-gray-500"}`,children:["up"===a.trend&&(0,b.jsx)(x.ArrowUpRight,{className:"w-3 h-3"}),"down"===a.trend&&(0,b.jsx)(y.ArrowDownRight,{className:"w-3 h-3"}),(0,b.jsx)("span",{className:"font-medium",children:a.change})]})]}),(0,b.jsx)("p",{className:"text-[10px] sm:text-xs font-medium text-gray-500 uppercase tracking-wider mb-1",children:a.label}),(0,b.jsx)("p",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:a.value})]})]},c))}),(0,b.jsxs)("div",{className:"bg-white rounded-lg sm:rounded-2xl shadow-sm border border-gray-100 p-3 sm:p-4",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-4",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(d.Search,{className:"w-4 h-4 absolute left-3 sm:left-4 top-1/2 -translate-y-1/2 text-gray-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search by name, ID, phone, email, warehouse, designation...",value:P,onChange:a=>Q(a.target.value),className:"w-full pl-9 sm:pl-11 pr-3 sm:pr-4 py-2 sm:py-2.5 bg-gray-50 border border-gray-200 rounded-lg sm:rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent focus:bg-white transition-all duration-200 text-sm"})]}),(0,b.jsx)("div",{className:"hidden sm:flex items-center gap-2",children:["all","active","inactive","on_duty","off_duty"].map(a=>(0,b.jsx)("button",{onClick:()=>S(a),className:`px-3 py-2 text-xs font-medium rounded-lg capitalize transition-all duration-200 ${R===a?"bg-cyan-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:a.replace(/_/g," ")},a))}),aj.length>0&&(0,b.jsx)("div",{className:"hidden lg:block",children:(0,b.jsxs)("select",{value:T,onChange:a=>U(a.target.value),className:"px-3 py-2 text-xs font-medium rounded-lg border border-gray-200 bg-gray-50 focus:ring-2 focus:ring-cyan-500 focus:border-transparent",children:[(0,b.jsx)("option",{value:"all",children:"All Roles"}),aj.map(a=>(0,b.jsx)("option",{value:a,children:a.replace(/_/g," ").replace(/\b\w/g,a=>a.toUpperCase())},a))]})}),(0,b.jsxs)("button",{onClick:()=>$(!Z),className:"sm:hidden flex items-center justify-center gap-2 px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-gray-600 text-sm font-medium",children:[(0,b.jsx)(f.Filter,{className:"w-4 h-4"}),"Filters",("all"!==R||"all"!==T)&&(0,b.jsx)("span",{className:"w-2 h-2 rounded-full bg-cyan-500"})]}),(0,b.jsxs)("div",{className:"hidden lg:flex gap-1 bg-gray-100 p-1 rounded-lg",children:[(0,b.jsx)("button",{onClick:()=>W("table"),className:`p-1.5 rounded transition-all ${"table"===V?"bg-white shadow-sm text-cyan-600":"text-gray-600"}`,title:"Table View",children:(0,b.jsx)(w.List,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>W("grid"),className:`p-1.5 rounded transition-all ${"grid"===V?"bg-white shadow-sm text-cyan-600":"text-gray-600"}`,title:"Grid View",children:(0,b.jsx)(v.Grid3x3,{className:"w-4 h-4"})})]})]}),Z&&(0,b.jsxs)("div",{className:"sm:hidden mt-3 pt-3 border-t border-gray-100 animate-in slide-in-from-top duration-200 space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("span",{className:"text-xs text-gray-500 font-medium",children:"Filter by status:"}),(0,b.jsx)("button",{onClick:()=>$(!1),className:"p-1 hover:bg-gray-100 rounded",children:(0,b.jsx)(u.X,{className:"w-4 h-4 text-gray-400"})})]}),(0,b.jsx)("div",{className:"flex gap-2 flex-wrap",children:["all","active","inactive","on_duty","off_duty"].map(a=>(0,b.jsx)("button",{onClick:()=>{S(a)},className:`px-3 py-1.5 text-xs font-medium rounded-lg capitalize transition-all duration-200 ${R===a?"bg-cyan-600 text-white":"bg-gray-100 text-gray-600"}`,children:a.replace(/_/g," ")},a))}),aj.length>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"text-xs text-gray-500 font-medium mt-2",children:"Filter by role:"}),(0,b.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,b.jsx)("button",{onClick:()=>U("all"),className:`px-3 py-1.5 text-xs font-medium rounded-lg transition-all duration-200 ${"all"===T?"bg-cyan-600 text-white":"bg-gray-100 text-gray-600"}`,children:"All Roles"}),aj.map(a=>(0,b.jsx)("button",{onClick:()=>U(a),className:`px-3 py-1.5 text-xs font-medium rounded-lg transition-all duration-200 ${T===a?"bg-cyan-600 text-white":"bg-gray-100 text-gray-600"}`,children:a.replace(/_/g," ").replace(/\b\w/g,a=>a.toUpperCase())},a))]})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:["Showing"," ",(0,b.jsx)("span",{className:"font-semibold text-gray-700",children:ai.length})," ","of"," ",(0,b.jsx)("span",{className:"font-semibold text-gray-700",children:ae.length})," ","staff members"]}),("all"!==R||"all"!==T)&&(0,b.jsxs)("button",{onClick:()=>{S("all"),U("all")},className:"text-xs text-cyan-600 hover:text-cyan-700 font-medium flex items-center gap-1",children:["Clear filters",(0,b.jsx)(u.X,{className:"w-3 h-3"})]})]}),"table"===V&&(0,b.jsxs)("div",{className:"hidden lg:block bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200",children:[(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Staff Member"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Designation"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Warehouse"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Contact"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-100",children:ai.map(a=>{let c=al(a.is_active,a.is_on_duty),d=am(a.designation);return(0,b.jsxs)("tr",{className:"hover:bg-gradient-to-r hover:from-cyan-50/30 hover:to-white transition-all duration-200 group",children:[(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"w-11 h-11 rounded-xl overflow-hidden shadow-md group-hover:shadow-lg transition-all duration-200",children:(0,b.jsx)("img",{src:a.photo,alt:a.name,className:"w-full h-full object-cover",onError:b=>{b.target.src=`https://ui-avatars.com/api/?name=${a.name}&background=random&size=256`}})}),(0,b.jsx)("div",{className:`absolute -bottom-0.5 -right-0.5 w-3.5 h-3.5 rounded-full border-2 border-white ${a.is_active?"bg-green-500":"bg-gray-400"}`})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"font-semibold text-gray-900 text-sm flex items-center gap-2",children:[a.name,a.is_active&&a.is_on_duty&&(0,b.jsx)(C,{className:"w-4 h-4 text-orange-500"})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 font-mono",children:a.employee_id})]})]})}),(0,b.jsx)("td",{className:"px-6 py-4",children:a.designation?(0,b.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-medium ${d}`,children:[(0,b.jsx)(D.Wrench,{className:"w-3 h-3"}),a.designation.replace(/_/g," ").replace(/\b\w/g,a=>a.toUpperCase())]}):(0,b.jsx)("span",{className:"text-xs text-gray-400",children:"Not Assigned"})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"p-2 bg-cyan-50 rounded-lg",children:(0,b.jsx)(p.Building2,{className:"w-4 h-4 text-cyan-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900",children:a.warehouse_name||"Not Assigned"}),(0,b.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[(0,b.jsx)(m.MapPin,{className:"w-3 h-3"}),a.warehouse_location||"N/A"]})]})]})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,b.jsx)(k.Phone,{className:"w-3.5 h-3.5 text-gray-400"}),a.phone]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[(0,b.jsx)(l.Mail,{className:"w-3 h-3 text-gray-400"}),a.email]})]})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-semibold ${c.bgColor} ${c.textColor}`,children:[(0,b.jsx)("span",{className:`w-1.5 h-1.5 rounded-full ${c.dotColor} animate-pulse`}),c.label]}),a.supervisor_name&&(0,b.jsxs)("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[(0,b.jsx)(o.UserCog,{className:"w-3 h-3"}),a.supervisor_name]})]})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,b.jsxs)("button",{onClick:()=>ac(a),className:"flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-all duration-200 text-xs font-semibold",children:[(0,b.jsx)(h.Eye,{className:"w-3.5 h-3.5"}),"View"]}),(0,b.jsxs)("button",{onClick:()=>ad(a),className:"flex items-center gap-1.5 px-3 py-1.5 bg-gradient-to-r from-cyan-500 to-blue-500 text-white rounded-lg hover:shadow-md hover:shadow-cyan-200 transition-all duration-200 text-xs font-semibold",children:[(0,b.jsx)(i.Edit3,{className:"w-3.5 h-3.5"}),"Edit"]})]})})]},a._id)})})]})}),ah>1&&(0,b.jsxs)("div",{className:"px-6 py-4 bg-gradient-to-r from-gray-50 to-white border-t border-gray-100 flex items-center justify-between",children:[(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:["Page"," ",(0,b.jsx)("span",{className:"font-semibold text-gray-700",children:_})," ","of"," ",(0,b.jsx)("span",{className:"font-semibold text-gray-700",children:ah})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>aa(a=>Math.max(1,a-1)),disabled:1===_,className:"px-3 py-1.5 text-sm font-medium text-gray-600 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:Math.min(5,ah)},(a,c)=>{let d;return d=ah<=5||_<=3?c+1:_>=ah-2?ah-4+c:_-2+c,(0,b.jsx)("button",{onClick:()=>aa(d),className:`px-3 py-1.5 text-sm font-medium rounded-lg transition-colors ${_===d?"bg-cyan-600 text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,children:d},d)}),(0,b.jsx)("button",{onClick:()=>aa(a=>Math.min(ah,a+1)),disabled:_===ah,className:"px-3 py-1.5 text-sm font-medium text-gray-600 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),"grid"===V&&(0,b.jsx)("div",{className:"hidden lg:grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:ai.map(a=>(0,b.jsx)(an,{staffMember:a},a._id))}),(0,b.jsx)("div",{className:"lg:hidden grid grid-cols-1 sm:grid-cols-2 gap-3",children:ai.map(a=>(0,b.jsx)(an,{staffMember:a},a._id))}),0===ae.length&&!F&&(0,b.jsxs)("div",{className:"bg-white rounded-xl sm:rounded-2xl p-8 sm:p-16 text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(q.Users,{className:"w-8 h-8 text-gray-400"})}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No staff members found"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:P||"all"!==R||"all"!==T?"Try adjusting your search or filter criteria":"No staff members have been added yet"}),(P||"all"!==R||"all"!==T)&&(0,b.jsxs)("button",{onClick:()=>{Q(""),S("all"),U("all")},className:"inline-flex items-center gap-2 px-4 py-2 text-cyan-600 hover:bg-cyan-50 rounded-lg transition-colors text-sm font-medium",children:[(0,b.jsx)(z.RefreshCw,{className:"w-4 h-4"}),"Clear filters"]})]}),ae.length>0&&ah>1&&(0,b.jsx)("div",{className:"lg:hidden bg-white rounded-xl p-3 border border-gray-100",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:["Page ",(0,b.jsx)("span",{className:"font-semibold text-gray-700",children:_})," ","of ",(0,b.jsx)("span",{className:"font-semibold text-gray-700",children:ah})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>aa(a=>Math.max(1,a-1)),disabled:1===_,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:(0,b.jsx)(r.ChevronLeft,{className:"w-4 h-4"})}),(0,b.jsx)("span",{className:"px-3 py-1 bg-cyan-600 text-white text-sm font-medium rounded-lg",children:_}),(0,b.jsx)("button",{onClick:()=>aa(a=>Math.min(ah,a+1)),disabled:_===ah,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:(0,b.jsx)(s.ChevronRight,{className:"w-4 h-4"})})]})]})})]}),(0,b.jsx)(ag,{isOpen:J,onClose:()=>K(!1),staffId:N?._id}),(0,b.jsx)(ar,{isOpen:L,onClose:()=>M(!1),staffId:N?._id,onSave:a=>{E(b=>b.map(b=>b._id===a._id?{...b,...a}:b)),M(!1)}})]})}],19572)}];

//# sourceMappingURL=src_app_admin_staff_page_jsx_4b848b59._.js.map