module.exports=[35050,38124,a=>{"use strict";let b=(0,a.i(70106).default)("wheat",[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]]);a.s(["default",()=>b],38124),a.s(["Wheat",()=>b],35050)},90166,a=>{"use strict";let b=(0,a.i(70106).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);a.s(["DollarSign",()=>b],90166)},14961,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(15618),e=a.i(35050),f=a.i(90166),g=a.i(6704),h=a.i(60779),i=a.i(85606);a.s(["default",0,()=>{let[a,j]=(0,c.useState)([]),[k,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)([]),[u,v]=(0,c.useState)([]),[w,x]=(0,c.useState)([]),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)(""),[C,D]=(0,c.useState)([]),[E,F]=(0,c.useState)([]),G=async()=>{try{let a=await fetch(`${h.default}/grain/allgraincategories`);if(!a.ok)throw Error("Failed to fetch grains");let b=await a.json(),c=Array.from(new Set(b.map(a=>a.grain_type)));j(c)}catch(a){console.error("Error fetching grains:",a),g.default.error("Failed to load grain categories")}},H=async()=>{if(!y){if(!k||!m||!o||!q)return void g.default.error("Please fill all price fields and select a grain");z(!0);try{let a=await fetch(`${h.default}/pricehistory/addtodayprice`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({grain_name:k,maxprice:parseFloat(m),avgprice:parseFloat(o),minprice:parseFloat(q)})}),b=await a.json();a.ok?(g.default.success("Grain price updated successfully"),l(""),n(""),p(""),r(""),G(),A===k&&I(k)):g.default.error(b.message||"Failed to update price")}catch(a){console.error("Error updating price:",a),g.default.error("Something went wrong while updating price")}finally{z(!1)}}},I=async a=>{if(a)try{let b=await fetch(`${h.default}/pricehistory/allpricehistory/${a}`);if(!b.ok)throw Error("Failed to fetch price history");let c=await b.json();F(c.grain_type||""),D(c.dates||[]),t(c.maxPrices||[]),v(c.avgPrices||[]),x(c.minPrices||[])}catch(a){console.error("Error fetching price history:",a),g.default.error("Failed to load price history")}};return(0,c.useEffect)(()=>{A&&I(A)},[A]),(0,c.useEffect)(()=>{G()},[]),(0,b.jsx)("div",{className:"min-h-screen",children:(0,b.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-8 border border-amber-100",children:[(0,b.jsxs)("h2",{className:"text-2xl font-semibold text-gray-800 mb-6 flex items-center gap-2",children:[(0,b.jsx)(f.DollarSign,{className:"w-6 h-6 text-amber-600"}),"Add Today's Grain Price"]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grain Type"}),(0,b.jsxs)("select",{value:k,onChange:a=>l(a.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent bg-gray-50 hover:bg-white",children:[(0,b.jsx)("option",{value:"",children:"Select a grain type..."}),a.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Price (₹/Qtl)"}),(0,b.jsx)("input",{type:"number",value:m,onChange:a=>n(a.target.value),placeholder:"Enter maximum price",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent bg-gray-50 hover:bg-white"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Avg Price (₹/Qtl)"}),(0,b.jsx)("input",{type:"number",value:o,onChange:a=>p(a.target.value),placeholder:"Enter average price",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent bg-gray-50 hover:bg-white"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Min Price (₹/Qtl)"}),(0,b.jsx)("input",{type:"number",value:q,onChange:a=>r(a.target.value),placeholder:"Enter minimum price",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent bg-gray-50 hover:bg-white"})]})]}),(0,b.jsx)("button",{onClick:H,disabled:y,className:`w-full bg-gradient-to-r from-amber-500 to-orange-600 text-white py-3 px-6 rounded-xl font-semibold transition-all shadow-md flex items-center justify-center gap-2 ${y?"opacity-70 cursor-not-allowed":"hover:from-amber-600 hover:to-orange-700 hover:shadow-lg"}`,children:y?(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),(0,b.jsx)("span",{children:"Updating..."})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.Plus,{className:"w-5 h-5"}),"Update Price"]})})]}),(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-amber-100",children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Current Grain Prices"}),0===a.length?(0,b.jsxs)("div",{className:"text-center py-12 text-gray-400",children:[(0,b.jsx)(e.Wheat,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),(0,b.jsx)("p",{children:"No grains available yet"})]}):(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"mb-8 flex flex-col md:flex-row md:items-end md:gap-4",children:(0,b.jsxs)("div",{className:"w-full md:w-72",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Grain for Price Trend"}),(0,b.jsxs)("select",{value:A,onChange:a=>B(a.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent bg-gray-50 hover:bg-white",children:[(0,b.jsx)("option",{value:"",children:"Select a grain..."}),a.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]})]})}),C.length>0?(0,b.jsx)(i.default,{date:C,maxprice:s,avgprice:u,minprice:w,categories:E}):(0,b.jsx)("div",{className:"text-center py-12 text-gray-400",children:(0,b.jsx)("p",{className:"text-lg",children:"No data available"})})]})]})]})})}])}];

//# sourceMappingURL=_ac62656f._.js.map