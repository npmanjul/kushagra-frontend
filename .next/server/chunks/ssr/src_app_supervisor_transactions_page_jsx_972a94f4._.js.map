{"version":3,"sources":["../../../../src/app/supervisor/transactions/page.jsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport {\n  ArrowDownCircle,\n  ArrowUpCircle,\n  Wallet,\n  DollarSign,\n  ChevronLeft,\n  ChevronRight,\n  CheckCircle,\n  XCircle,\n  Clock,\n  User,\n  MapPin,\n  Calendar,\n  Package,\n  Filter,\n  Search,\n  RefreshCw,\n  Eye,\n  Download,\n  TrendingUp,\n  ChevronsLeft,\n  ChevronsRight\n} from 'lucide-react';\nimport API_BASE_URL from '@/utils/constants';\n\nconst TransactionsList = () => {\n  const [transactions, setTransactions] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [activeCategory, setActiveCategory] = useState('');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [warehouse, setWarehouse] = useState('');\n  const [pagination, setPagination] = useState({\n    currentPage: 1,\n    limit: 20,\n    totalRecords: 0,\n    totalPages: 1\n  });\n  const [transactionCounts, setTransactionCounts] = useState({\n    sell: 0,\n    deposit: 0,\n    withdraw: 0,\n    loan: 0\n  });\n  const [selectedTransaction, setSelectedTransaction] = useState(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const limit = 20;\n\n  const categories = [\n    { key: '', label: 'All', icon: Filter, color: 'bg-gradient-to-r from-slate-600 to-slate-700', lightColor: 'bg-slate-50', textColor: 'text-slate-600', accent: 'border-slate-400' },\n    { key: 'deposit', label: 'Deposit', icon: ArrowDownCircle, color: 'bg-gradient-to-r from-emerald-500 to-teal-500', lightColor: 'bg-emerald-50', textColor: 'text-emerald-600', accent: 'border-emerald-400' },\n    { key: 'withdraw', label: 'Withdraw', icon: ArrowUpCircle, color: 'bg-gradient-to-r from-orange-400 to-amber-500', lightColor: 'bg-orange-50', textColor: 'text-orange-600', accent: 'border-orange-400' },\n    { key: 'sell', label: 'Sell', icon: DollarSign, color: 'bg-gradient-to-r from-sky-500 to-blue-500', lightColor: 'bg-sky-50', textColor: 'text-sky-600', accent: 'border-sky-400' },\n    { key: 'loan', label: 'Loan', icon: Wallet, color: 'bg-gradient-to-r from-violet-500 to-purple-500', lightColor: 'bg-violet-50', textColor: 'text-violet-600', accent: 'border-violet-400' },\n  ];\n\n  useEffect(() => {\n    fetchTransactions();\n  }, [activeCategory, currentPage]);\n\n  const fetchTransactions = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await axios.get(\n        `${API_BASE_URL}/transaction/getalltransactions`,\n        {\n          params: {\n            transaction_type: activeCategory,\n            limit: limit,\n            page: currentPage,\n          },\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('token')}`,\n          },\n        }\n      );\n      \n      // Update state with new response structure\n      setTransactions(response.data.data || []);\n      setPagination(response.data.pagination || {\n        currentPage: 1,\n        limit: 20,\n        totalRecords: 0,\n        totalPages: 1\n      });\n      setTransactionCounts(response.data.transactionCounts || {\n        sell: 0,\n        deposit: 0,\n        withdraw: 0,\n        loan: 0\n      });\n      setWarehouse(response.data.warehouse);\n    } catch (err) {\n      setError('Failed to fetch transactions. Please try again.');\n      console.error('Error fetching transactions:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getStatusBadge = (status) => {\n    const statusConfig = {\n      completed: { \n        color: 'bg-green-100 text-green-800 border-green-200', \n        icon: CheckCircle,\n        gradient: 'bg-gradient-to-r from-green-500 to-emerald-500'\n      },\n      pending: { \n        color: 'bg-yellow-100 text-yellow-800 border-yellow-200', \n        icon: Clock,\n        gradient: 'bg-gradient-to-r from-yellow-500 to-amber-500'\n      },\n      rejected: { \n        color: 'bg-red-100 text-red-800 border-red-200', \n        icon: XCircle,\n        gradient: 'bg-gradient-to-r from-red-500 to-rose-500'\n      },\n    };\n    const config = statusConfig[status] || statusConfig.pending;\n    const Icon = config.icon;\n    \n    return (\n      <span className={`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-semibold border shadow-sm ${config.color}`}>\n        <Icon size={14} />\n        {status?.charAt(0).toUpperCase() + status?.slice(1)}\n      </span>\n    );\n  };\n\n  const getTransactionTypeIcon = (type) => {\n    const icons = {\n      deposit: { icon: ArrowDownCircle, color: 'text-green-600 bg-green-100' },\n      withdraw: { icon: ArrowUpCircle, color: 'text-orange-600 bg-orange-100' },\n      sell: { icon: DollarSign, color: 'text-blue-600 bg-blue-100' },\n      loan: { icon: Wallet, color: 'text-purple-600 bg-purple-100' },\n    };\n    const config = icons[type] || icons.deposit;\n    const Icon = config.icon;\n    \n    return (\n      <div className={`p-3 rounded-2xl ${config.color} shadow-sm`}>\n        <Icon size={24} strokeWidth={2} />\n      </div>\n    );\n  };\n\n  const formatDate = (dateString) => {\n    if (!dateString) return 'N/A';\n    return new Date(dateString).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit',\n    });\n  };\n\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('en-IN', {\n      style: 'currency',\n      currency: 'INR',\n      maximumFractionDigits: 0,\n    }).format(amount || 0);\n  };\n\n  const getTotalTransactions = () => {\n    return transactionCounts.sell + transactionCounts.deposit + \n           transactionCounts.withdraw + transactionCounts.loan;\n  };\n\n  const ApprovalStatusComponent = ({ approval }) => {\n    if (!approval) return null;\n\n    const approvals = [\n      { label: 'Supervisor', data: approval.supervisor_approval, shortLabel: 'SUP' },\n      { label: 'Manager', data: approval.manager_approval, shortLabel: 'MGR' },\n      { label: 'Admin', data: approval.admin_approval, shortLabel: 'ADM' },\n    ];\n\n    return (\n      <div className=\"flex items-center gap-1.5 flex-wrap\">\n        {approvals.map((item, index) => (\n          <div\n            key={index}\n            className={`flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-medium transition-all ${\n              item.data?.status\n                ? 'bg-green-100 text-green-700 border border-green-200'\n                : item.data?.date\n                ? 'bg-red-100 text-red-700 border border-red-200'\n                : 'bg-gray-100 text-gray-500 border border-gray-200'\n            }`}\n            title={item.label}\n          >\n            {item.data?.status ? (\n              <CheckCircle size={12} />\n            ) : item.data?.date ? (\n              <XCircle size={12} />\n            ) : (\n              <Clock size={12} />\n            )}\n            <span className=\"hidden sm:inline\">{item.label}</span>\n            <span className=\"sm:hidden\">{item.shortLabel}</span>\n          </div>\n        ))}\n      </div>\n    );\n  };\n\n  const TransactionModal = ({ transaction, onClose }) => {\n    if (!transaction) return null;\n\n    return (\n      <div className=\"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\n        <div \n          className=\"bg-white rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden\"\n          onClick={(e) => e.stopPropagation()}\n        >\n          {/* Modal Header */}\n          <div className=\"sticky top-0 bg-white border-b border-gray-100 px-6 py-5 flex items-center justify-between\">\n            <div>\n              <h3 className=\"text-xl font-bold text-gray-800\">Transaction Details</h3>\n              <p className=\"text-sm text-gray-500 mt-0.5\">ID: {transaction._id?.slice(-8).toUpperCase()}</p>\n            </div>\n            <button\n              onClick={onClose}\n              className=\"p-2 hover:bg-gray-100 rounded-xl transition-colors\"\n            >\n              <XCircle size={24} className=\"text-gray-400 hover:text-gray-600\" />\n            </button>\n          </div>\n\n          {/* Modal Body */}\n          <div className=\"p-6 space-y-6 overflow-y-auto max-h-[calc(90vh-80px)]\">\n            {/* Transaction Type & Status */}\n            <div className=\"flex items-center justify-between bg-gray-50 rounded-2xl p-4\">\n              <div className=\"flex items-center gap-4\">\n                {getTransactionTypeIcon(transaction.transaction_type)}\n                <div>\n                  <p className=\"text-sm text-gray-500\">Transaction Type</p>\n                  <p className=\"text-lg font-bold text-gray-800 capitalize\">\n                    {transaction.transaction_type}\n                  </p>\n                </div>\n              </div>\n              {getStatusBadge(transaction.transaction_status)}\n            </div>\n\n            {/* User Info */}\n            <div className=\"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-5 border border-blue-100\">\n              <h4 className=\"text-sm font-semibold text-gray-600 mb-3 flex items-center gap-2\">\n                <User size={16} />\n                Farmer Details\n              </h4>\n              <div className=\"flex items-center gap-4\">\n                <img\n                  src={transaction.user_id?.farmerProfile?.user_image || '/placeholder-user.png'}\n                  alt={transaction.user_id?.name}\n                  className=\"w-16 h-16 rounded-2xl object-cover border-4 border-white shadow-lg\"\n                  onError={(e) => {\n                    e.target.src = 'https://ui-avatars.com/api/?name=' + encodeURIComponent(transaction.user_id?.name || 'User');\n                  }}\n                />\n                <div className=\"flex-1\">\n                  <p className=\"font-bold text-gray-800 text-lg\">{transaction.user_id?.name}</p>\n                  <p className=\"text-sm text-gray-500\">{transaction.user_id?.email}</p>\n                  <p className=\"text-sm text-gray-500\">{transaction.user_id?.phone_number}</p>\n                  <span className=\"inline-block mt-2 px-3 py-1 bg-blue-100 text-blue-700 rounded-lg text-xs font-semibold\">\n                    {transaction.user_id?.farmerProfile?.farmerId}\n                  </span>\n                </div>\n              </div>\n            </div>\n\n            {/* Warehouse Info */}\n            {transaction.warehouse_id && (\n              <div className=\"flex items-center gap-4 p-4 bg-purple-50 rounded-2xl border border-purple-100\">\n                <div className=\"p-3 bg-purple-100 rounded-xl\">\n                  <MapPin className=\"text-purple-600\" size={24} />\n                </div>\n                <div>\n                  <p className=\"text-sm text-gray-500\">Warehouse</p>\n                  <p className=\"font-bold text-gray-800\">\n                    {transaction.warehouse_id.name}\n                  </p>\n                  <p className=\"text-sm text-gray-600\">{transaction.warehouse_id.location}</p>\n                </div>\n              </div>\n            )}\n\n            {/* Grain Details */}\n            <div>\n              <h4 className=\"font-bold text-gray-800 mb-4 flex items-center gap-2\">\n                <Package size={18} />\n                Grain Details\n              </h4>\n              <div className=\"space-y-3\">\n                {transaction.grain?.map((item, index) => (\n                  <div\n                    key={index}\n                    className=\"border-2 border-gray-100 rounded-2xl p-4 hover:border-blue-200 transition-all bg-white shadow-sm\"\n                  >\n                    <div className=\"flex items-center justify-between mb-3\">\n                      <span className=\"font-bold text-gray-800 text-lg\">\n                        {item.category_id?.grain_type}\n                      </span>\n                      <span className=\"px-3 py-1 bg-gray-100 text-gray-700 rounded-lg text-sm font-semibold\">\n                        Grade {item.category_id?.quality}\n                      </span>\n                    </div>\n                    <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-4 text-sm\">\n                      <div className=\"bg-gray-50 rounded-xl p-3\">\n                        <p className=\"text-gray-500 text-xs\">Quantity</p>\n                        <p className=\"font-bold text-gray-800\">{item.quantity_quintal?.toFixed(2)} qtl</p>\n                      </div>\n                      <div className=\"bg-gray-50 rounded-xl p-3\">\n                        <p className=\"text-gray-500 text-xs\">Price/Quintal</p>\n                        <p className=\"font-bold text-gray-800\">{formatCurrency(item.price_per_quintal)}</p>\n                      </div>\n                      {item.moisture_content > 0 && (\n                        <div className=\"bg-yellow-50 rounded-xl p-3\">\n                          <p className=\"text-gray-500 text-xs\">Moisture</p>\n                          <p className=\"font-bold text-yellow-700\">{item.moisture_content}%</p>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* Total Amount */}\n            <div className=\"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 rounded-2xl p-5 text-white shadow-lg\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-blue-100 text-sm font-medium\">Total Amount</p>\n                  <p className=\"text-4xl font-bold mt-1\">{formatCurrency(transaction.total_amount)}</p>\n                </div>\n                <div className=\"p-4 bg-white/20 rounded-2xl backdrop-blur-sm\">\n                  <TrendingUp size={32} />\n                </div>\n              </div>\n            </div>\n\n            {/* Approval Status */}\n            <div>\n              <h4 className=\"font-bold text-gray-800 mb-4 flex items-center gap-2\">\n                <CheckCircle size={18} />\n                Approval Workflow\n              </h4>\n              <div className=\"space-y-3\">\n                {[\n                  { label: 'Supervisor', data: transaction.approval_status?.supervisor_approval },\n                  { label: 'Manager', data: transaction.approval_status?.manager_approval },\n                  { label: 'Admin', data: transaction.approval_status?.admin_approval },\n                ].map((item, index) => (\n                  <div\n                    key={index}\n                    className={`flex items-center justify-between p-4 rounded-2xl border-2 transition-all ${\n                      item.data?.status\n                        ? 'bg-green-50 border-green-200'\n                        : item.data?.date\n                        ? 'bg-red-50 border-red-200'\n                        : 'bg-gray-50 border-gray-200'\n                    }`}\n                  >\n                    <div className=\"flex items-center gap-4\">\n                      <div className={`p-2 rounded-xl ${\n                        item.data?.status\n                          ? 'bg-green-100'\n                          : item.data?.date\n                          ? 'bg-red-100'\n                          : 'bg-gray-200'\n                      }`}>\n                        {item.data?.status ? (\n                          <CheckCircle className=\"text-green-600\" size={24} />\n                        ) : item.data?.date ? (\n                          <XCircle className=\"text-red-600\" size={24} />\n                        ) : (\n                          <Clock className=\"text-gray-400\" size={24} />\n                        )}\n                      </div>\n                      <div>\n                        <p className=\"font-semibold text-gray-800\">{item.label}</p>\n                        {item.data?.user_id ? (\n                          <p className=\"text-sm text-gray-500\">{item.data.user_id.name}</p>\n                        ) : (\n                          <p className=\"text-sm text-gray-400\">Pending approval</p>\n                        )}\n                      </div>\n                    </div>\n                    {item.data?.date && (\n                      <span className=\"text-xs text-gray-500 bg-white px-3 py-1 rounded-lg shadow-sm\">\n                        {formatDate(item.data.date)}\n                      </span>\n                    )}\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* Remarks */}\n            {transaction.remarks && (\n              <div className=\"bg-amber-50 rounded-2xl p-4 border border-amber-200\">\n                <p className=\"text-sm text-amber-700 font-medium mb-1\">Remarks</p>\n                <p className=\"font-semibold text-gray-800 capitalize\">\n                  {transaction.remarks.replace(/_/g, ' ')}\n                </p>\n              </div>\n            )}\n\n            {/* Transaction Date */}\n            <div className=\"flex items-center gap-3 text-gray-500 bg-gray-50 rounded-xl p-3\">\n              <Calendar size={18} />\n              <span className=\"text-sm\">\n                <span className=\"font-medium\">Transaction Date:</span> {formatDate(transaction.transaction_date)}\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  // Pagination Component\n  const PaginationControls = () => {\n    if (pagination.totalPages <= 1) return null;\n\n    const getPageNumbers = () => {\n      const pages = [];\n      const maxVisible = 5;\n      let start = Math.max(1, currentPage - Math.floor(maxVisible / 2));\n      let end = Math.min(pagination.totalPages, start + maxVisible - 1);\n      \n      if (end - start + 1 < maxVisible) {\n        start = Math.max(1, end - maxVisible + 1);\n      }\n\n      for (let i = start; i <= end; i++) {\n        pages.push(i);\n      }\n      return pages;\n    };\n\n    return (\n      <div className=\"mt-8 flex flex-col sm:flex-row items-center justify-between gap-4 bg-white rounded-2xl p-4 shadow-sm border border-gray-100\">\n        <p className=\"text-gray-600 text-sm\">\n          Showing <span className=\"font-bold text-gray-800\">{((currentPage - 1) * pagination.limit) + 1}</span> to{' '}\n          <span className=\"font-bold text-gray-800\">{Math.min(currentPage * pagination.limit, pagination.totalRecords)}</span> of{' '}\n          <span className=\"font-bold text-gray-800\">{pagination.totalRecords}</span> transactions\n        </p>\n        \n        <div className=\"flex items-center gap-1.5\">\n          {/* First Page */}\n          <button\n            onClick={() => setCurrentPage(1)}\n            disabled={currentPage === 1}\n            className=\"p-2 rounded-xl border border-gray-200 text-gray-600 hover:bg-gray-100 disabled:opacity-40 disabled:cursor-not-allowed transition-all\"\n            title=\"First Page\"\n          >\n            <ChevronsLeft size={18} />\n          </button>\n\n          {/* Previous Page */}\n          <button\n            onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\n            disabled={currentPage === 1}\n            className=\"flex items-center gap-1 px-3 py-2 rounded-xl border border-gray-200 text-gray-600 hover:bg-gray-100 disabled:opacity-40 disabled:cursor-not-allowed transition-all\"\n          >\n            <ChevronLeft size={18} />\n            <span className=\"hidden sm:inline\">Prev</span>\n          </button>\n\n          {/* Page Numbers */}\n          <div className=\"hidden sm:flex items-center gap-1\">\n            {getPageNumbers().map((pageNum) => (\n              <button\n                key={pageNum}\n                onClick={() => setCurrentPage(pageNum)}\n                className={`w-10 h-10 rounded-xl font-semibold transition-all ${\n                  currentPage === pageNum\n                    ? 'bg-gradient-to-r from-blue-500 to-indigo-600 text-white shadow-lg shadow-blue-200'\n                    : 'text-gray-600 hover:bg-gray-100 border border-gray-200'\n                }`}\n              >\n                {pageNum}\n              </button>\n            ))}\n          </div>\n\n          {/* Mobile Page Indicator */}\n          <div className=\"sm:hidden px-3 py-2 bg-gray-100 rounded-xl\">\n            <span className=\"font-semibold text-gray-800\">{currentPage}</span>\n            <span className=\"text-gray-500\"> / {pagination.totalPages}</span>\n          </div>\n\n          {/* Next Page */}\n          <button\n            onClick={() => setCurrentPage((prev) => Math.min(prev + 1, pagination.totalPages))}\n            disabled={currentPage === pagination.totalPages}\n            className=\"flex items-center gap-1 px-3 py-2 rounded-xl border border-gray-200 text-gray-600 hover:bg-gray-100 disabled:opacity-40 disabled:cursor-not-allowed transition-all\"\n          >\n            <span className=\"hidden sm:inline\">Next</span>\n            <ChevronRight size={18} />\n          </button>\n\n          {/* Last Page */}\n          <button\n            onClick={() => setCurrentPage(pagination.totalPages)}\n            disabled={currentPage === pagination.totalPages}\n            className=\"p-2 rounded-xl border border-gray-200 text-gray-600 hover:bg-gray-100 disabled:opacity-40 disabled:cursor-not-allowed transition-all\"\n            title=\"Last Page\"\n          >\n            <ChevronsRight size={18} />\n          </button>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"min-h-screen p-4 \">\n      <div className=\"max-w-7xl mx-auto\">\n        {/* Header */}\n        <div className=\"mb-8 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3\">\n          <div>\n            <h1 className=\"text-3xl md:text-4xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 bg-clip-text text-transparent mb-2\">\n            Transactions\n          </h1>\n          <p className=\"text-gray-600\">\n            Manage and track all your grain transactions\n          </p>\n          </div>\n          <p className=\"text-gray-100 font-bold bg-blue-600 px-6 py-1 rounded-full\">\n            {warehouse}\n          </p>\n        </div>\n\n        {/* Stats Cards */}\n        <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8\">\n          {categories.slice(1).map((cat) => {\n            const count = transactionCounts[cat.key] || 0;\n            return (\n              <div\n                key={cat.key}\n                onClick={() => {\n                  setActiveCategory(cat.key);\n                  setCurrentPage(1);\n                }}\n                className={`relative overflow-hidden bg-white rounded-2xl p-5 shadow-sm border-2 transition-all cursor-pointer group hover:shadow-xl ${\n                  activeCategory === cat.key ? 'border-blue-400 shadow-lg shadow-blue-100' : 'border-gray-100 hover:border-gray-200'\n                }`}\n              >\n                <div className={`absolute top-0 right-0 w-20 h-20 ${cat.lightColor} rounded-bl-full opacity-50 group-hover:opacity-100 transition-opacity`} />\n                <div className={`relative z-10 w-12 h-12 ${cat.color} rounded-2xl flex items-center justify-center mb-4 shadow-lg`}>\n                  <cat.icon size={24} className=\"text-white\" />\n                </div>\n                <p className=\"text-gray-500 text-sm font-medium relative z-10\">{cat.label}</p>\n                <p className=\"text-3xl font-bold text-gray-800 mt-1 relative z-10\">\n                  {count}\n                </p>\n                {activeCategory === cat.key && (\n                  <div className=\"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-500 to-indigo-500\" />\n                )}\n              </div>\n            );\n          })}\n        </div>\n\n        {/* Category Tabs */}\n        <div className=\"bg-white rounded-2xl shadow-sm border border-gray-100 mb-6 p-2\">\n          <div className=\"flex flex-wrap gap-2\">\n            {categories.map((cat) => (\n              <button\n                key={cat.key}\n                onClick={() => {\n                  setActiveCategory(cat.key);\n                  setCurrentPage(1);\n                }}\n                className={`flex items-center gap-2 px-5 py-3 rounded-xl font-semibold text-sm transition-all ${\n                  activeCategory === cat.key\n                    ? `${cat.color} text-white shadow-lg`\n                    : `${cat.textColor} hover:bg-gray-100`\n                }`}\n              >\n                <cat.icon size={18} />\n                {cat.label}\n                {cat.key === '' ? (\n                  <span className=\"ml-1 px-2 py-0.5 bg-white/20 rounded-lg text-xs\">\n                    {getTotalTransactions()}\n                  </span>\n                ) : (\n                  <span className={`ml-1 px-2 py-0.5 rounded-lg text-xs ${\n                    activeCategory === cat.key ? 'bg-white/20' : 'bg-gray-100'\n                  }`}>\n                    {transactionCounts[cat.key] || 0}\n                  </span>\n                )}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Refresh Button & Info */}\n        <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6\">\n          <div className=\"flex items-center gap-3\">\n            <p className=\"text-gray-600\">\n              Showing <span className=\"font-bold text-gray-800\">{transactions.length}</span> of{' '}\n              <span className=\"font-bold text-gray-800\">{pagination.totalRecords}</span> transactions\n            </p>\n            {activeCategory && (\n              <span className={`px-3 py-1 rounded-lg text-xs font-semibold ${\n                categories.find(c => c.key === activeCategory)?.lightColor\n              } ${categories.find(c => c.key === activeCategory)?.textColor}`}>\n                {activeCategory.charAt(0).toUpperCase() + activeCategory.slice(1)} only\n              </span>\n            )}\n          </div>\n          <button\n            onClick={fetchTransactions}\n            disabled={loading}\n            className=\"flex items-center gap-2 px-5 py-2.5 bg-white rounded-xl border border-gray-200 text-gray-700 hover:bg-gray-50 hover:border-gray-300 transition-all font-medium shadow-sm\"\n          >\n            <RefreshCw size={16} className={loading ? 'animate-spin' : ''} />\n            Refresh\n          </button>\n        </div>\n\n        {/* Loading State */}\n        {loading && (\n          <div className=\"flex items-center justify-center py-24\">\n            <div className=\"flex flex-col items-center gap-6\">\n              <div className=\"relative\">\n                <div className=\"w-16 h-16 border-4 border-blue-200 rounded-full animate-pulse\"></div>\n                <div className=\"absolute top-0 left-0 w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin\"></div>\n              </div>\n              <p className=\"text-gray-500 font-medium\">Loading transactions...</p>\n            </div>\n          </div>\n        )}\n\n        {/* Error State */}\n        {error && !loading && (\n          <div className=\"bg-red-50 border-2 border-red-200 rounded-2xl p-8 text-center\">\n            <div className=\"w-16 h-16 bg-red-100 rounded-2xl flex items-center justify-center mx-auto mb-4\">\n              <XCircle className=\"w-8 h-8 text-red-500\" />\n            </div>\n            <p className=\"text-red-700 font-semibold text-lg mb-2\">Oops! Something went wrong</p>\n            <p className=\"text-red-600 mb-4\">{error}</p>\n            <button\n              onClick={fetchTransactions}\n              className=\"px-6 py-2.5 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-colors font-semibold shadow-lg shadow-red-200\"\n            >\n              Try Again\n            </button>\n          </div>\n        )}\n\n        {/* Transaction Cards */}\n        {!loading && !error && (\n          <div className=\"space-y-4\">\n            {transactions.length === 0 ? (\n              <div className=\"bg-white rounded-2xl p-16 text-center shadow-sm border border-gray-100\">\n                <div className=\"w-20 h-20 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-6\">\n                  <Package className=\"w-10 h-10 text-gray-400\" />\n                </div>\n                <p className=\"text-gray-700 text-xl font-semibold mb-2\">No transactions found</p>\n                <p className=\"text-gray-500\">\n                  {activeCategory \n                    ? `No ${activeCategory} transactions available. Try a different filter.`\n                    : 'No transactions available yet. Check back later.'\n                  }\n                </p>\n              </div>\n            ) : (\n              transactions.map((transaction) => (\n                <div\n                  key={transaction._id}\n                  className=\"bg-white rounded-2xl shadow-sm border border-gray-100 p-5 hover:shadow-xl hover:border-blue-200 transition-all cursor-pointer group\"\n                  onClick={() => {\n                    setSelectedTransaction(transaction);\n                    setIsModalOpen(true);\n                  }}\n                >\n                  <div className=\"flex flex-col lg:flex-row lg:items-center gap-4\">\n                    {/* Transaction Type Icon & User Info */}\n                    <div className=\"flex items-center gap-4 flex-1 min-w-0\">\n                      {getTransactionTypeIcon(transaction.transaction_type)}\n                      <div className=\"flex items-center gap-3 min-w-0\">\n                        <img\n                          src={transaction.user_id?.farmerProfile?.user_image || '/placeholder-user.png'}\n                          alt={transaction.user_id?.name}\n                          className=\"w-12 h-12 rounded-xl object-cover border-2 border-gray-100 shadow-sm flex-shrink-0\"\n                          onError={(e) => {\n                            e.target.src = 'https://ui-avatars.com/api/?name=' + encodeURIComponent(transaction.user_id?.name || 'User');\n                          }}\n                        />\n                        <div className=\"min-w-0\">\n                          <p className=\"font-bold text-gray-800 truncate\">\n                            {transaction.user_id?.name}\n                          </p>\n                          <p className=\"text-sm text-gray-500 truncate\">\n                            {transaction.user_id?.farmerProfile?.farmerId}\n                          </p>\n                        </div>\n                      </div>\n                    </div>\n\n                    {/* Grain Info */}\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"flex flex-wrap gap-2 mb-2\">\n                        {transaction.grain?.map((item, index) => (\n                          <span\n                            key={index}\n                            className=\"inline-flex items-center px-3 py-1.5 bg-blue-50 text-blue-700 rounded-lg text-sm font-semibold border border-blue-100\"\n                          >\n                            <Package size={14} className=\"mr-1.5\" />\n                            {item.category_id?.grain_type} \n                            <span className=\"ml-1 text-blue-500\">({item.quantity_quintal?.toFixed(2)} qtl)</span>\n                          </span>\n                        ))}\n                      </div>\n                      <ApprovalStatusComponent approval={transaction.approval_status} />\n                    </div>\n\n                    {/* Amount & Status */}\n                    <div className=\"flex items-center justify-between lg:justify-end gap-4 pt-4 lg:pt-0 border-t lg:border-t-0 border-gray-100\">\n                      <div className=\"text-left lg:text-right\">\n                        <p className=\"text-2xl font-bold text-gray-800\">\n                          {formatCurrency(transaction.total_amount)}\n                        </p>\n                        <p className=\"text-sm text-gray-500 flex items-center gap-1 lg:justify-end\">\n                          <Calendar size={14} />\n                          {formatDate(transaction.transaction_date)}\n                        </p>\n                      </div>\n                      <div className=\"flex flex-col items-end gap-2\">\n                        {getStatusBadge(transaction.transaction_status)}\n                        <button className=\"opacity-0 group-hover:opacity-100 transition-all p-2 bg-gray-100 rounded-xl hover:bg-blue-100 hover:text-blue-600\">\n                          <Eye size={18} />\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Warehouse & Remarks */}\n                  <div className=\"mt-4 pt-4 border-t border-gray-100 flex flex-wrap items-center gap-4\">\n                    {transaction.warehouse_id && (\n                      <div className=\"flex items-center gap-2 text-gray-600 bg-gray-50 px-3 py-1.5 rounded-lg\">\n                        <MapPin size={14} className=\"text-purple-500\" />\n                        <span className=\"text-sm\">\n                          {transaction.warehouse_id.name}, {transaction.warehouse_id.location}\n                        </span>\n                      </div>\n                    )}\n                    {transaction.remarks && (\n                      <div className=\"flex items-center gap-2 bg-amber-50 px-3 py-1.5 rounded-lg\">\n                        <span className=\"text-sm text-amber-700 font-medium capitalize\">\n                          {transaction.remarks.replace(/_/g, ' ')}\n                        </span>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n        )}\n\n        {/* Pagination */}\n        {!loading && !error && <PaginationControls />}\n\n        {/* Transaction Detail Modal */}\n        {isModalOpen && (\n          <TransactionModal\n            transaction={selectedTransaction}\n            onClose={() => {\n              setIsModalOpen(false);\n              setSelectedTransaction(null);\n            }}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default TransactionsList;"],"names":[],"mappings":"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"}