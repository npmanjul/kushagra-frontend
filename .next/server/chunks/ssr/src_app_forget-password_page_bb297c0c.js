module.exports=[92037,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(92258),e=a.i(63519),f=a.i(43108),g=a.i(32860),h=a.i(210),i=a.i(33441),j=a.i(77156),k=a.i(41379),l=a.i(3314),m=a.i(37047),n=a.i(38246),o=a.i(60779);a.s(["default",0,()=>{let[a,p]=(0,c.useState)(1),[q,r]=(0,c.useState)({email:"",phone:"",otp:"",password:"",confirmPassword:""}),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)({}),[A,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)({type:"",message:""});(0,c.useEffect)(()=>{try{let a=localStorage.getItem("forgetPasswordState");if(a){let b=JSON.parse(a);b.currentStep&&p(b.currentStep),b.formData&&r(a=>({...a,...b.formData})),b.resetToken&&x(b.resetToken)}}catch(a){}},[]),(0,c.useEffect)(()=>{let b={currentStep:a,formData:{email:q.email,phone:q.phone},resetToken:w};try{localStorage.setItem("forgetPasswordState",JSON.stringify(b))}catch(a){}},[a,q.email,q.phone]);let E=a=>({hasMinLength:a.length>=8,hasUppercase:/[A-Z]/.test(a),hasNumber:/[0-9]/.test(a),hasSpecialChar:/[!@#$%^&*]/.test(a)}),F=a=>{let{name:b,value:c}=a.target;r(a=>({...a,[b]:c})),y[b]&&z(a=>({...a,[b]:""})),C.message&&D({type:"",message:""})},G=async()=>{try{let a=await fetch(`${o.default}/auth/sendotpforpasswordreset`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:q.email,phone_number:q.phone})}),b=await a.json();if(a.ok)return b.token&&x(b.token),D({type:"success",message:b.message||"OTP sent successfully!"}),{success:!0,data:b};return D({type:"error",message:b.message||"Failed to send OTP"}),{success:!1,error:b.message}}catch(a){return D({type:"error",message:"Network error. Please try again."}),{success:!1,error:"Network error"}}},H=async()=>{try{let a=await fetch(`${o.default}/auth/verifyotpforpasswordreset`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:q.email,phone_number:q.phone,otp:q.otp})}),b=await a.json();if(a.ok)return D({type:"success",message:b.message||"OTP verified successfully!"}),{success:!0,data:b};return D({type:"error",message:b.message||"Invalid OTP"}),{success:!1,error:b.message}}catch(a){return D({type:"error",message:"Network error. Please try again."}),{success:!1,error:"Network error"}}},I=async()=>{try{let a=await fetch(`${o.default}/auth/resetpassword`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:w,newPassword:q.password})}),b=await a.json();if(!a.ok)return D({type:"error",message:b.message||"Failed to reset password"}),{success:!1,error:b.message};try{localStorage.removeItem("forgetPasswordState")}catch(a){}return D({type:"success",message:b.message||"Password reset successfully!"}),{success:!0,data:b}}catch(a){return D({type:"error",message:"Network error. Please try again."}),{success:!1,error:"Network error"}}},J=async()=>{if(D({type:"",message:""}),1===a){let a;if(a={},q.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(q.email)||(a.email="Please enter a valid email"):a.email="Email is required",q.phone?/^\d{10}$/.test(q.phone)||(a.phone="Please enter a valid 10-digit phone number"):a.phone="Phone number is required",z(a),0!==Object.keys(a).length)return;B(!0);let b=await G();B(!1),b.success&&p(2)}else if(2===a){let a;if(a={},q.otp&&6===q.otp.length||(a.otp="Please enter complete 6-digit OTP"),z(a),0!==Object.keys(a).length)return;B(!0);let b=await H();B(!1),b.success&&p(3)}else if(3===a){if(!(()=>{let a={},{password:b,confirmPassword:c}=q,{hasMinLength:d,hasUppercase:e,hasNumber:f,hasSpecialChar:g}=E(b);return b?d&&e&&f&&g||(a.password="Password must meet all criteria listed below."):a.password="Password is required",c?b!==c&&(a.confirmPassword="Passwords do not match"):a.confirmPassword="Please confirm your password",z(a),0===Object.keys(a).length})())return;B(!0);let a=await I();B(!1),a.success&&p(4)}},K=async()=>{if(A)return;D({type:"",message:""}),B(!0);let a=await G();B(!1),a.success&&D({type:"success",message:"OTP resent successfully!"})},L=E(q.password);return(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:[(0,b.jsxs)("div",{className:"w-full max-w-md",children:[(0,b.jsx)("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100",children:(0,b.jsxs)("div",{className:"p-8",children:[C.message&&(0,b.jsx)("div",{className:`mb-4 p-3 rounded-lg text-sm font-medium animate-slideDown ${"success"===C.type?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:C.message}),1===a&&(0,b.jsxs)("div",{className:"space-y-6 animate-fadeIn",children:[(0,b.jsxs)("div",{className:"text-center space-y-2",children:[(0,b.jsx)("div",{className:"mx-auto w-16 h-16 bg-black rounded-full flex items-center justify-center mb-4",children:(0,b.jsx)(l.Shield,{className:"w-8 h-8 text-white"})}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-black",children:"Forgot Password?"}),(0,b.jsx)("p",{className:"text-gray-600 text-sm",children:"Enter your email and phone number to receive a verification code"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"email",className:"block text-sm font-semibold text-black mb-2",children:"Email Address"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(d.Mail,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 w-5 h-5"}),(0,b.jsx)("input",{id:"email",type:"email",name:"email",value:q.email,onChange:F,className:`
                          w-full pl-10 pr-3 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 
                          transition-all duration-200 text-black placeholder-gray-400
                          ${y.email?"border-red-500 focus:ring-red-500":"border-gray-200 focus:ring-black focus:border-black"}
                        `,placeholder:"Enter your email",autoComplete:"email"})]}),y.email&&(0,b.jsx)("p",{className:"mt-1 text-xs text-red-500 animate-slideDown",children:y.email})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"phone",className:"block text-sm font-semibold text-black mb-2",children:"Phone Number"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(e.Phone,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 w-5 h-5"}),(0,b.jsx)("input",{id:"phone",type:"tel",name:"phone",value:q.phone,onChange:F,className:`
                          w-full pl-10 pr-3 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 
                          transition-all duration-200 text-black placeholder-gray-400
                          ${y.phone?"border-red-500 focus:ring-red-500":"border-gray-200 focus:ring-black focus:border-black"}
                        `,placeholder:"Enter 10-digit phone number",maxLength:"10",autoComplete:"tel"})]}),y.phone&&(0,b.jsx)("p",{className:"mt-1 text-xs text-red-500 animate-slideDown",children:y.phone})]})]}),(0,b.jsx)("button",{onClick:J,disabled:A,className:"w-full bg-black text-white py-3 px-4 rounded-lg font-semibold  hover:bg-gray-900 transform hover:scale-[1.02] transition-all duration-200  focus:outline-none focus:ring-2 focus:ring-black focus:ring-offset-2  disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center shadow-lg",children:A?(0,b.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,b.jsxs)(b.Fragment,{children:["Send OTP",(0,b.jsx)(g.ArrowRight,{className:"ml-2 w-5 h-5"})]})})]}),2===a&&(0,b.jsxs)("div",{className:"space-y-6 animate-fadeIn",children:[(0,b.jsxs)("div",{className:"text-center space-y-2",children:[(0,b.jsx)("div",{className:"mx-auto w-16 h-16 bg-black rounded-full flex items-center justify-center mb-4",children:(0,b.jsx)(m.KeyRound,{className:"w-8 h-8 text-white"})}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-black",children:"Enter Verification Code"}),(0,b.jsxs)("p",{className:"text-gray-600 text-sm",children:["We sent a verification code to"," ",(0,b.jsx)("span",{className:"font-semibold text-black",children:q.email})," ","and"," ",(0,b.jsx)("span",{className:"font-semibold text-black",children:q.phone})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("input",{id:"otp",type:"text",inputMode:"numeric",name:"otp",value:q.otp,onChange:a=>{let b=a.target.value.replace(/\D/g,"").slice(0,6);r(a=>({...a,otp:b})),y.otp&&z(a=>({...a,otp:""})),C.message&&D({type:"",message:""})},className:`
                      w-full text-center border-2 rounded-lg text-lg font-bold text-black py-3
                      focus:outline-none focus:ring-2 focus:ring-black focus:border-black
                      transition-all duration-200
                      ${y.otp?"border-red-500":"border-gray-300"}
                    `,maxLength:"6",placeholder:"Enter 6-digit code",autoComplete:"one-time-code"}),y.otp&&(0,b.jsx)("p",{className:"mt-2 text-xs text-red-500 text-center animate-slideDown",children:y.otp})]}),(0,b.jsx)("div",{className:"text-center",children:(0,b.jsx)("button",{onClick:K,disabled:A,className:"text-black hover:text-gray-700 text-sm font-semibold disabled:opacity-50 transition-colors underline",children:A?"Sending...":"Didn't receive code? Resend"})}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("button",{onClick:()=>{p(1),D({type:"",message:""})},disabled:A,className:"flex-1 bg-gray-100 text-black py-3 px-4 rounded-lg font-semibold  hover:bg-gray-200 transform hover:scale-[1.02] transition-all duration-200  focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 flex items-center justify-center disabled:opacity-50",children:[(0,b.jsx)(h.ArrowLeft,{className:"mr-2 w-5 h-5"}),"Back"]}),(0,b.jsx)("button",{onClick:J,disabled:A,className:"flex-1 bg-black text-white py-3 px-4 rounded-lg font-semibold  hover:bg-gray-900 transform hover:scale-[1.02] transition-all duration-200  focus:outline-none focus:ring-2 focus:ring-black focus:ring-offset-2  disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center shadow-lg",children:A?(0,b.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,b.jsxs)(b.Fragment,{children:["Verify",(0,b.jsx)(g.ArrowRight,{className:"ml-2 w-5 h-5"})]})})]})]}),3===a&&(0,b.jsxs)("div",{className:"space-y-6 animate-fadeIn",children:[(0,b.jsxs)("div",{className:"text-center space-y-2",children:[(0,b.jsx)("div",{className:"mx-auto w-16 h-16 bg-black rounded-full flex items-center justify-center mb-4",children:(0,b.jsx)(f.Lock,{className:"w-8 h-8 text-white"})}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-black",children:"Create New Password"}),(0,b.jsx)("p",{className:"text-gray-600 text-sm",children:"Choose a strong password for your account"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"password",className:"block text-sm font-semibold text-black mb-2",children:"New Password"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(f.Lock,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 w-5 h-5"}),(0,b.jsx)("input",{id:"password",type:s?"text":"password",name:"password",value:q.password,onChange:F,className:`
                          w-full pl-10 pr-10 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 
                          transition-all duration-200 text-black placeholder-gray-400
                          ${y.password?"border-red-500 focus:ring-red-500":"border-gray-200 focus:ring-black focus:border-black"}
                        `,placeholder:"Enter new password",autoComplete:"new-password"}),(0,b.jsx)("button",{type:"button",onClick:()=>t(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-black p-1","aria-label":s?"Hide password":"Show password",children:s?(0,b.jsx)(k.EyeOff,{className:"w-5 h-5"}):(0,b.jsx)(j.Eye,{className:"w-5 h-5"})})]}),y.password&&(0,b.jsx)("p",{className:"mt-1 text-xs text-red-500 animate-slideDown",children:y.password})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-black mb-2",children:"Confirm Password"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(f.Lock,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 w-5 h-5"}),(0,b.jsx)("input",{id:"confirmPassword",type:u?"text":"password",name:"confirmPassword",value:q.confirmPassword,onChange:F,className:`
                          w-full pl-10 pr-10 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 
                          transition-all duration-200 text-black placeholder-gray-400
                          ${y.confirmPassword?"border-red-500 focus:ring-red-500":"border-gray-200 focus:ring-black focus:border-black"}
                        `,placeholder:"Confirm new password",autoComplete:"new-password"}),(0,b.jsx)("button",{type:"button",onClick:()=>v(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-black p-1","aria-label":u?"Hide confirm password":"Show confirm password",children:u?(0,b.jsx)(k.EyeOff,{className:"w-5 h-5"}):(0,b.jsx)(j.Eye,{className:"w-5 h-5"})})]}),y.confirmPassword&&(0,b.jsx)("p",{className:"mt-1 text-xs text-red-500 animate-slideDown",children:y.confirmPassword})]}),(0,b.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2 border border-gray-200",children:[(0,b.jsx)("p",{className:"text-xs font-bold text-black uppercase tracking-wide",children:"Password Requirements:"}),(0,b.jsxs)("ul",{className:"space-y-2",children:[(0,b.jsxs)("li",{className:`flex items-center text-xs transition-colors duration-200 font-medium ${L.hasMinLength?"text-green-600":"text-gray-500"}`,children:[(0,b.jsx)("div",{className:`w-4 h-4 mr-2 rounded-full border-2 flex items-center justify-center transition-all duration-200 ${L.hasMinLength?"border-green-600 bg-green-600":"border-gray-400"}`,children:(0,b.jsx)(i.Check,{className:`w-2.5 h-2.5 text-white transition-opacity duration-200 ${L.hasMinLength?"opacity-100":"opacity-0"}`})}),"At least 8 characters"]}),(0,b.jsxs)("li",{className:`flex items-center text-xs transition-colors duration-200 font-medium ${L.hasUppercase?"text-green-600":"text-gray-500"}`,children:[(0,b.jsx)("div",{className:`w-4 h-4 mr-2 rounded-full border-2 flex items-center justify-center transition-all duration-200 ${L.hasUppercase?"border-green-600 bg-green-600":"border-gray-400"}`,children:(0,b.jsx)(i.Check,{className:`w-2.5 h-2.5 text-white transition-opacity duration-200 ${L.hasUppercase?"opacity-100":"opacity-0"}`})}),"One uppercase letter (A-Z)"]}),(0,b.jsxs)("li",{className:`flex items-center text-xs transition-colors duration-200 font-medium ${L.hasNumber?"text-green-600":"text-gray-500"}`,children:[(0,b.jsx)("div",{className:`w-4 h-4 mr-2 rounded-full border-2 flex items-center justify-center transition-all duration-200 ${L.hasNumber?"border-green-600 bg-green-600":"border-gray-400"}`,children:(0,b.jsx)(i.Check,{className:`w-2.5 h-2.5 text-white transition-opacity duration-200 ${L.hasNumber?"opacity-100":"opacity-0"}`})}),"One number (0-9)"]}),(0,b.jsxs)("li",{className:`flex items-center text-xs transition-colors duration-200 font-medium ${L.hasSpecialChar?"text-green-600":"text-gray-500"}`,children:[(0,b.jsx)("div",{className:`w-4 h-4 mr-2 rounded-full border-2 flex items-center justify-center transition-all duration-200 ${L.hasSpecialChar?"border-green-600 bg-green-600":"border-gray-400"}`,children:(0,b.jsx)(i.Check,{className:`w-2.5 h-2.5 text-white transition-opacity duration-200 ${L.hasSpecialChar?"opacity-100":"opacity-0"}`})}),"One special character (!@#$%^&*)"]})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("button",{onClick:()=>{p(2),D({type:"",message:""})},disabled:A,className:"flex-1 bg-gray-100 text-black py-3 px-4 rounded-lg font-semibold  hover:bg-gray-200 transform hover:scale-[1.02] transition-all duration-200  focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2  flex items-center justify-center disabled:opacity-50",children:[(0,b.jsx)(h.ArrowLeft,{className:"mr-2 w-5 h-5"}),"Back"]}),(0,b.jsx)("button",{onClick:J,disabled:A,className:"flex-1 bg-black text-white py-3 px-4 rounded-lg font-semibold  hover:bg-gray-900 transform hover:scale-[1.02] transition-all duration-200  focus:outline-none focus:ring-2 focus:ring-black focus:ring-offset-2  disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center shadow-lg",children:A?(0,b.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Reset Password"})]})]}),4===a&&(0,b.jsxs)("div",{className:"space-y-6 animate-fadeIn text-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"mx-auto w-20 h-20 bg-black rounded-full flex items-center justify-center mb-4 animate-scaleIn",children:(0,b.jsx)(i.Check,{className:"w-10 h-10 text-white"})}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-black mb-2",children:"Password Reset Successful!"}),(0,b.jsx)("p",{className:"text-gray-600 text-sm",children:"Your password has been reset successfully. You can now login with your new password."})]}),(0,b.jsx)(n.default,{href:"/login",children:(0,b.jsx)("button",{className:"w-full bg-black text-white py-3 px-4 rounded-lg font-semibold  hover:bg-gray-900 transform hover:scale-[1.02] transition-all duration-200  focus:outline-none focus:ring-2 focus:ring-black focus:ring-offset-2 shadow-lg",children:"Go to Login"})})]})]})}),a<4&&(0,b.jsx)("div",{className:"mt-6 text-center",children:(0,b.jsxs)(n.default,{href:"/login",className:"text-gray-600 hover:text-black text-sm font-medium transition-colors",children:["Remember password?"," ",(0,b.jsx)("span",{className:"text-black font-bold underline",children:"Login"})]})})]}),(0,b.jsx)("style",{children:`
         @keyframes fadeIn {
           from {
             opacity: 0;
             transform: translateY(10px);
           }
           to {
             opacity: 1;
             transform: translateY(0);
           }
         }
 
         @keyframes slideDown {
           from {
             opacity: 0;
             transform: translateY(-10px);
           }
           to {
             opacity: 1;
             transform: translateY(0);
           }
         }
 
         @keyframes scaleIn {
           from {
             transform: scale(0);
           }
           to {
             transform: scale(1);
           }
         }
 
         .animate-fadeIn {
           animation: fadeIn 0.5s ease-out;
         }
 
         .animate-slideDown {
           animation: slideDown 0.3s ease-out;
         }
 
         .animate-scaleIn {
           animation: scaleIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
         }
      `})]})}])}];

//# sourceMappingURL=src_app_forget-password_page_bb297c0c.js.map