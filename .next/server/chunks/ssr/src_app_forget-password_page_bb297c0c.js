module.exports=[92037,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(92258),e=a.i(63519),f=a.i(43108),g=a.i(32860),h=a.i(70106);let i=(0,h.default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var j=a.i(33441),k=a.i(77156),l=a.i(41379),m=a.i(3314);let n=(0,h.default)("key-round",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);var o=a.i(38246);a.s(["default",0,()=>{let[a,h]=(0,c.useState)(1),[p,q]=(0,c.useState)({email:"",phone:"",otp:"",password:"",confirmPassword:""}),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)({}),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)({type:"",message:""}),B="http://localhost:8000/api/v1/auth";(0,c.useEffect)(()=>{try{let a=localStorage.getItem("forgetPasswordState");if(a){let b=JSON.parse(a);b.currentStep&&h(b.currentStep),b.formData&&q(a=>({...a,...b.formData}))}}catch(a){}},[]),(0,c.useEffect)(()=>{let b={currentStep:a,formData:{email:p.email,phone:p.phone}};try{localStorage.setItem("forgetPasswordState",JSON.stringify(b))}catch(a){}},[a,p.email,p.phone]);let C=a=>({hasMinLength:a.length>=8,hasUppercase:/[A-Z]/.test(a),hasNumber:/[0-9]/.test(a),hasSpecialChar:/[!@#$%^&*]/.test(a)}),D=a=>{let{name:b,value:c}=a.target;q(a=>({...a,[b]:c})),v[b]&&w(a=>({...a,[b]:""})),z.message&&A({type:"",message:""})},E=async()=>{try{let a=await fetch(`${B}/sendotp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:p.email,phone_number:p.phone})}),b=await a.json();if(a.ok)return A({type:"success",message:b.message||"OTP sent successfully!"}),{success:!0,data:b};return A({type:"error",message:b.message||"Failed to send OTP"}),{success:!1,error:b.message}}catch(a){return A({type:"error",message:"Network error. Please try again."}),{success:!1,error:"Network error"}}},F=async()=>{try{let a=await fetch(`${B}/verifyotp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:p.email,phone_number:p.phone,otp:p.otp})}),b=await a.json();if(a.ok)return A({type:"success",message:b.message||"OTP verified successfully!"}),{success:!0,data:b};return A({type:"error",message:b.message||"Invalid OTP"}),{success:!1,error:b.message}}catch(a){return A({type:"error",message:"Network error. Please try again."}),{success:!1,error:"Network error"}}},G=async()=>{try{let a=await fetch(`${B}/resetpassword`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:p.email,phone_number:p.phone,newPassword:p.password})}),b=await a.json();if(!a.ok)return A({type:"error",message:b.message||"Failed to reset password"}),{success:!1,error:b.message};try{localStorage.removeItem("forgetPasswordState")}catch(a){}return A({type:"success",message:b.message||"Password reset successfully!"}),{success:!0,data:b}}catch(a){return A({type:"error",message:"Network error. Please try again."}),{success:!1,error:"Network error"}}},H=async()=>{if(A({type:"",message:""}),1===a){let a;if(a={},p.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p.email)||(a.email="Please enter a valid email"):a.email="Email is required",p.phone?/^\d{10}$/.test(p.phone)||(a.phone="Please enter a valid 10-digit phone number"):a.phone="Phone number is required",w(a),0!==Object.keys(a).length)return;y(!0);let b=await E();y(!1),b.success&&h(2)}else if(2===a){let a;if(a={},p.otp&&6===p.otp.length||(a.otp="Please enter complete 6-digit OTP"),w(a),0!==Object.keys(a).length)return;y(!0);let b=await F();y(!1),b.success&&h(3)}else if(3===a){if(!(()=>{let a={},{password:b,confirmPassword:c}=p,{hasMinLength:d,hasUppercase:e,hasNumber:f,hasSpecialChar:g}=C(b);return b?d&&e&&f&&g||(a.password="Password must meet all criteria listed below."):a.password="Password is required",c?b!==c&&(a.confirmPassword="Passwords do not match"):a.confirmPassword="Please confirm your password",w(a),0===Object.keys(a).length})())return;y(!0);let a=await G();y(!1),a.success&&h(4)}},I=async()=>{if(x)return;A({type:"",message:""}),y(!0);let a=await E();y(!1),a.success&&A({type:"success",message:"OTP resent successfully!"})},J=C(p.password);return(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:[(0,b.jsxs)("div",{className:"w-full max-w-md",children:[(0,b.jsx)("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100",children:(0,b.jsxs)("div",{className:"p-8",children:[z.message&&(0,b.jsx)("div",{className:`mb-4 p-3 rounded-lg text-sm font-medium animate-slideDown ${"success"===z.type?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:z.message}),1===a&&(0,b.jsxs)("div",{className:"space-y-6 animate-fadeIn",children:[(0,b.jsxs)("div",{className:"text-center space-y-2",children:[(0,b.jsx)("div",{className:"mx-auto w-16 h-16 bg-black rounded-full flex items-center justify-center mb-4",children:(0,b.jsx)(m.Shield,{className:"w-8 h-8 text-white"})}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-black",children:"Forgot Password?"}),(0,b.jsx)("p",{className:"text-gray-600 text-sm",children:"Enter your email and phone number to receive a verification code"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"email",className:"block text-sm font-semibold text-black mb-2",children:"Email Address"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(d.Mail,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 w-5 h-5"}),(0,b.jsx)("input",{id:"email",type:"email",name:"email",value:p.email,onChange:D,className:`
                          w-full pl-10 pr-3 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 
                          transition-all duration-200 text-black placeholder-gray-400
                          ${v.email?"border-red-500 focus:ring-red-500":"border-gray-200 focus:ring-black focus:border-black"}
                        `,placeholder:"Enter your email",autoComplete:"email"})]}),v.email&&(0,b.jsx)("p",{className:"mt-1 text-xs text-red-500 animate-slideDown",children:v.email})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"phone",className:"block text-sm font-semibold text-black mb-2",children:"Phone Number"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(e.Phone,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 w-5 h-5"}),(0,b.jsx)("input",{id:"phone",type:"tel",name:"phone",value:p.phone,onChange:D,className:`
                          w-full pl-10 pr-3 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 
                          transition-all duration-200 text-black placeholder-gray-400
                          ${v.phone?"border-red-500 focus:ring-red-500":"border-gray-200 focus:ring-black focus:border-black"}
                        `,placeholder:"Enter 10-digit phone number",maxLength:"10",autoComplete:"tel"})]}),v.phone&&(0,b.jsx)("p",{className:"mt-1 text-xs text-red-500 animate-slideDown",children:v.phone})]})]}),(0,b.jsx)("button",{onClick:H,disabled:x,className:"w-full bg-black text-white py-3 px-4 rounded-lg font-semibold  hover:bg-gray-900 transform hover:scale-[1.02] transition-all duration-200  focus:outline-none focus:ring-2 focus:ring-black focus:ring-offset-2  disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center shadow-lg",children:x?(0,b.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,b.jsxs)(b.Fragment,{children:["Send OTP",(0,b.jsx)(g.ArrowRight,{className:"ml-2 w-5 h-5"})]})})]}),2===a&&(0,b.jsxs)("div",{className:"space-y-6 animate-fadeIn",children:[(0,b.jsxs)("div",{className:"text-center space-y-2",children:[(0,b.jsx)("div",{className:"mx-auto w-16 h-16 bg-black rounded-full flex items-center justify-center mb-4",children:(0,b.jsx)(n,{className:"w-8 h-8 text-white"})}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-black",children:"Enter Verification Code"}),(0,b.jsxs)("p",{className:"text-gray-600 text-sm",children:["We sent a verification code to"," ",(0,b.jsx)("span",{className:"font-semibold text-black",children:p.email})," ","and"," ",(0,b.jsx)("span",{className:"font-semibold text-black",children:p.phone})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("input",{id:"otp",type:"text",inputMode:"numeric",name:"otp",value:p.otp,onChange:a=>{let b=a.target.value.replace(/\D/g,"").slice(0,6);q(a=>({...a,otp:b})),v.otp&&w(a=>({...a,otp:""})),z.message&&A({type:"",message:""})},className:`
                      w-full text-center border-2 rounded-lg text-lg font-bold text-black py-3
                      focus:outline-none focus:ring-2 focus:ring-black focus:border-black
                      transition-all duration-200
                      ${v.otp?"border-red-500":"border-gray-300"}
                    `,maxLength:"6",placeholder:"Enter 6-digit code",autoComplete:"one-time-code"}),v.otp&&(0,b.jsx)("p",{className:"mt-2 text-xs text-red-500 text-center animate-slideDown",children:v.otp})]}),(0,b.jsx)("div",{className:"text-center",children:(0,b.jsx)("button",{onClick:I,disabled:x,className:"text-black hover:text-gray-700 text-sm font-semibold disabled:opacity-50 transition-colors underline",children:x?"Sending...":"Didn&apos;t receive code? Resend"})}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("button",{onClick:()=>{h(1),A({type:"",message:""})},disabled:x,className:"flex-1 bg-gray-100 text-black py-3 px-4 rounded-lg font-semibold  hover:bg-gray-200 transform hover:scale-[1.02] transition-all duration-200  focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 flex items-center justify-center disabled:opacity-50",children:[(0,b.jsx)(i,{className:"mr-2 w-5 h-5"}),"Back"]}),(0,b.jsx)("button",{onClick:H,disabled:x,className:"flex-1 bg-black text-white py-3 px-4 rounded-lg font-semibold  hover:bg-gray-900 transform hover:scale-[1.02] transition-all duration-200  focus:outline-none focus:ring-2 focus:ring-black focus:ring-offset-2  disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center shadow-lg",children:x?(0,b.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,b.jsxs)(b.Fragment,{children:["Verify",(0,b.jsx)(g.ArrowRight,{className:"ml-2 w-5 h-5"})]})})]})]}),3===a&&(0,b.jsxs)("div",{className:"space-y-6 animate-fadeIn",children:[(0,b.jsxs)("div",{className:"text-center space-y-2",children:[(0,b.jsx)("div",{className:"mx-auto w-16 h-16 bg-black rounded-full flex items-center justify-center mb-4",children:(0,b.jsx)(f.Lock,{className:"w-8 h-8 text-white"})}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-black",children:"Create New Password"}),(0,b.jsx)("p",{className:"text-gray-600 text-sm",children:"Choose a strong password for your account"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"password",className:"block text-sm font-semibold text-black mb-2",children:"New Password"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(f.Lock,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 w-5 h-5"}),(0,b.jsx)("input",{id:"password",type:r?"text":"password",name:"password",value:p.password,onChange:D,className:`
                          w-full pl-10 pr-10 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 
                          transition-all duration-200 text-black placeholder-gray-400
                          ${v.password?"border-red-500 focus:ring-red-500":"border-gray-200 focus:ring-black focus:border-black"}
                        `,placeholder:"Enter new password",autoComplete:"new-password"}),(0,b.jsx)("button",{type:"button",onClick:()=>s(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-black p-1","aria-label":r?"Hide password":"Show password",children:r?(0,b.jsx)(l.EyeOff,{className:"w-5 h-5"}):(0,b.jsx)(k.Eye,{className:"w-5 h-5"})})]}),v.password&&(0,b.jsx)("p",{className:"mt-1 text-xs text-red-500 animate-slideDown",children:v.password})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-black mb-2",children:"Confirm Password"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(f.Lock,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 w-5 h-5"}),(0,b.jsx)("input",{id:"confirmPassword",type:t?"text":"password",name:"confirmPassword",value:p.confirmPassword,onChange:D,className:`
                          w-full pl-10 pr-10 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 
                          transition-all duration-200 text-black placeholder-gray-400
                          ${v.confirmPassword?"border-red-500 focus:ring-red-500":"border-gray-200 focus:ring-black focus:border-black"}
                        `,placeholder:"Confirm new password",autoComplete:"new-password"}),(0,b.jsx)("button",{type:"button",onClick:()=>u(!t),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-black p-1","aria-label":t?"Hide confirm password":"Show confirm password",children:t?(0,b.jsx)(l.EyeOff,{className:"w-5 h-5"}):(0,b.jsx)(k.Eye,{className:"w-5 h-5"})})]}),v.confirmPassword&&(0,b.jsx)("p",{className:"mt-1 text-xs text-red-500 animate-slideDown",children:v.confirmPassword})]}),(0,b.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2 border border-gray-200",children:[(0,b.jsx)("p",{className:"text-xs font-bold text-black uppercase tracking-wide",children:"Password Requirements:"}),(0,b.jsxs)("ul",{className:"space-y-2",children:[(0,b.jsxs)("li",{className:`flex items-center text-xs transition-colors duration-200 font-medium ${J.hasMinLength?"text-green-600":"text-gray-500"}`,children:[(0,b.jsx)("div",{className:`w-4 h-4 mr-2 rounded-full border-2 flex items-center justify-center transition-all duration-200 ${J.hasMinLength?"border-green-600 bg-green-600":"border-gray-400"}`,children:(0,b.jsx)(j.Check,{className:`w-2.5 h-2.5 text-white transition-opacity duration-200 ${J.hasMinLength?"opacity-100":"opacity-0"}`})}),"At least 8 characters"]}),(0,b.jsxs)("li",{className:`flex items-center text-xs transition-colors duration-200 font-medium ${J.hasUppercase?"text-green-600":"text-gray-500"}`,children:[(0,b.jsx)("div",{className:`w-4 h-4 mr-2 rounded-full border-2 flex items-center justify-center transition-all duration-200 ${J.hasUppercase?"border-green-600 bg-green-600":"border-gray-400"}`,children:(0,b.jsx)(j.Check,{className:`w-2.5 h-2.5 text-white transition-opacity duration-200 ${J.hasUppercase?"opacity-100":"opacity-0"}`})}),"One uppercase letter (A-Z)"]}),(0,b.jsxs)("li",{className:`flex items-center text-xs transition-colors duration-200 font-medium ${J.hasNumber?"text-green-600":"text-gray-500"}`,children:[(0,b.jsx)("div",{className:`w-4 h-4 mr-2 rounded-full border-2 flex items-center justify-center transition-all duration-200 ${J.hasNumber?"border-green-600 bg-green-600":"border-gray-400"}`,children:(0,b.jsx)(j.Check,{className:`w-2.5 h-2.5 text-white transition-opacity duration-200 ${J.hasNumber?"opacity-100":"opacity-0"}`})}),"One number (0-9)"]}),(0,b.jsxs)("li",{className:`flex items-center text-xs transition-colors duration-200 font-medium ${J.hasSpecialChar?"text-green-600":"text-gray-500"}`,children:[(0,b.jsx)("div",{className:`w-4 h-4 mr-2 rounded-full border-2 flex items-center justify-center transition-all duration-200 ${J.hasSpecialChar?"border-green-600 bg-green-600":"border-gray-400"}`,children:(0,b.jsx)(j.Check,{className:`w-2.5 h-2.5 text-white transition-opacity duration-200 ${J.hasSpecialChar?"opacity-100":"opacity-0"}`})}),"One special character (!@#$%^&*)"]})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("button",{onClick:()=>{h(2),A({type:"",message:""})},disabled:x,className:"flex-1 bg-gray-100 text-black py-3 px-4 rounded-lg font-semibold  hover:bg-gray-200 transform hover:scale-[1.02] transition-all duration-200  focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2  flex items-center justify-center disabled:opacity-50",children:[(0,b.jsx)(i,{className:"mr-2 w-5 h-5"}),"Back"]}),(0,b.jsx)("button",{onClick:H,disabled:x,className:"flex-1 bg-black text-white py-3 px-4 rounded-lg font-semibold  hover:bg-gray-900 transform hover:scale-[1.02] transition-all duration-200  focus:outline-none focus:ring-2 focus:ring-black focus:ring-offset-2  disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center shadow-lg",children:x?(0,b.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Reset Password"})]})]}),4===a&&(0,b.jsxs)("div",{className:"space-y-6 animate-fadeIn text-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"mx-auto w-20 h-20 bg-black rounded-full flex items-center justify-center mb-4 animate-scaleIn",children:(0,b.jsx)(j.Check,{className:"w-10 h-10 text-white"})}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-black mb-2",children:"Password Reset Successful!"}),(0,b.jsx)("p",{className:"text-gray-600 text-sm",children:"Your password has been reset successfully. You can now login with your new password."})]}),(0,b.jsx)(o.default,{href:"/login",children:(0,b.jsx)("button",{className:"w-full bg-black text-white py-3 px-4 rounded-lg font-semibold  hover:bg-gray-900 transform hover:scale-[1.02] transition-all duration-200  focus:outline-none focus:ring-2 focus:ring-black focus:ring-offset-2 shadow-lg",children:"Go to Login"})})]})]})}),a<4&&(0,b.jsx)("div",{className:"mt-6 text-center",children:(0,b.jsxs)(o.default,{href:"/login",className:"text-gray-600 hover:text-black text-sm font-medium transition-colors",children:["Remember password?"," ",(0,b.jsx)("span",{className:"text-black font-bold underline",children:"Login"})]})})]}),(0,b.jsx)("style",{children:`
         @keyframes fadeIn {
           from {
             opacity: 0;
             transform: translateY(10px);
           }
           to {
             opacity: 1;
             transform: translateY(0);
           }
         }
 
         @keyframes slideDown {
           from {
             opacity: 0;
             transform: translateY(-10px);
           }
           to {
             opacity: 1;
             transform: translateY(0);
           }
         }
 
         @keyframes scaleIn {
           from {
             transform: scale(0);
           }
           to {
             transform: scale(1);
           }
         }
 
         .animate-fadeIn {
           animation: fadeIn 0.5s ease-out;
         }
 
         .animate-slideDown {
           animation: slideDown 0.3s ease-out;
         }
 
         .animate-scaleIn {
           animation: scaleIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
         }
      `})]})}],92037)}];

//# sourceMappingURL=src_app_forget-password_page_bb297c0c.js.map