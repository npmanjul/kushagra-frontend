module.exports=[768,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(22520),e=a.i(57344),f=a.i(56738),g=a.i(24669),h=a.i(87532),i=a.i(11156),j=a.i(8406),k=a.i(41710),l=a.i(24987),m=a.i(2835),n=a.i(17545),o=a.i(69520),p=a.i(33508),q=a.i(67453);let r=(0,a.i(70106).default)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var s=a.i(92e3),t=a.i(46842),u=a.i(35050),v=a.i(23821),w=a.i(18398),x=a.i(13749),y=a.i(50522),z=a.i(4720),A=a.i(3314),B=a.i(46864),C=a.i(86520),D=a.i(63519),E=a.i(92258),F=a.i(67900),G=a.i(41675),H=a.i(62722),I=a.i(14753),J=a.i(77156),K=a.i(66322),L=a.i(83497),M=a.i(60779),N=a.i(75147),O=a.i(6704);let P=({transaction:a,isOpen:c,onClose:f})=>{var h,j;let n,o;if(!c||!a)return null;let r=a.grain?.[0],x=a.approval_status,y=()=>[{name:"Supervisor",role:"supervisor",icon:B.UserCheck,status:x?.supervisor_approval?.status||!1,user:x?.supervisor_approval?.user_id?.name,date:x?.supervisor_approval?.date,color:"blue"},{name:"Manager",role:"manager",icon:A.Shield,status:x?.manager_approval?.status||!1,user:x?.manager_approval?.user_id?.name,date:x?.manager_approval?.date,color:"purple"},{name:"Admin",role:"admin",icon:C.Crown,status:x?.admin_approval?.status||!1,user:x?.admin_approval?.user_id?.name,date:x?.admin_approval?.date,color:"amber"}],J=a=>a?new Date(a).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Pending",L=(h=a.transaction_type,(n={deposit:{bg:"from-emerald-500 to-green-600",light:"bg-emerald-50",text:"text-emerald-600",icon:e.ArrowDownRight},sell:{bg:"from-blue-500 to-indigo-600",light:"bg-blue-50",text:"text-blue-600",icon:g.TrendingUp},loan:{bg:"from-violet-500 to-purple-600",light:"bg-violet-50",text:"text-violet-600",icon:i.CreditCard},withdraw:{bg:"from-rose-500 to-red-600",light:"bg-rose-50",text:"text-rose-600",icon:d.ArrowUpRight}})[h]||n.deposit),M=L.icon,N=(j=a.transaction_status,(o={completed:{icon:q.CheckCircle2,bg:"bg-emerald-500",text:"text-emerald-600",lightBg:"bg-emerald-50"},pending:{icon:I.Timer,bg:"bg-amber-500",text:"text-amber-600",lightBg:"bg-amber-50"},rejected:{icon:H.XCircle,bg:"bg-rose-500",text:"text-rose-600",lightBg:"bg-rose-50"}})[j]||o.pending),O=N.icon;return(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:f}),(0,b.jsxs)("div",{className:"relative w-full max-w-3xl max-h-[90vh] overflow-hidden bg-white rounded-3xl shadow-2xl animate-in zoom-in-95 duration-300",children:[(0,b.jsxs)("div",{className:`relative bg-gradient-to-r ${L.bg} p-6 text-white overflow-hidden`,children:[(0,b.jsx)("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -translate-y-32 translate-x-32"}),(0,b.jsx)("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/10 rounded-full translate-y-24 -translate-x-24"}),(0,b.jsxs)("div",{className:"relative flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"p-4 bg-white/20 rounded-2xl backdrop-blur-sm",children:(0,b.jsx)(M,{className:"w-8 h-8"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold capitalize",children:"deposit"===a.transaction_type?"Grain Deposit":"sell"===a.transaction_type?"Grain Sale":"loan"===a.transaction_type?"Loan Credit":"Grain Withdrawal"}),(0,b.jsxs)("p",{className:"text-white/80 mt-1 flex items-center gap-2",children:[(0,b.jsx)(m.Hash,{className:"w-4 h-4"}),a._id]})]})]}),(0,b.jsx)("button",{onClick:f,className:"p-2 hover:bg-white/20 rounded-xl transition-colors",children:(0,b.jsx)(p.X,{className:"w-6 h-6"})})]}),(0,b.jsxs)("div",{className:"mt-4 flex items-center gap-3",children:[(0,b.jsxs)("span",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-semibold ${N.lightBg} ${N.text}`,children:[(0,b.jsx)(O,{className:"w-4 h-4"}),a.transaction_status?.toUpperCase()]}),(0,b.jsxs)("span",{className:"text-white/80 text-sm flex items-center gap-1",children:[(0,b.jsx)(G.Calendar,{className:"w-4 h-4"}),J(a.transaction_date)]})]})]}),(0,b.jsxs)("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl p-5 text-white",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("span",{className:"text-gray-400 text-sm font-medium",children:"Total Amount"}),(0,b.jsx)(K.Banknote,{className:"w-5 h-5 text-emerald-400"})]}),(0,b.jsxs)("p",{className:"text-4xl font-bold",children:["₹",a.total_amount?.toLocaleString("en-IN")]}),r&&(0,b.jsxs)("p",{className:"text-gray-400 text-sm mt-2",children:[r.quantity_quintal," ",r.category_id?.unit||"quintal"," × ₹",r.price_per_quintal?.toLocaleString("en-IN")]})]}),r&&(0,b.jsxs)("div",{className:"bg-gray-50 rounded-2xl p-5",children:[(0,b.jsxs)("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-4 flex items-center gap-2",children:[(0,b.jsx)(u.Wheat,{className:"w-4 h-4"}),"Grain Information"]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Grain Type"}),(0,b.jsx)("p",{className:"text-lg font-bold text-gray-900",children:r.category_id?.grain_type||"N/A"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Quality Grade"}),(0,b.jsxs)("p",{className:"text-lg font-bold text-gray-900",children:["Grade ",r.category_id?.quality||"N/A"]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Quantity"}),(0,b.jsxs)("p",{className:"text-lg font-bold text-gray-900 flex items-center gap-1",children:[(0,b.jsx)(w.Scale,{className:"w-4 h-4 text-amber-500"}),r.quantity_quintal," ",r.category_id?.unit||"quintal"]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Moisture Content"}),(0,b.jsxs)("p",{className:"text-lg font-bold text-gray-900 flex items-center gap-1",children:[(0,b.jsx)(v.Droplets,{className:"w-4 h-4 text-cyan-500"}),r.moisture_content||0,"%"]})]})]})]}),a.warehouse_id&&(0,b.jsxs)("div",{className:"bg-indigo-50 rounded-2xl p-5",children:[(0,b.jsxs)("h3",{className:"text-sm font-semibold text-indigo-600 uppercase tracking-wide mb-3 flex items-center gap-2",children:[(0,b.jsx)(F.Building2,{className:"w-4 h-4"}),"Warehouse Details"]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-3 bg-indigo-100 rounded-xl",children:(0,b.jsx)(l.MapPin,{className:"w-6 h-6 text-indigo-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-bold text-gray-900",children:a.warehouse_id.name}),(0,b.jsx)("p",{className:"text-gray-600 text-sm",children:a.warehouse_id.location})]})]})]}),a.remarks&&(0,b.jsxs)("div",{className:"bg-amber-50 rounded-2xl p-5",children:[(0,b.jsxs)("h3",{className:"text-sm font-semibold text-amber-600 uppercase tracking-wide mb-2 flex items-center gap-2",children:[(0,b.jsx)(z.FileText,{className:"w-4 h-4"}),"Remarks"]}),(0,b.jsx)("p",{className:"text-gray-700",children:a.remarks})]})]}),(0,b.jsx)("div",{children:(0,b.jsxs)("div",{className:"bg-gray-50 rounded-2xl p-5 h-full",children:[(0,b.jsxs)("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-6 flex items-center gap-2",children:[(0,b.jsx)(A.Shield,{className:"w-4 h-4"}),"Approval Workflow"]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"absolute left-6 top-0 bottom-0 w-0.5 bg-gray-200"}),(0,b.jsx)("div",{className:"space-y-6",children:y().map((a,c)=>{let d=a.icon;return(0,b.jsxs)("div",{className:"relative flex items-start gap-4",children:[(0,b.jsx)("div",{className:`relative z-10 w-12 h-12 rounded-xl flex items-center justify-center shadow-lg transition-all ${a.status?"bg-gradient-to-br from-emerald-500 to-green-600 text-white":"bg-white border-2 border-dashed border-gray-300 text-gray-400"}`,children:a.status?(0,b.jsx)(q.CheckCircle2,{className:"w-6 h-6"}):(0,b.jsx)(d,{className:"w-5 h-5"})}),(0,b.jsxs)("div",{className:"flex-1 pt-1",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,b.jsxs)("h4",{className:`font-semibold ${a.status?"text-gray-900":"text-gray-400"}`,children:[a.name," Approval"]}),a.status&&(0,b.jsx)("span",{className:"text-xs bg-emerald-100 text-emerald-700 px-2 py-1 rounded-full font-medium",children:"Approved"})]}),a.status?(0,b.jsxs)("div",{className:"bg-white rounded-xl p-3 border border-gray-100",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center",children:(0,b.jsx)(t.User,{className:"w-3 h-3 text-white"})}),(0,b.jsx)("span",{className:"font-medium text-gray-900",children:a.user})]}),(0,b.jsxs)("p",{className:"text-xs text-gray-500 flex items-center gap-1 ml-8",children:[(0,b.jsx)(k.Clock,{className:"w-3 h-3"}),J(a.date)]})]}):(0,b.jsx)("div",{className:"bg-white rounded-xl p-3 border-2 border-dashed border-gray-200",children:(0,b.jsxs)("p",{className:"text-gray-400 text-sm flex items-center gap-2",children:[(0,b.jsx)(s.AlertCircle,{className:"w-4 h-4"}),"Awaiting approval"]})})]})]},c)})})]}),(0,b.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-gray-500",children:"Approval Progress"}),(0,b.jsxs)("span",{className:"text-sm font-bold text-gray-900",children:[y().filter(a=>a.status).length," / 3"]})]}),(0,b.jsx)("div",{className:"mt-2 h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-gradient-to-r from-emerald-500 to-green-600 rounded-full transition-all duration-500",style:{width:`${y().filter(a=>a.status).length/3*100}%`}})})]})]})})]}),a.user_id&&(0,b.jsxs)("div",{className:"mt-6 bg-gradient-to-r from-gray-50 to-indigo-50/50 rounded-2xl p-5",children:[(0,b.jsxs)("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-4 flex items-center gap-2",children:[(0,b.jsx)(t.User,{className:"w-4 h-4"}),"Farmer Information"]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[a.user_id.farmerProfile?.user_image&&(0,b.jsx)("img",{src:a.user_id.farmerProfile.user_image,alt:a.user_id.name,className:"w-16 h-16 rounded-2xl object-cover border-2 border-white shadow-lg"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)("h4",{className:"font-bold text-gray-900 text-lg",children:a.user_id.name}),(0,b.jsx)("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 text-xs rounded-full font-medium capitalize",children:a.user_id.role})]}),a.user_id.farmerProfile?.farmerId&&(0,b.jsxs)("p",{className:"text-sm text-indigo-600 font-mono mb-2",children:["ID: ",a.user_id.farmerProfile.farmerId]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(D.Phone,{className:"w-4 h-4"}),a.user_id.phone_number]}),(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(E.Mail,{className:"w-4 h-4"}),a.user_id.email]})]})]})]})]})]}),(0,b.jsx)("div",{className:"p-6 bg-gray-50 border-t border-gray-100",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:["Last updated: ",J(x?.updatedAt)]}),(0,b.jsx)("button",{onClick:f,className:"px-6 py-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-medium rounded-xl shadow-lg shadow-indigo-500/30 hover:shadow-xl hover:shadow-indigo-500/40 transition-all duration-300",children:"Close"})]})})]})]})};a.s(["default",0,()=>{let[a,m]=(0,c.useState)("all"),[p,s]=(0,c.useState)(""),[t,v]=(0,c.useState)([]),[z,A]=(0,c.useState)(null),[B,C]=(0,c.useState)({currentPage:1,limit:10,totalRecords:0,totalPages:1}),[D,E]=(0,c.useState)({sell:0,deposit:0,withdraw:0,loan:0}),[F,G]=(0,c.useState)(!0),[K,Q]=(0,c.useState)(!1),[R,S]=(0,c.useState)(null),[T,U]=(0,c.useState)(!1);(0,c.useEffect)(()=>{V()},[B.currentPage]);let V=async(a=!1)=>{a?Q(!0):G(!0);try{let a=await fetch(`${M.default}/transaction/getallusertransactions?page=${B.currentPage}&limit=${B.limit}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!a.ok)throw Error("Failed to fetch transactions");let b=await a.json();b.success&&(v(b.data),E(b.transactionCounts),C(b.pagination),A(b.user))}catch(a){console.error("Error fetching transactions:",a),O.default.error("Failed to load transactions")}finally{G(!1),Q(!1)}},W=a=>{if(a.grain&&a.grain.length>0){let b=a.grain[0];return{quantity:b.quantity_quintal,price:b.price_per_quintal,type:b.category_id?.grain_type||"N/A",quality:b.category_id?.quality||"N/A",unit:b.category_id?.unit||"quintal",moisture:b.moisture_content}}return null},X=t.filter(b=>{let c="all"===a||b.transaction_type===a,d=W(b),e=b.remarks?.toLowerCase().includes(p.toLowerCase())||b.transaction_type?.toLowerCase().includes(p.toLowerCase())||b.warehouse_id?.name?.toLowerCase().includes(p.toLowerCase())||b.warehouse_id?.location?.toLowerCase().includes(p.toLowerCase())||d?.type?.toLowerCase().includes(p.toLowerCase())||b._id?.toLowerCase().includes(p.toLowerCase());return c&&e}),Y={total:t.reduce((a,b)=>a+(b.total_amount||0),0),deposits:D.deposit||0,sells:D.sell||0,loans:D.loan||0,withdraws:D.withdraw||0},Z=[{key:"all",label:"All",icon:n.Layers,gradient:"from-indigo-500 to-purple-600",shadow:"shadow-indigo-500/40"},{key:"deposit",label:"Deposits",icon:e.ArrowDownRight,gradient:"from-emerald-500 to-green-600",shadow:"shadow-emerald-500/40"},{key:"sell",label:"Sales",icon:g.TrendingUp,gradient:"from-blue-500 to-indigo-600",shadow:"shadow-blue-500/40"},{key:"loan",label:"Loans",icon:i.CreditCard,gradient:"from-violet-500 to-purple-600",shadow:"shadow-violet-500/40"},{key:"withdraw",label:"Withdrawals",icon:d.ArrowUpRight,gradient:"from-rose-500 to-red-600",shadow:"shadow-rose-500/40"}];return F?(0,b.jsx)(N.default,{}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-indigo-50/30",children:[(0,b.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,b.jsx)("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-gradient-to-br from-indigo-400/20 to-purple-400/20 rounded-full blur-3xl animate-pulse"}),(0,b.jsx)("div",{className:"absolute top-1/2 -left-40 w-96 h-96 bg-gradient-to-br from-emerald-400/20 to-cyan-400/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),(0,b.jsx)("div",{className:"absolute -bottom-40 right-1/3 w-96 h-96 bg-gradient-to-br from-rose-400/20 to-orange-400/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),(0,b.jsxs)("div",{className:"relative max-w-7xl mx-auto p-4 lg:p-8",children:[(0,b.jsx)("div",{className:"mb-8",children:(0,b.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[(0,b.jsx)("div",{children:(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[(0,b.jsx)("div",{className:"p-3 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl shadow-lg shadow-indigo-500/30",children:(0,b.jsx)(f.Wallet,{className:"w-7 h-7 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl lg:text-4xl font-bold bg-gradient-to-r from-gray-900 via-indigo-900 to-purple-900 bg-clip-text text-transparent",children:"Transactions"}),z&&(0,b.jsxs)("p",{className:"text-gray-500 text-sm mt-1",children:["Welcome, ",(0,b.jsx)("span",{className:"font-semibold text-indigo-600",children:z.name})," • ",z.role]})]})]})}),(0,b.jsxs)("button",{onClick:()=>V(!0),disabled:K,className:"flex items-center gap-2 px-5 py-3 bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md hover:border-indigo-300 transition-all duration-300 group",children:[(0,b.jsx)(o.RefreshCw,{className:`w-5 h-5 text-gray-500 group-hover:text-indigo-600 transition-colors ${K?"animate-spin":""}`}),(0,b.jsx)("span",{className:"font-medium text-gray-700 group-hover:text-indigo-600 transition-colors",children:"Refresh"})]})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4 mb-8",children:[(0,b.jsxs)("div",{className:"col-span-2 sm:col-span-1 group relative overflow-hidden bg-gradient-to-br from-indigo-600 via-purple-600 to-indigo-700 rounded-2xl p-5 shadow-xl shadow-indigo-500/20 hover:shadow-2xl hover:-translate-y-1 transition-all duration-500",children:[(0,b.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -translate-y-16 translate-x-16"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("span",{className:"text-indigo-100 font-medium text-sm",children:"Total Volume"}),(0,b.jsx)(j.Sparkles,{className:"w-5 h-5 text-white/80"})]}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-white",children:["₹",Y.total.toLocaleString("en-IN")]}),(0,b.jsxs)("p",{className:"text-indigo-200 text-xs mt-1",children:[B.totalRecords," transactions"]})]})]}),[{label:"Deposits",value:Y.deposits,icon:e.ArrowDownRight,color:"emerald",desc:"Grain added"},{label:"Sales",value:Y.sells,icon:g.TrendingUp,color:"blue",desc:"Grain sold"},{label:"Loans",value:Y.loans,icon:i.CreditCard,color:"violet",desc:"Credit taken"},{label:"Withdrawals",value:Y.withdraws,icon:d.ArrowUpRight,color:"rose",desc:"Grain removed"}].map((a,c)=>(0,b.jsxs)("div",{className:`group relative overflow-hidden bg-white rounded-2xl p-5 shadow-lg border border-${a.color}-100 hover:shadow-xl hover:-translate-y-1 transition-all duration-500`,children:[(0,b.jsx)("div",{className:`absolute -right-4 -top-4 w-16 h-16 bg-gradient-to-br from-${a.color}-500/20 to-${a.color}-600/20 rounded-full group-hover:scale-150 transition-transform duration-500`}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("span",{className:"text-gray-500 font-medium text-xs",children:a.label}),(0,b.jsx)("div",{className:`p-2 bg-gradient-to-br from-${a.color}-500 to-${a.color}-600 rounded-xl shadow-lg`,children:(0,b.jsx)(a.icon,{className:"w-4 h-4 text-white"})})]}),(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:a.value}),(0,b.jsx)("p",{className:`text-${a.color}-600 text-xs font-medium`,children:a.desc})]})]},c))]}),(0,b.jsx)("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl p-5 shadow-xl border border-gray-100 mb-6",children:(0,b.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsx)(h.Search,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search transactions...",value:p,onChange:a=>s(a.target.value),className:"w-full pl-12 pr-4 py-3 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"})]}),(0,b.jsx)("div",{className:"flex gap-2 flex-wrap",children:Z.map(c=>{let d=a===c.key,e=c.icon;return(0,b.jsxs)("button",{onClick:()=>m(c.key),className:`flex items-center gap-2 px-4 py-3 rounded-xl font-medium transition-all duration-300 ${d?`bg-gradient-to-r ${c.gradient} text-white shadow-lg ${c.shadow}`:"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[(0,b.jsx)(e,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"hidden sm:inline text-sm",children:c.label})]},c.key)})})]})}),(0,b.jsx)("div",{className:"space-y-4",children:X.map(a=>{var c;let h,j=W(a),m=(c=a.transaction_type,(h={deposit:{bg:"bg-gradient-to-br from-emerald-500 to-green-600",light:"bg-emerald-50",text:"text-emerald-600",glow:"shadow-emerald-500/25"},sell:{bg:"bg-gradient-to-br from-blue-500 to-indigo-600",light:"bg-blue-50",text:"text-blue-600",glow:"shadow-blue-500/25"},loan:{bg:"bg-gradient-to-br from-violet-500 to-purple-600",light:"bg-violet-50",text:"text-violet-600",glow:"shadow-violet-500/25"},withdraw:{bg:"bg-gradient-to-br from-rose-500 to-red-600",light:"bg-rose-50",text:"text-rose-600",glow:"shadow-rose-500/25"}})[c]||h.deposit),n=(a=>{switch(a){case"completed":return{bg:"bg-gradient-to-r from-emerald-500 to-green-500",icon:q.CheckCircle2};case"pending":return{bg:"bg-gradient-to-r from-amber-400 to-orange-500",icon:I.Timer};case"rejected":return{bg:"bg-gradient-to-r from-rose-500 to-red-500",icon:H.XCircle};default:return{bg:"bg-gradient-to-r from-gray-400 to-slate-500",icon:r}}})(a.transaction_status),o=n.icon,p=(a=>{if(!a)return 0;let b=0;return a.supervisor_approval?.status&&b++,a.manager_approval?.status&&b++,a.admin_approval?.status&&b++,b})(a.approval_status);return(0,b.jsx)("div",{onClick:()=>{S(a),U(!0)},className:"group bg-white/90 backdrop-blur-xl rounded-2xl p-5 shadow-lg border border-gray-100 hover:shadow-2xl hover:-translate-y-1 transition-all duration-500 cursor-pointer",children:(0,b.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex items-start gap-4 flex-1",children:[(0,b.jsx)("div",{className:`p-3 ${m.bg} rounded-xl shadow-lg ${m.glow} group-hover:scale-110 transition-transform duration-300`,children:(0,b.jsx)("div",{className:"text-white",children:(a=>{switch(a){case"deposit":return(0,b.jsx)(e.ArrowDownRight,{className:"w-5 h-5"});case"sell":return(0,b.jsx)(g.TrendingUp,{className:"w-5 h-5"});case"loan":return(0,b.jsx)(i.CreditCard,{className:"w-5 h-5"});case"withdraw":return(0,b.jsx)(d.ArrowUpRight,{className:"w-5 h-5"});default:return(0,b.jsx)(f.Wallet,{className:"w-5 h-5"})}})(a.transaction_type)})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-900 capitalize",children:"deposit"===a.transaction_type?"Grain Deposit":"sell"===a.transaction_type?"Grain Sale":"loan"===a.transaction_type?"Loan Credit":"Grain Withdrawal"}),(0,b.jsxs)("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold text-white flex items-center gap-1 ${n.bg}`,children:[(0,b.jsx)(o,{className:"w-3 h-3"}),a.transaction_status]})]}),j&&(0,b.jsxs)("div",{className:"flex flex-wrap gap-2 mb-3",children:[(0,b.jsxs)("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 ${m.light} ${m.text} rounded-lg text-xs font-medium`,children:[(0,b.jsx)(u.Wheat,{className:"w-3 h-3"}),j.type]}),(0,b.jsxs)("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 bg-amber-50 text-amber-700 rounded-lg text-xs font-medium",children:[(0,b.jsx)(w.Scale,{className:"w-3 h-3"}),j.quantity," ",j.unit]}),(0,b.jsxs)("span",{className:"inline-flex items-center px-2.5 py-1 bg-purple-50 text-purple-700 rounded-lg text-xs font-medium",children:["Grade ",j.quality]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 flex-wrap text-xs text-gray-500",children:[a.warehouse_id&&(0,b.jsxs)("span",{className:"flex items-center gap-1 bg-indigo-50 text-indigo-600 px-2 py-1 rounded-lg",children:[(0,b.jsx)(l.MapPin,{className:"w-3 h-3"}),a.warehouse_id.name]}),(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(k.Clock,{className:"w-3 h-3"}),new Date(a.transaction_date).toLocaleDateString("en-IN",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"hidden md:flex flex-col items-center gap-1",children:[(0,b.jsx)("div",{className:"flex items-center gap-1",children:[0,1,2].map(a=>(0,b.jsx)("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold transition-all ${a<p?"bg-gradient-to-br from-emerald-500 to-green-600 text-white shadow-lg shadow-emerald-500/30":"bg-gray-100 text-gray-400"}`,children:a<p?"✓":a+1},a))}),(0,b.jsxs)("span",{className:"text-xs text-gray-400",children:[p,"/3 approved"]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["₹",a.total_amount?.toLocaleString("en-IN")||0]}),j&&(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:["₹",j.price?.toLocaleString("en-IN"),"/",j.unit]})]}),(0,b.jsx)("div",{className:"p-2 bg-gray-100 rounded-xl group-hover:bg-indigo-100 transition-colors",children:(0,b.jsx)(J.Eye,{className:"w-5 h-5 text-gray-400 group-hover:text-indigo-600 transition-colors"})})]})]})},a._id)})}),0===X.length&&(0,b.jsxs)("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl p-12 shadow-xl border border-gray-100 text-center",children:[(0,b.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-gray-100 to-gray-200 rounded-3xl mb-6",children:(0,b.jsx)(L.Package,{className:"w-10 h-10 text-gray-400"})}),(0,b.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"No transactions found"}),(0,b.jsx)("p",{className:"text-gray-500 mb-6",children:"Try adjusting your search or filter criteria"}),(p||"all"!==a)&&(0,b.jsxs)("button",{onClick:()=>{s(""),m("all")},className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-medium rounded-xl shadow-lg hover:shadow-xl transition-all",children:[(0,b.jsx)(o.RefreshCw,{className:"w-4 h-4"}),"Clear Filters"]})]}),B.totalPages>1&&(0,b.jsxs)("div",{className:"mt-8 flex items-center justify-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>C(a=>({...a,currentPage:Math.max(1,a.currentPage-1)})),disabled:1===B.currentPage,className:"p-3 bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:(0,b.jsx)(x.ChevronLeft,{className:"w-5 h-5"})}),Array.from({length:B.totalPages},(a,b)=>b+1).map(a=>(0,b.jsx)("button",{onClick:()=>C(b=>({...b,currentPage:a})),className:`w-10 h-10 rounded-xl font-medium transition-all ${B.currentPage===a?"bg-gradient-to-r from-indigo-500 to-purple-600 text-white shadow-lg":"bg-white text-gray-600 border border-gray-200 hover:border-indigo-300"}`,children:a},a)),(0,b.jsx)("button",{onClick:()=>C(a=>({...a,currentPage:Math.min(a.totalPages,a.currentPage+1)})),disabled:B.currentPage===B.totalPages,className:"p-3 bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:(0,b.jsx)(y.ChevronRight,{className:"w-5 h-5"})})]}),X.length>0&&(0,b.jsx)("div",{className:"mt-6 text-center",children:(0,b.jsxs)("p",{className:"text-gray-500 text-sm",children:["Showing ",(0,b.jsx)("span",{className:"font-semibold text-gray-700",children:X.length})," of"," ",(0,b.jsx)("span",{className:"font-semibold text-gray-700",children:B.totalRecords})," transactions"]})})]})]}),(0,b.jsx)(P,{transaction:R,isOpen:T,onClose:()=>{U(!1),setTimeout(()=>S(null),300)}})]})}],768)}];

//# sourceMappingURL=src_app_dashboard_transactions_page_jsx_5999b5b8._.js.map