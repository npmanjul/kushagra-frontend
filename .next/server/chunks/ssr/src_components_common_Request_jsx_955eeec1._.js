module.exports=[46801,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(87532),e=a.i(16201),f=a.i(62722),g=a.i(77156),h=a.i(41710),i=a.i(24669),j=a.i(83497),k=a.i(92e3),l=a.i(41675),m=a.i(46842),n=a.i(63910),o=a.i(23821),p=a.i(33508),q=a.i(57344),r=a.i(56738),s=a.i(69520),t=a.i(70106);let u=(0,t.default)("ban",[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var v=a.i(24987),w=a.i(63519),x=a.i(13749),y=a.i(50522),z=a.i(18341),A=a.i(31746),B=a.i(92258),C=a.i(96221),D=a.i(28379);let E=(0,t.default)("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);var F=a.i(3314),G=a.i(60246),H=a.i(86520),I=a.i(66322),J=a.i(38784);let K=(0,t.default)("percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);var L=a.i(4334),M=a.i(2835),N=a.i(14753);let O=a=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumSignificantDigits:10}).format(a);var P=a.i(60779),Q=a.i(11156),R=a.i(4720),S=a.i(32860);let T=({icon:a,label:d,value:e,highlight:f=!1})=>(0,b.jsxs)("div",{className:`flex items-center gap-3 p-3 rounded-lg ${f?"bg-white shadow-sm border border-gray-100":""}`,children:[(0,b.jsx)("div",{className:"text-gray-400",children:c.default.cloneElement(a,{className:"w-4 h-4"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:d}),(0,b.jsx)("p",{className:`font-semibold ${f?"text-lg text-emerald-600":"text-gray-900"}`,children:e})]})]}),U=({transaction:a,config:c,transactionType:d,onClose:g,onApprove:i,onReject:q,getApprovalStatus:r,getIndividualApprovalStatus:s,userRole:t="supervisor",canApprove:u=!1,isProcessing:x=!1})=>{if(!a)return null;let y=r(a.approval,a.transaction_status),z=c.icon,A=(a.grain||a.grains||[])[0]||{},E="pending"===a.transaction_status,F="withdraw"===d,I=s(a.approval?.admin_approval),J=s(a.approval?.manager_approval),K=s(a.approval?.supervisor_approval),L={personal_use:{label:"Personal Use",icon:"ðŸ ",color:"bg-blue-50 text-blue-700 border-blue-200"},sale:{label:"For Sale",icon:"ðŸ’°",color:"bg-emerald-50 text-emerald-700 border-emerald-200"},other:{label:"Other",icon:"ðŸ“‹",color:"bg-gray-50 text-gray-700 border-gray-200"}},M=F&&a.remarks?L[a.remarks]||L.other:null,N={admin:H.Crown,manager:D.UserCog,supervisor:G.Users},P=({label:a,approval:c,roleKey:d})=>{let g=N[d],i=t===d,j=(()=>{switch(c.status){case"approved":return{bg:"bg-emerald-100",border:"border-emerald-300",text:"text-emerald-700",icon:(0,b.jsx)(e.CheckCircle,{className:"w-5 h-5 text-emerald-600"})};case"rejected":return{bg:"bg-red-100",border:"border-red-300",text:"text-red-700",icon:(0,b.jsx)(f.XCircle,{className:"w-5 h-5 text-red-600"})};default:return{bg:i&&u?"bg-amber-100":"bg-gray-100",border:i&&u?"border-amber-300":"border-gray-300",text:i&&u?"text-amber-700":"text-gray-500",icon:(0,b.jsx)(h.Clock,{className:`w-5 h-5 ${i&&u?"text-amber-600 animate-pulse":"text-gray-400"}`})}}})();return(0,b.jsxs)("div",{className:`
        flex items-center gap-3 p-4 rounded-xl border-2 ${j.border} ${j.bg}
        ${i&&u?"ring-2 ring-amber-400 ring-offset-2":""}
      `,children:[(0,b.jsx)("div",{className:`p-2 rounded-lg ${j.bg}`,children:j.icon}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(g,{className:`w-4 h-4 ${j.text}`}),(0,b.jsx)("span",{className:`font-semibold ${j.text}`,children:a}),i&&(0,b.jsx)("span",{className:"px-2 py-0.5 bg-white/50 rounded-full text-xs font-medium",children:"You"})]}),c.hasAction&&c.user&&(0,b.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["approved"===c.status?"Approved":"Rejected"," by ",c.user.name]}),"pending"===c.status&&i&&u&&(0,b.jsx)("p",{className:"text-sm text-amber-600 mt-1 font-medium",children:"âš¡ Action required"})]})]})};return(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:(0,b.jsxs)("div",{className:"relative w-full max-w-3xl max-h-[90vh] overflow-y-auto bg-white rounded-2xl shadow-2xl",children:[(0,b.jsxs)("div",{className:`sticky top-0 z-10 bg-gradient-to-r ${c.gradient} p-6 rounded-t-2xl`,children:[(0,b.jsx)("button",{onClick:g,className:"absolute top-4 right-4 p-2 bg-white/20 hover:bg-white/30 rounded-full transition-colors",children:(0,b.jsx)(p.X,{className:"w-5 h-5 text-white"})}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"p-3 bg-white/20 rounded-xl",children:(0,b.jsx)(z,{className:"w-8 h-8 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-white",children:[c.label," Request Details"]}),(0,b.jsxs)("p",{className:"text-white/80 text-sm mt-1",children:["Transaction ID: #",a._id?.slice(-8).toUpperCase()]})]})]}),(0,b.jsx)("div",{className:"mt-4",children:(0,b.jsxs)("span",{className:`
              inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-bold
              bg-white/20 text-white backdrop-blur-sm
            `,children:[y.icon,y.text]})})]}),(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"bg-gray-50 rounded-xl p-5 border border-gray-100",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,b.jsx)(m.User,{className:"w-5 h-5 text-gray-600"}),"User Information"]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsx)(T,{icon:(0,b.jsx)(m.User,{}),label:"Name",value:a.user?.name||"N/A"}),(0,b.jsx)(T,{icon:(0,b.jsx)(w.Phone,{}),label:"Phone",value:a.user?.phone_number||"N/A"}),(0,b.jsx)(T,{icon:(0,b.jsx)(B.Mail,{}),label:"Email",value:a.user?.email||"N/A"}),(0,b.jsx)(T,{icon:(0,b.jsx)(l.Calendar,{}),label:"Date",value:a.transaction_date?new Date(a.transaction_date).toLocaleDateString("en-IN",{day:"2-digit",month:"long",year:"numeric"}):"N/A"})]})]}),!F&&a.warehouse&&(0,b.jsxs)("div",{className:"bg-blue-50 rounded-xl p-5 border border-blue-100",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,b.jsx)(n.Building,{className:"w-5 h-5 text-blue-600"}),"Warehouse Details"]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsx)(T,{icon:(0,b.jsx)(n.Building,{}),label:"Name",value:a.warehouse.name||"N/A"}),(0,b.jsx)(T,{icon:(0,b.jsx)(v.MapPin,{}),label:"Location",value:a.warehouse.location||"N/A"})]})]}),(0,b.jsxs)("div",{className:"bg-emerald-50 rounded-xl p-5 border border-emerald-100",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,b.jsx)(j.Package,{className:"w-5 h-5 text-emerald-600"}),"Grain Details"]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsx)(T,{icon:(0,b.jsx)(j.Package,{}),label:"Type",value:A.category?.grain_type||"N/A"}),(0,b.jsx)(T,{icon:(0,b.jsx)(R.FileText,{}),label:"Quality Grade",value:A.category?.quality||"N/A"}),(0,b.jsx)(T,{icon:(0,b.jsx)(j.Package,{}),label:"Quantity",value:`${A.quantity_quintal||0} Quintals`}),(0,b.jsx)(T,{icon:(0,b.jsx)(o.Droplets,{}),label:"Moisture Content",value:`${A.moisture_content||0}%`}),(0,b.jsx)(T,{icon:(0,b.jsx)(Q.CreditCard,{}),label:"Price per Quintal",value:O(A.price_per_quintal||0)}),(0,b.jsx)(T,{icon:(0,b.jsx)(Q.CreditCard,{}),label:"Total Amount",value:O(a.total_amount||0),highlight:!0})]})]}),F&&M&&(0,b.jsxs)("div",{className:`rounded-xl p-5 border ${M.color}`,children:[(0,b.jsxs)("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,b.jsx)(R.FileText,{className:"w-5 h-5"}),"Withdrawal Reason"]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"text-2xl",children:M.icon}),(0,b.jsx)("span",{className:"text-lg font-semibold",children:M.label})]})]}),a.remarks&&!F&&(0,b.jsxs)("div",{className:"bg-gray-50 rounded-xl p-5 border border-gray-100",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold text-gray-900 mb-3 flex items-center gap-2",children:[(0,b.jsx)(R.FileText,{className:"w-5 h-5 text-gray-600"}),"Remarks"]}),(0,b.jsx)("p",{className:"text-gray-700",children:a.remarks})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-50 to-gray-50 rounded-xl p-5 border border-gray-200",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,b.jsx)(k.AlertCircle,{className:"w-5 h-5 text-gray-600"}),"Approval Workflow"]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(P,{label:"Supervisor Review",approval:K,roleKey:"supervisor"}),(0,b.jsx)("div",{className:"flex justify-center",children:(0,b.jsx)(S.ArrowRight,{className:"w-5 h-5 text-gray-300 rotate-90"})}),(0,b.jsx)(P,{label:"Manager Approval",approval:J,roleKey:"manager"}),(0,b.jsx)("div",{className:"flex justify-center",children:(0,b.jsx)(S.ArrowRight,{className:"w-5 h-5 text-gray-300 rotate-90"})}),(0,b.jsx)(P,{label:"Admin Final Approval",approval:I,roleKey:"admin"})]})]})]}),u&&E&&(0,b.jsx)("div",{className:"sticky bottom-0 bg-white border-t border-gray-100 p-6 rounded-b-2xl",children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-3",children:[(0,b.jsx)("button",{onClick:g,className:"px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl font-semibold transition-all",children:"Cancel"}),(0,b.jsxs)("button",{onClick:q,disabled:x,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700 text-white rounded-xl font-semibold shadow-lg shadow-red-500/25 transition-all disabled:opacity-50",children:[x?(0,b.jsx)(C.Loader2,{className:"w-5 h-5 animate-spin"}):(0,b.jsx)(f.XCircle,{className:"w-5 h-5"}),"Reject"]}),(0,b.jsxs)("button",{onClick:i,disabled:x,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white rounded-xl font-semibold shadow-lg shadow-emerald-500/25 transition-all disabled:opacity-50",children:[x?(0,b.jsx)(C.Loader2,{className:"w-5 h-5 animate-spin"}):(0,b.jsx)(e.CheckCircle,{className:"w-5 h-5"}),"Approve"]})]})})]})})};var V=a.i(6704);let W=["deposit","sell","withdraw","loan"],X=["all","pending","completed","rejected"],Y={admin:{label:"Admin",icon:H.Crown,color:"purple",gradient:"from-purple-500 to-pink-600",lightGradient:"from-purple-50 to-pink-50",bgColor:"bg-purple-50",textColor:"text-purple-700",borderColor:"border-purple-200",description:"Final approval authority",panelTitle:"Admin Panel",approvalLevel:"Final Approval"},manager:{label:"Manager",icon:D.UserCog,color:"blue",gradient:"from-blue-500 to-indigo-600",lightGradient:"from-blue-50 to-indigo-50",bgColor:"bg-blue-50",textColor:"text-blue-700",borderColor:"border-blue-200",description:"Secondary approval after supervisor",panelTitle:"Manager Panel",approvalLevel:"Secondary Approval"},supervisor:{label:"Supervisor",icon:G.Users,color:"emerald",gradient:"from-emerald-500 to-green-600",lightGradient:"from-emerald-50 to-green-50",bgColor:"bg-emerald-50",textColor:"text-emerald-700",borderColor:"border-emerald-200",description:"Initial approval review",panelTitle:"Supervisor Panel",approvalLevel:"Initial Approval"}},Z=({title:a,value:c,subValue:d,icon:e,gradient:f,lightGradient:g,isAmount:h=!1,highlight:i=!1})=>(0,b.jsxs)("div",{className:`relative bg-gradient-to-br ${g} rounded-xl sm:rounded-2xl p-3 sm:p-4 md:p-5 border border-gray-100/80 overflow-hidden group hover:shadow-lg hover:shadow-gray-200/50 transition-all duration-300 hover:-translate-y-0.5 ${i?"ring-2 ring-amber-400 ring-offset-2":""}`,children:[(0,b.jsx)("div",{className:"absolute top-0 right-0 w-16 sm:w-20 h-16 sm:h-20 bg-gradient-to-br from-white/60 to-transparent rounded-full -mr-8 sm:-mr-10 -mt-8 sm:-mt-10 group-hover:scale-150 transition-transform duration-500"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-1.5 sm:mb-2",children:[(0,b.jsx)("div",{className:`p-1.5 sm:p-2 md:p-2.5 bg-gradient-to-br ${f} rounded-lg sm:rounded-xl text-white shadow-lg group-hover:scale-110 transition-transform duration-300`,children:e}),i&&(0,b.jsxs)("span",{className:"flex h-2.5 w-2.5 sm:h-3 sm:w-3",children:[(0,b.jsx)("span",{className:"animate-ping absolute inline-flex h-2.5 w-2.5 sm:h-3 sm:w-3 rounded-full bg-amber-400 opacity-75"}),(0,b.jsx)("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 sm:h-3 sm:w-3 bg-amber-500"})]})]}),(0,b.jsx)("p",{className:"text-[10px] sm:text-xs font-semibold text-gray-500 uppercase tracking-wider mb-0.5 sm:mb-1",children:a}),(0,b.jsx)("p",{className:`${h?"text-sm sm:text-lg md:text-xl":"text-xl sm:text-2xl md:text-3xl"} font-bold text-gray-900 truncate`,children:c}),d&&(0,b.jsx)("p",{className:"text-[10px] sm:text-xs text-gray-500 mt-0.5 sm:mt-1 truncate",children:d})]})]}),$=({searchValue:a,statusFilter:c,activeTab:d,config:e,onClearSearch:f})=>{let g=e.icon,h=(()=>{if(a)return{title:"No results found",subtitle:`No ${d} transactions match "${a}"`};switch(c){case"pending":return{title:"No pending transactions",subtitle:`All ${d} transactions have been processed. Great job!`};case"completed":return{title:"No completed transactions",subtitle:`Completed ${d} transactions will appear here`};case"rejected":return{title:"No rejected transactions",subtitle:`No ${d} transactions have been rejected yet`};default:return{title:"No transactions found",subtitle:`New ${d} requests will appear here`}}})();return(0,b.jsxs)("div",{className:"text-center py-12 sm:py-16 md:py-24",children:[(0,b.jsx)("div",{className:`inline-flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 ${e.bgColor} rounded-2xl sm:rounded-3xl mb-4 sm:mb-6 shadow-lg`,children:(0,b.jsx)(g,{className:`w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 ${e.textColor}`})}),(0,b.jsx)("p",{className:"text-gray-900 text-lg sm:text-xl md:text-2xl font-bold mb-1.5 sm:mb-2",children:h.title}),(0,b.jsx)("p",{className:"text-gray-500 max-w-md mx-auto text-xs sm:text-sm md:text-base px-4",children:h.subtitle}),a&&(0,b.jsx)("button",{onClick:f,className:"mt-4 sm:mt-6 px-5 sm:px-6 py-2 sm:py-2.5 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg sm:rounded-xl font-medium shadow-lg shadow-blue-500/25 hover:shadow-xl transition-all text-sm sm:text-base active:scale-95",children:"Clear Search"})]})},_=({transaction:a,config:c,transactionType:d,userRole:i,roleConfig:p,onApprove:s,onReject:t,onView:u,getApprovalStatus:x,getIndividualApprovalStatus:y,canUserApprove:z,remarksDisplayMap:A,index:D,isProcessing:E=!1})=>{let G,H=x(a.approval,a.transaction_status),I=c.icon,P=(a.grain||a.grains||[])[0]||{},Q="pending"===a.transaction_status,R="rejected"===a.transaction_status,S="completed"===a.transaction_status,T="withdraw"===d,U="loan"===d,V="sell"===d,W="deposit"===d,X=y(a.approval?.admin_approval),Z=y(a.approval?.manager_approval),$=y(a.approval?.supervisor_approval),_=z(a),ac=(()=>{switch(i){case"admin":return"approved"===X.status;case"manager":return"approved"===Z.status;case"supervisor":return"approved"===$.status;default:return!1}})()&&Q,ad=T&&a.remarks?A[a.remarks]||A.other:null;return(0,b.jsxs)("div",{className:`relative bg-white rounded-xl sm:rounded-2xl border-2 overflow-hidden transition-all duration-500 group ${_?"border-amber-300 shadow-lg shadow-amber-100/50 ring-2 ring-amber-200/50 hover:shadow-xl hover:shadow-amber-200/50":ac?"border-blue-200 shadow-md shadow-blue-100/30 hover:shadow-lg":R?"border-red-200 shadow-md shadow-red-100/30 hover:shadow-lg":S?"border-emerald-200 shadow-md shadow-emerald-100/30 hover:shadow-lg":"border-gray-200 shadow-md hover:shadow-lg hover:border-gray-300"} hover:-translate-y-0.5`,style:{animationDelay:`${50*D}ms`},children:[_&&(0,b.jsx)("div",{className:"bg-gradient-to-r from-amber-500 via-orange-500 to-amber-500 text-white px-3 sm:px-4 py-2 sm:py-2.5",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[(0,b.jsx)("div",{className:"p-1 sm:p-1.5 bg-white/20 rounded-lg backdrop-blur-sm",children:(0,b.jsx)(k.AlertCircle,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),(0,b.jsx)("span",{className:"font-bold text-xs sm:text-sm md:text-base",children:"Action Required"})]}),(0,b.jsx)("span",{className:"hidden sm:inline-block w-px h-4 bg-white/30"}),(0,b.jsx)("span",{className:"hidden sm:inline text-white/90 text-xs sm:text-sm font-medium",children:(()=>{let a=(()=>{switch(d){case"deposit":return"Deposit";case"withdraw":return"Withdrawal";case"sell":return"Sale";case"loan":return"Loan";default:return d}})();switch(i){case"admin":return`${a} Request - Manager Approved, Awaiting Your Final Decision`;case"manager":return`${a} Request - Supervisor Approved, Awaiting Your Decision`;case"supervisor":return`New ${a} Request - Awaiting Your Initial Review`;default:return"Action Required"}})()})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[(0,b.jsx)("span",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),(0,b.jsx)("span",{className:"text-xs font-semibold",children:"PENDING"})]})]})}),ac&&(0,b.jsx)("div",{className:"bg-gradient-to-r from-blue-500 via-indigo-500 to-blue-500 text-white px-3 sm:px-4 py-2 sm:py-2.5",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,b.jsx)("div",{className:"p-1 sm:p-1.5 bg-white/20 rounded-lg backdrop-blur-sm",children:(0,b.jsx)(e.CheckCircle,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),(0,b.jsx)("span",{className:"font-bold text-xs sm:text-sm md:text-base",children:"You Approved"}),(0,b.jsx)("span",{className:"hidden sm:inline-block w-px h-4 bg-white/30"}),(0,b.jsx)("span",{className:"hidden sm:inline text-white/90 text-xs sm:text-sm font-medium",children:(()=>{switch(i){case"admin":return"Fully Approved";case"manager":return"Awaiting Admin Final Approval";case"supervisor":return"Awaiting Manager Approval";default:return"Processing"}})()})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[(0,b.jsx)(h.Clock,{className:"w-4 h-4 animate-pulse"}),(0,b.jsx)("span",{className:"text-xs font-semibold",children:"WAITING"})]})]})}),(0,b.jsxs)("div",{className:"p-3 sm:p-4 md:p-6",children:[(0,b.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-start justify-between gap-4 sm:gap-5",children:[(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[(0,b.jsx)("div",{className:`
            p-2.5 sm:p-3 rounded-xl sm:rounded-2xl shadow-lg transition-transform duration-300 group-hover:scale-110
            bg-gradient-to-br ${c.gradient}
          `,children:(0,b.jsx)(I,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[(0,b.jsx)("h3",{className:"text-base sm:text-lg md:text-xl font-bold text-gray-900 truncate",children:a.user?.name||"Unknown User"}),(0,b.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-2.5 sm:px-3 py-1 sm:py-1.5 rounded-lg sm:rounded-xl text-xs font-bold border ${H.color}`,children:[H.icon,H.text]})]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 mt-1 sm:mt-1.5 text-xs sm:text-sm text-gray-500",children:[a.user?.phone_number&&(0,b.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,b.jsx)(w.Phone,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),a.user.phone_number]}),a.user?.email&&(0,b.jsxs)("span",{className:"hidden sm:inline-flex items-center gap-1",children:[(0,b.jsx)(B.Mail,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),(0,b.jsx)("span",{className:"truncate max-w-[150px]",children:a.user.email})]})]})]})]}),U?(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mb-3 sm:mb-4",children:[a.loan_id&&(0,b.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-2.5 sm:px-4 py-1.5 sm:py-2 bg-gradient-to-r from-violet-50 to-purple-50 text-violet-700 rounded-lg sm:rounded-xl text-xs sm:text-sm font-bold border border-violet-200",children:[(0,b.jsx)(M.Hash,{className:"w-3.5 h-3.5"}),"Loan: ",a.loan_id]}),(0,b.jsxs)("span",{className:`px-2.5 sm:px-4 py-1.5 sm:py-2 rounded-lg sm:rounded-xl text-xs sm:text-sm font-bold border-2 ${R?"bg-gradient-to-r from-red-50 to-rose-50 text-red-700 border-red-200":S?"bg-gradient-to-r from-emerald-50 to-green-50 text-emerald-700 border-emerald-200":_?"bg-gradient-to-r from-amber-50 to-yellow-50 text-amber-700 border-amber-200":ac?"bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-700 border-blue-200":`bg-gradient-to-r ${c.lightGradient} ${c.textColor} ${c.borderColor}`}`,children:["ðŸ’° Loan Amount: ",O(a.loan_amount||0)]}),a.emi_amount&&(0,b.jsxs)("span",{className:"text-xs sm:text-sm text-gray-500 font-medium bg-gray-50 px-2 py-1 rounded-lg border border-gray-200",children:["EMI: ",O(a.emi_amount),"/month"]})]}):V?(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mb-3 sm:mb-4",children:[P.category&&(0,b.jsxs)("span",{className:`
      px-2.5 sm:px-4 py-1.5 sm:py-2 rounded-lg sm:rounded-xl text-xs sm:text-sm font-bold border-2
      ${R?"bg-gradient-to-r from-red-50 to-rose-50 text-red-700 border-red-200":S?"bg-gradient-to-r from-emerald-50 to-green-50 text-emerald-700 border-emerald-200":_?"bg-gradient-to-r from-amber-50 to-yellow-50 text-amber-700 border-amber-200":ac?"bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-700 border-blue-200":`bg-gradient-to-r ${c.lightGradient} ${c.textColor} ${c.borderColor}`}
    `,children:["ðŸŒ¾ ",P.category.grain_type," - Grade"," ",P.category.quality]}),(0,b.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-2.5 sm:px-4 py-1.5 sm:py-2 bg-gradient-to-r from-emerald-50 to-teal-50 text-emerald-700 rounded-lg sm:rounded-xl text-xs sm:text-sm font-bold border border-emerald-200",children:[(0,b.jsx)(J.ShoppingCart,{className:"w-3.5 h-3.5"}),"For Sale"]}),(0,b.jsxs)("span",{className:"text-xs sm:text-sm text-gray-500 font-medium",children:["@"," ",O(a.sale_price||P.price_per_quintal||0),"/qtl"]})]}):(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mb-3 sm:mb-4",children:[P.category&&(0,b.jsxs)("span",{className:`
    px-2.5 sm:px-4 py-1.5 sm:py-2 rounded-lg sm:rounded-xl text-xs sm:text-sm font-bold border-2
    ${R?"bg-gradient-to-r from-red-50 to-rose-50 text-red-700 border-red-200":S?"bg-gradient-to-r from-emerald-50 to-green-50 text-emerald-700 border-emerald-200":_?"bg-gradient-to-r from-amber-50 to-yellow-50 text-amber-700 border-amber-200":ac?"bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-700 border-blue-200":`bg-gradient-to-r ${c.lightGradient} ${c.textColor} ${c.borderColor}`}
  `,children:["ðŸŒ¾ ",P.category.grain_type," - Grade"," ",P.category.quality]}),(0,b.jsx)("span",{className:`
  inline-flex items-center gap-1.5 px-2.5 sm:px-4 py-1.5 sm:py-2 rounded-lg sm:rounded-xl text-xs sm:text-sm font-bold border
  ${W?"bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-700 border-blue-200":"bg-gradient-to-r from-amber-50 to-orange-50 text-amber-700 border-amber-200"}
`,children:W?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(q.ArrowDownRight,{className:"w-3.5 h-3.5"}),"Deposit"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(r.Wallet,{className:"w-3.5 h-3.5"}),"Withdraw"]})}),T&&ad&&(0,b.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-2.5 sm:px-3 py-1 sm:py-1.5 rounded-lg text-xs sm:text-sm font-medium border ${ad.color}`,children:[(0,b.jsx)("span",{children:ad.icon}),ad.label]}),P.price_per_quintal&&(0,b.jsxs)("span",{className:"text-xs sm:text-sm text-gray-500 font-medium bg-gray-50 px-2 py-1 rounded-lg border border-gray-200",children:["@ ",O(P.price_per_quintal),"/qtl"]})]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1.5 sm:gap-2",children:(G=[],(W||T)&&(a.warehouse?.name&&G.push((0,b.jsx)(aa,{icon:(0,b.jsx)(n.Building,{className:"w-3 h-3 sm:w-4 sm:h-4"}),label:a.warehouse?.name||"N/A",color:"blue"},"warehouse")),a.warehouse?.location&&G.push((0,b.jsx)(aa,{icon:(0,b.jsx)(v.MapPin,{className:"w-3 h-3 sm:w-4 sm:h-4"}),label:a.warehouse?.location||"N/A",color:"purple"},"location"))),!U&&P.quantity_quintal&&G.push((0,b.jsx)(aa,{icon:(0,b.jsx)(j.Package,{className:"w-3 h-3 sm:w-4 sm:h-4"}),label:`${P.quantity_quintal||0} Qtl`,color:"green"},"quantity")),(W||T)&&P.moisture_content&&G.push((0,b.jsx)(aa,{icon:(0,b.jsx)(o.Droplets,{className:"w-3 h-3 sm:w-4 sm:h-4"}),label:`${P.moisture_content||0}%`,color:"cyan"},"moisture")),U&&(a.interest_rate&&G.push((0,b.jsx)(aa,{icon:(0,b.jsx)(K,{className:"w-3 h-3 sm:w-4 sm:h-4"}),label:`${a.interest_rate}% Interest`,color:"violet"},"interest")),(a.loan_duration||a.duration_months)&&G.push((0,b.jsx)(aa,{icon:(0,b.jsx)(N.Timer,{className:"w-3 h-3 sm:w-4 sm:h-4"}),label:`${a.loan_duration||a.duration_months} Months`,color:"orange"},"duration")),a.collateral_value&&G.push((0,b.jsx)(aa,{icon:(0,b.jsx)(F.Shield,{className:"w-3 h-3 sm:w-4 sm:h-4"}),label:O(a.collateral_value),color:"green"},"collateral"))),V&&(a.buyer_name&&G.push((0,b.jsx)(aa,{icon:(0,b.jsx)(m.User,{className:"w-3 h-3 sm:w-4 sm:h-4"}),label:a.buyer_name,color:"blue"},"buyer")),(a.sale_price||P.price_per_quintal)&&G.push((0,b.jsx)(aa,{icon:(0,b.jsx)(L.IndianRupee,{className:"w-3 h-3 sm:w-4 sm:h-4"}),label:`${O(a.sale_price||P.price_per_quintal)}/Qtl`,color:"emerald"},"price"))),G.push((0,b.jsx)(aa,{icon:(0,b.jsx)(l.Calendar,{className:"w-3 h-3 sm:w-4 sm:h-4"}),label:a.transaction_date||a.created_at?new Date(a.transaction_date||a.created_at).toLocaleDateString("en-IN",{day:"2-digit",month:"short"}):"N/A",color:"orange"},"date")),G)})]}),(0,b.jsxs)("div",{className:"flex flex-col items-end gap-3 sm:gap-4",children:[(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"text-[10px] sm:text-xs text-gray-500 uppercase tracking-wider font-semibold mb-0.5 sm:mb-1",children:U?"Loan Amount":V?"Sale Value":"Total Value"}),(0,b.jsx)("p",{className:`
            text-xl sm:text-2xl md:text-3xl font-black bg-gradient-to-r 
            ${R?"from-red-600 to-rose-600":S?"from-emerald-600 to-green-600":_?"from-amber-600 to-orange-600":`${c.gradient.replace("from-","from-").replace("to-","to-")}`} 
            bg-clip-text text-transparent
          `,children:O(U?a.loan_amount||a.total_amount||0:V?a.sale_amount||a.total_amount||0:a.total_amount||0)}),(0,b.jsxs)("p",{className:"text-[10px] sm:text-xs text-gray-400 mt-0.5 sm:mt-1 font-mono",children:["ID: ",a._id?.slice(-8).toUpperCase()||"N/A"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,b.jsxs)("button",{onClick:u,className:" inline-flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-2 sm:py-2.5 bg-gradient-to-r from-gray-50 to-slate-100 text-gray-700 rounded-lg sm:rounded-xl font-semibold text-xs sm:text-sm border border-gray-200 hover:border-gray-300 shadow-sm hover:shadow-md transition-all duration-300 hover:-translate-y-0.5 active:scale-95 ",children:[(0,b.jsx)(g.Eye,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),(0,b.jsx)("span",{className:"hidden xs:inline",children:"View"})]}),_&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("button",{onClick:t,disabled:E,className:" inline-flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-2 sm:py-2.5 bg-gradient-to-r from-red-500 to-rose-600 text-white rounded-lg sm:rounded-xl font-semibold text-xs sm:text-sm shadow-lg shadow-red-500/25 hover:shadow-xl hover:shadow-red-500/30 transition-all duration-300 hover:-translate-y-0.5 active:scale-95 disabled:opacity-60 disabled:cursor-not-allowed disabled:transform-none ",children:[E?(0,b.jsx)(C.Loader2,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 animate-spin"}):(0,b.jsx)(f.XCircle,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),(0,b.jsx)("span",{className:"hidden xs:inline",children:"Reject"})]}),(0,b.jsxs)("button",{onClick:s,disabled:E,className:" inline-flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-2 sm:py-2.5 bg-gradient-to-r from-emerald-500 to-green-600 text-white rounded-lg sm:rounded-xl font-semibold text-xs sm:text-sm shadow-lg shadow-emerald-500/25 hover:shadow-xl hover:shadow-emerald-500/30 transition-all duration-300 hover:-translate-y-0.5 active:scale-95 disabled:opacity-60 disabled:cursor-not-allowed disabled:transform-none ",children:[E?(0,b.jsx)(C.Loader2,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 animate-spin"}):(0,b.jsx)(e.CheckCircle,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),(0,b.jsx)("span",{className:"hidden xs:inline",children:"Approve"})]})]})]})]})]}),Q&&(0,b.jsxs)("div",{className:"mt-4 sm:mt-5 pt-4 sm:pt-5 border-t border-gray-100",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:[(0,b.jsx)("p",{className:"text-xs sm:text-sm font-semibold text-gray-700",children:"Approval Pipeline"}),(0,b.jsx)("span",{className:"text-[10px] sm:text-xs text-gray-500",children:"approved"===$.status&&"approved"===Z.status&&"approved"===X.status?"3/3 Complete":"approved"===$.status&&"approved"===Z.status?"2/3 Complete":"approved"===$.status?"1/3 Complete":"0/3 Complete"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,b.jsx)(ab,{label:"Supervisor",status:$.status,user:$.user,isCurrentRole:"supervisor"===i,config:Y.supervisor}),(0,b.jsx)("div",{className:`
            flex-1 h-1 rounded-full transition-all duration-500
            ${"approved"===$.status?"bg-gradient-to-r from-emerald-400 to-emerald-500":"rejected"===$.status?"bg-gradient-to-r from-red-400 to-red-500":"bg-gray-200"}
          `}),(0,b.jsx)(ab,{label:"Manager",status:Z.status,user:Z.user,isCurrentRole:"manager"===i,config:Y.manager}),(0,b.jsx)("div",{className:`
            flex-1 h-1 rounded-full transition-all duration-500
            ${"approved"===Z.status?"bg-gradient-to-r from-emerald-400 to-emerald-500":"rejected"===Z.status?"bg-gradient-to-r from-red-400 to-red-500":"bg-gray-200"}
          `}),(0,b.jsx)(ab,{label:"Admin",status:X.status,user:X.user,isCurrentRole:"admin"===i,config:Y.admin})]})]}),(R||S)&&a.processed_at&&(0,b.jsx)("div",{className:`
        mt-4 sm:mt-5 pt-4 sm:pt-5 border-t 
        ${R?"border-red-100":"border-emerald-100"}
      `,children:(0,b.jsxs)("div",{className:`
          flex items-center gap-2 sm:gap-3 px-3 sm:px-4 py-2 sm:py-3 rounded-lg sm:rounded-xl
          ${R?"bg-gradient-to-r from-red-50 to-rose-50 border border-red-200":"bg-gradient-to-r from-emerald-50 to-green-50 border border-emerald-200"}
        `,children:[R?(0,b.jsx)(f.XCircle,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-500 flex-shrink-0"}):(0,b.jsx)(e.CheckCircle,{className:"w-4 h-4 sm:w-5 sm:h-5 text-emerald-500 flex-shrink-0"}),(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("p",{className:`text-xs sm:text-sm font-semibold ${R?"text-red-700":"text-emerald-700"}`,children:R?"Transaction Rejected":"Transaction Completed"}),(0,b.jsxs)("p",{className:"text-[10px] sm:text-xs text-gray-500 mt-0.5",children:["Processed on"," ",new Date(a.processed_at).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]})})]})]})},aa=({icon:a,label:c,color:d})=>{let e={blue:"bg-blue-50 text-blue-700 border-blue-200",green:"bg-green-50 text-green-700 border-green-200",emerald:"bg-emerald-50 text-emerald-700 border-emerald-200",purple:"bg-purple-50 text-purple-700 border-purple-200",violet:"bg-violet-50 text-violet-700 border-violet-200",orange:"bg-orange-50 text-orange-700 border-orange-200",amber:"bg-amber-50 text-amber-700 border-amber-200",cyan:"bg-cyan-50 text-cyan-700 border-cyan-200",gray:"bg-gray-50 text-gray-700 border-gray-200",red:"bg-red-50 text-red-700 border-red-200"};return(0,b.jsxs)("span",{className:`inline-flex items-center gap-1 sm:gap-1.5 px-2 sm:px-3 py-1 sm:py-1.5 rounded-lg text-[10px] sm:text-xs font-semibold border ${e[d]||e.gray}`,children:[a,(0,b.jsx)("span",{className:"truncate max-w-[80px] sm:max-w-[120px]",children:c})]})},ab=({label:a,status:c,user:d,isCurrentRole:g,config:i})=>{let j="approved"===c?{bg:"bg-gradient-to-br from-emerald-500 to-green-600",ring:"ring-2 ring-emerald-200 ring-offset-1",icon:(0,b.jsx)(e.CheckCircle,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white"})}:"rejected"===c?{bg:"bg-gradient-to-br from-red-500 to-rose-600",ring:"ring-2 ring-red-200 ring-offset-1",icon:(0,b.jsx)(f.XCircle,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white"})}:g?{bg:"bg-gradient-to-br from-amber-400 to-orange-500",ring:"ring-2 ring-amber-200 ring-offset-1 animate-pulse",icon:(0,b.jsx)(k.AlertCircle,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white"})}:{bg:"bg-gray-200",ring:"",icon:(0,b.jsx)(h.Clock,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-400"})};return(0,b.jsxs)("div",{className:"flex flex-col items-center",children:[(0,b.jsx)("div",{className:`p-1.5 sm:p-2 rounded-full ${j.bg} ${j.ring} transition-all duration-300`,children:j.icon}),(0,b.jsx)("span",{className:`mt-1 text-[9px] sm:text-[10px] font-semibold ${"approved"===c?"text-emerald-600":"rejected"===c?"text-red-600":g?"text-amber-600":"text-gray-400"}`,children:a}),d?.name&&(0,b.jsx)("span",{className:"text-[8px] sm:text-[9px] text-gray-400 truncate max-w-[50px] sm:max-w-[70px]",children:d.name.split(" ")[0]})]})};a.s(["default",0,({userRole:a="supervisor"})=>{let[g,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(null),[o,t]=(0,c.useState)("deposit"),[v,w]=(0,c.useState)("all"),[B,D]=(0,c.useState)([]),[F,G]=(0,c.useState)(!0),[H,K]=(0,c.useState)(!1),[L,M]=(0,c.useState)(null),[N,Q]=(0,c.useState)(1),[R,S]=(0,c.useState)({deposit:0,withdraw:0,sell:0,loan:0}),[T,aa]=(0,c.useState)({page:1,limit:5,total_items:0,total_pages:0}),[ab,ac]=(0,c.useState)({all:{count:0,total_value:0},pending:{count:0,total_value:0},completed:{count:0,total_value:0},rejected:{count:0,total_value:0}}),ad=Y[a]||Y.supervisor,ae=ad.icon,af={deposit:{icon:q.ArrowDownRight,color:"blue",gradient:"from-blue-500 to-indigo-600",lightGradient:"from-blue-50 to-indigo-50",bgColor:"bg-blue-50",textColor:"text-blue-700",borderColor:"border-blue-200",iconBg:"bg-blue-100",label:"Deposit",description:"Grain deposit transactions",accentColor:"blue"},sell:{icon:J.ShoppingCart,color:"emerald",gradient:"from-emerald-500 to-teal-600",lightGradient:"from-emerald-50 to-teal-50",bgColor:"bg-emerald-50",textColor:"text-emerald-700",borderColor:"border-emerald-200",iconBg:"bg-emerald-100",label:"Sell",description:"Grain sales transactions",accentColor:"emerald"},withdraw:{icon:r.Wallet,color:"amber",gradient:"from-amber-500 to-orange-600",lightGradient:"from-amber-50 to-orange-50",bgColor:"bg-amber-50",textColor:"text-amber-700",borderColor:"border-amber-200",iconBg:"bg-amber-100",label:"Withdraw",description:"Grain withdrawal transactions",accentColor:"amber"},loan:{icon:I.Banknote,color:"violet",gradient:"from-violet-500 to-purple-600",lightGradient:"from-violet-50 to-purple-50",bgColor:"bg-violet-50",textColor:"text-violet-700",borderColor:"border-violet-200",iconBg:"bg-violet-100",label:"Loan",description:"Loan against grain transactions",accentColor:"violet"}},ag={all:{label:"All",icon:j.Package,color:"gray",bgActive:"bg-gradient-to-r from-slate-700 to-slate-900",bgHover:"hover:bg-slate-50",textColor:"text-slate-600",activeRing:"ring-slate-400"},pending:{label:"Pending",icon:h.Clock,color:"amber",bgActive:"bg-gradient-to-r from-amber-500 to-orange-500",bgHover:"hover:bg-amber-50",textColor:"text-amber-600",activeRing:"ring-amber-400"},completed:{label:"Completed",icon:e.CheckCircle,color:"green",bgActive:"bg-gradient-to-r from-emerald-500 to-green-600",bgHover:"hover:bg-emerald-50",textColor:"text-emerald-600",activeRing:"ring-emerald-400"},rejected:{label:"Rejected",icon:u,color:"red",bgActive:"bg-gradient-to-r from-red-500 to-rose-600",bgHover:"hover:bg-red-50",textColor:"text-red-600",activeRing:"ring-red-400"}},ah={personal_use:{label:"Personal Use",icon:"ðŸ ",color:"bg-blue-50 text-blue-700 border-blue-200"},sale:{label:"For Sale",icon:"ðŸ’°",color:"bg-emerald-50 text-emerald-700 border-emerald-200"},other:{label:"Other",icon:"ðŸ“‹",color:"bg-gray-50 text-gray-700 border-gray-200"}},ai=a=>{if(!a)return{status:"pending",text:"Pending",hasAction:!1};let b=a.user&&a.user.name,c=a.date;return!0===a.status&&b?{status:"approved",text:"Approved",hasAction:!0,user:a.user}:!1===a.status&&(b||c)?{status:"rejected",text:"Rejected",hasAction:!0,user:a.user}:{status:"pending",text:"Pending",hasAction:!1}},aj=(c,d)=>{if("completed"===d)return{text:"Completed",color:"bg-gradient-to-r from-green-100 to-emerald-100 text-green-800 border-green-200",dotColor:"bg-green-500",icon:(0,b.jsx)(e.CheckCircle,{className:"w-4 h-4"})};if("rejected"===d)return{text:"Rejected",color:"bg-gradient-to-r from-red-100 to-rose-100 text-red-800 border-red-200",dotColor:"bg-red-500",icon:(0,b.jsx)(f.XCircle,{className:"w-4 h-4"})};if("pending"===d){let d=ai(c?.admin_approval),g=ai(c?.manager_approval),i=ai(c?.supervisor_approval);if("admin"===a)return"rejected"===d.status?{text:"You Rejected",color:"bg-gradient-to-r from-red-100 to-rose-100 text-red-800 border-red-200",dotColor:"bg-red-500",icon:(0,b.jsx)(f.XCircle,{className:"w-4 h-4"})}:"approved"===d.status?{text:"Fully Approved",color:"bg-gradient-to-r from-green-100 to-emerald-100 text-green-800 border-green-200",dotColor:"bg-green-500",icon:(0,b.jsx)(e.CheckCircle,{className:"w-4 h-4"})}:"rejected"===g.status?{text:"Manager Rejected",color:"bg-gradient-to-r from-red-100 to-rose-100 text-red-800 border-red-200",dotColor:"bg-red-500",icon:(0,b.jsx)(f.XCircle,{className:"w-4 h-4"})}:"approved"===g.status?{text:"Awaiting Your Approval",color:"bg-gradient-to-r from-amber-100 to-yellow-100 text-amber-800 border-amber-200",dotColor:"bg-amber-500",icon:(0,b.jsx)(k.AlertCircle,{className:"w-4 h-4"})}:"rejected"===i.status?{text:"Supervisor Rejected",color:"bg-gradient-to-r from-red-100 to-rose-100 text-red-800 border-red-200",dotColor:"bg-red-500",icon:(0,b.jsx)(f.XCircle,{className:"w-4 h-4"})}:"approved"===i.status?{text:"Awaiting Manager",color:"bg-gradient-to-r from-blue-100 to-indigo-100 text-blue-800 border-blue-200",dotColor:"bg-blue-500",icon:(0,b.jsx)(h.Clock,{className:"w-4 h-4"})}:{text:"Awaiting Supervisor",color:"bg-gradient-to-r from-slate-100 to-gray-100 text-slate-800 border-slate-200",dotColor:"bg-slate-500",icon:(0,b.jsx)(h.Clock,{className:"w-4 h-4"})};if("manager"===a)return"rejected"===g.status?{text:"You Rejected",color:"bg-gradient-to-r from-red-100 to-rose-100 text-red-800 border-red-200",dotColor:"bg-red-500",icon:(0,b.jsx)(f.XCircle,{className:"w-4 h-4"})}:"approved"===g.status?"rejected"===d.status?{text:"Admin Rejected",color:"bg-gradient-to-r from-red-100 to-rose-100 text-red-800 border-red-200",dotColor:"bg-red-500",icon:(0,b.jsx)(f.XCircle,{className:"w-4 h-4"})}:"approved"===d.status?{text:"Fully Approved",color:"bg-gradient-to-r from-green-100 to-emerald-100 text-green-800 border-green-200",dotColor:"bg-green-500",icon:(0,b.jsx)(e.CheckCircle,{className:"w-4 h-4"})}:{text:"Awaiting Admin",color:"bg-gradient-to-r from-blue-100 to-indigo-100 text-blue-800 border-blue-200",dotColor:"bg-blue-500",icon:(0,b.jsx)(h.Clock,{className:"w-4 h-4"})}:"rejected"===i.status?{text:"Supervisor Rejected",color:"bg-gradient-to-r from-red-100 to-rose-100 text-red-800 border-red-200",dotColor:"bg-red-500",icon:(0,b.jsx)(f.XCircle,{className:"w-4 h-4"})}:"approved"===i.status?{text:"Awaiting Your Approval",color:"bg-gradient-to-r from-amber-100 to-yellow-100 text-amber-800 border-amber-200",dotColor:"bg-amber-500",icon:(0,b.jsx)(k.AlertCircle,{className:"w-4 h-4"})}:{text:"Awaiting Supervisor",color:"bg-gradient-to-r from-slate-100 to-gray-100 text-slate-800 border-slate-200",dotColor:"bg-slate-500",icon:(0,b.jsx)(h.Clock,{className:"w-4 h-4"})};if("rejected"===i.status)return{text:"You Rejected",color:"bg-gradient-to-r from-red-100 to-rose-100 text-red-800 border-red-200",dotColor:"bg-red-500",icon:(0,b.jsx)(f.XCircle,{className:"w-4 h-4"})};if("approved"===i.status)return"rejected"===g.status?{text:"Manager Rejected",color:"bg-gradient-to-r from-red-100 to-rose-100 text-red-800 border-red-200",dotColor:"bg-red-500",icon:(0,b.jsx)(f.XCircle,{className:"w-4 h-4"})}:"approved"===g.status?"rejected"===d.status?{text:"Admin Rejected",color:"bg-gradient-to-r from-red-100 to-rose-100 text-red-800 border-red-200",dotColor:"bg-red-500",icon:(0,b.jsx)(f.XCircle,{className:"w-4 h-4"})}:"approved"===d.status?{text:"Fully Approved",color:"bg-gradient-to-r from-green-100 to-emerald-100 text-green-800 border-green-200",dotColor:"bg-green-500",icon:(0,b.jsx)(e.CheckCircle,{className:"w-4 h-4"})}:{text:"Awaiting Admin",color:"bg-gradient-to-r from-purple-100 to-pink-100 text-purple-800 border-purple-200",dotColor:"bg-purple-500",icon:(0,b.jsx)(h.Clock,{className:"w-4 h-4"})}:{text:"Awaiting Manager",color:"bg-gradient-to-r from-blue-100 to-indigo-100 text-blue-800 border-blue-200",dotColor:"bg-blue-500",icon:(0,b.jsx)(h.Clock,{className:"w-4 h-4"})};return{text:"Awaiting Your Approval",color:"bg-gradient-to-r from-amber-100 to-yellow-100 text-amber-800 border-amber-200",dotColor:"bg-amber-500",icon:(0,b.jsx)(k.AlertCircle,{className:"w-4 h-4"})}}return{text:"Unknown",color:"bg-gradient-to-r from-gray-100 to-gray-100 text-gray-800 border-gray-200",dotColor:"bg-gray-500",icon:(0,b.jsx)(k.AlertCircle,{className:"w-4 h-4"})}},ak=()=>({deposit:{fetch:`${P.default}/approval/pending-deposite-approval`,action:`${P.default}/approval/action-deposite-approval`},withdraw:{fetch:`${P.default}/approval/pending-withdraw-approval`,action:`${P.default}/approval/action-withdraw-approval`},sell:{fetch:`${P.default}/approval/pending-sell-approval`,action:`${P.default}/approval/action-sell-approval`},loan:{fetch:`${P.default}/approval/pending-loan-approval`,action:`${P.default}/approval/action-loan-approval`}}),al=(0,c.useCallback)(async()=>{try{let a=await fetch(`${P.default}/approval/all-pending-approvals`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(a.ok){let b=await a.json();S(b.pending_counts||{deposit:0,withdraw:0,sell:0,loan:0})}}catch(a){console.error("Error fetching pending counts:",a)}},[]),am=(0,c.useCallback)(async(a,b="all",c=1)=>{try{G(!0);let d=ak()[a];if(!d){D([]),aa({page:1,limit:5,total_items:0,total_pages:0}),ac({all:{count:0},pending:{count:0},completed:{count:0},rejected:{count:0}}),G(!1);return}let e=await fetch(`${d.fetch}?status=${b}&page=${c}&limit=5`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw Error(`Failed to fetch ${a} transactions`);let f=await e.json();D(f.data||[]),aa(f.pagination||{page:1,limit:5,total_items:0,total_pages:0}),ac(f.counts||{all:{count:0,total_value:0},pending:{count:0,total_value:0},completed:{count:0,total_value:0},rejected:{count:0,total_value:0}})}catch(b){console.error(`Error fetching ${a} transactions:`,b),V.default.error(`Failed to fetch ${a} transactions`),D([]),aa({page:1,limit:5,total_items:0,total_pages:0}),ac({all:{count:0},pending:{count:0},completed:{count:0},rejected:{count:0}})}finally{G(!1),K(!1)}},[]);(0,c.useEffect)(()=>{al()},[al]),(0,c.useEffect)(()=>{am(o,v,N)},[v,N,o,am]);let an=async()=>{K(!0),await Promise.all([am(o,v,N),al()])},ao=(()=>{if(!g)return B;let a=g.toLowerCase();return B.filter(b=>{let c=b.user?.name?.toLowerCase().includes(a)||b._id?.toLowerCase().includes(a)||b.warehouse?.name?.toLowerCase().includes(a)||b.warehouse?.location?.toLowerCase().includes(a)||b.user?.phone_number?.includes(g)||b.user?.email?.toLowerCase().includes(a)||b.remarks?.toLowerCase().includes(a),d=b.grain?.[0]?.category?.grain_type?.toLowerCase().includes(a),e="loan"===o&&(b.loan_id?.toLowerCase().includes(a)||b.interest_rate?.toString().includes(g)),f="sell"===o&&(b.buyer_name?.toLowerCase().includes(a)||b.sale_price?.toString().includes(g));return c||d||e||f})})(),ap=a=>{let b=Math.max(1,Math.min(a,T.total_pages));b!==N&&Q(b)},aq=b=>{if("pending"!==b.transaction_status)return!1;let c=ai(b.approval?.admin_approval),d=ai(b.approval?.manager_approval),e=ai(b.approval?.supervisor_approval);switch(a){case"admin":return"approved"===d.status&&"pending"===c.status;case"manager":return"approved"===e.status&&"pending"===d.status;case"supervisor":return"pending"===e.status;default:return!1}},ar=()=>B.filter(a=>aq(a)).length,as=()=>Object.values(R).reduce((a,b)=>a+b,0),at=async(a,b)=>{try{M(a);let c=ak()[o];if(!c){V.default.error("Approval not supported for this transaction type"),M(null);return}let d=await fetch(c.action,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({action:b,transactionId:a})}),e=await d.json().catch(()=>({}));if(d.ok){let a=o.charAt(0).toUpperCase()+o.slice(1);V.default.success(e.message||`${a} transaction ${"approve"===b?"approved":"rejected"} successfully`),await Promise.all([am(o,v,N),al()]),n(null)}else 400===d.status?V.default.error(e.message||"Invalid request. Please check the transaction."):401===d.status?V.default.error("Session expired. Please login again."):403===d.status?V.default.error(e.message||"You do not have permission to perform this action."):404===d.status?V.default.error(e.message||"Transaction not found."):V.default.error(e.message||`Failed to ${b} transaction`)}catch(a){console.error(`Error processing ${o} transaction:`,a),V.default.error(`Error ${"approve"===b?"approving":"rejecting"} ${o} transaction. Please try again.`)}finally{M(null)}};return F&&0===B.length&&!H?(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50/30 flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsxs)("div",{className:"relative w-20 h-20 sm:w-24 sm:h-24 mx-auto",children:[(0,b.jsx)("div",{className:`absolute inset-0 border-4 ${ad.borderColor} rounded-full`}),(0,b.jsx)("div",{className:`absolute inset-0 border-4 border-${ad.color}-500 rounded-full border-t-transparent animate-spin`}),(0,b.jsx)("div",{className:"absolute inset-3 sm:inset-4 border-4 border-indigo-200 rounded-full"}),(0,b.jsx)("div",{className:"absolute inset-3 sm:inset-4 border-4 border-indigo-500 rounded-full border-b-transparent animate-spin",style:{animationDirection:"reverse",animationDuration:"1.5s"}}),(0,b.jsx)(ae,{className:`absolute inset-0 m-auto w-8 h-8 ${ad.textColor} animate-pulse`})]}),(0,b.jsxs)("p",{className:"mt-6 sm:mt-8 text-gray-700 font-semibold text-base sm:text-lg",children:["Loading ",ad.label.toLowerCase()," dashboard..."]}),(0,b.jsx)("p",{className:"mt-2 text-gray-400 text-xs sm:text-sm",children:"Please wait while we fetch your data"})]})}):(0,b.jsxs)("div",{className:"min-h-screen",children:[(0,b.jsxs)("div",{className:"max-w-7xl mx-auto space-y-4 sm:space-y-6",children:[(0,b.jsxs)("div",{className:"relative bg-white rounded-2xl sm:rounded-3xl shadow-xl shadow-gray-200/50 border border-gray-100/80 overflow-hidden",children:[(0,b.jsx)("div",{className:`absolute inset-0 bg-gradient-to-r ${ad.lightGradient} opacity-30`}),(0,b.jsx)("div",{className:"absolute top-0 right-0 w-64 sm:w-96 h-64 sm:h-96 bg-gradient-to-bl from-blue-100/30 to-transparent rounded-full -mr-32 sm:-mr-48 -mt-32 sm:-mt-48"}),(0,b.jsx)("div",{className:"absolute bottom-0 left-0 w-48 sm:w-64 h-48 sm:h-64 bg-gradient-to-tr from-indigo-100/30 to-transparent rounded-full -ml-24 sm:-ml-32 -mb-24 sm:-mb-32"}),(0,b.jsx)("div",{className:"relative p-4 sm:p-6 md:p-8",children:(0,b.jsxs)("div",{className:"flex flex-col gap-4 sm:gap-6",children:[(0,b.jsxs)("div",{className:"space-y-2 sm:space-y-3",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[(0,b.jsxs)("span",{className:`inline-flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-1 sm:py-1.5 bg-gradient-to-r ${ad.gradient} text-white rounded-full text-xs sm:text-sm font-semibold shadow-lg`,children:[(0,b.jsx)(ae,{className:"w-3 h-3 sm:w-4 sm:h-4"}),ad.panelTitle]}),(0,b.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 ${ad.bgColor} ${ad.textColor} rounded-full text-xs font-semibold border ${ad.borderColor}`,children:[(0,b.jsx)(E,{className:"w-3 h-3"}),ad.approvalLevel]}),as()>0&&(0,b.jsxs)("span",{className:"px-2 sm:px-3 py-0.5 sm:py-1 bg-gradient-to-r from-amber-100 to-orange-100 text-amber-700 rounded-full text-xs font-bold flex items-center gap-1 border border-amber-200 shadow-sm",children:[(0,b.jsx)("span",{className:"w-1.5 h-1.5 bg-amber-500 rounded-full animate-pulse"}),as()," Total Pending"]})]}),(0,b.jsx)("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold bg-gradient-to-r from-gray-900 via-gray-800 to-gray-700 bg-clip-text text-transparent",children:"Request Management"}),(0,b.jsxs)("p",{className:"text-gray-500 text-sm sm:text-base md:text-lg max-w-xl",children:[ad.description,". Review and process"," ",o," transactions."]})]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 w-full",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(d.Search,{className:"absolute left-3 sm:left-4 top-1/2 -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-gray-400"}),(0,b.jsx)("input",{type:"text",placeholder:`Search ${o} transactions...`,value:g,onChange:a=>l(a.target.value),className:"w-full pl-10 sm:pl-12 pr-4 py-3 sm:py-3.5 bg-gray-50/80 backdrop-blur border border-gray-200 rounded-xl sm:rounded-2xl focus:outline-none focus:ring-4 focus:ring-blue-100 focus:border-blue-400 focus:bg-white transition-all duration-300 placeholder:text-gray-400 text-sm sm:text-base"}),g&&(0,b.jsx)("button",{onClick:()=>l(""),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 hover:bg-gray-200 rounded-full transition-colors",children:(0,b.jsx)(p.X,{className:"w-4 h-4 text-gray-400"})})]}),(0,b.jsx)("button",{onClick:an,disabled:H,className:`
            p-3 sm:p-3.5 bg-white border border-gray-200 rounded-xl sm:rounded-2xl 
            hover:bg-gray-50 hover:border-gray-300 transition-all duration-300 
            shadow-sm hover:shadow-md self-end sm:self-auto
            ${H?"cursor-not-allowed opacity-60":""}
          `,children:(0,b.jsx)(s.RefreshCw,{className:`w-5 h-5 text-gray-600 ${H?"animate-spin":""}`})})]})]})})]}),(0,b.jsx)("div",{className:"bg-white rounded-2xl sm:rounded-3xl shadow-lg shadow-gray-200/50 border border-gray-100/80 p-1.5 sm:p-2",children:(0,b.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-1.5 sm:gap-2",children:W.map(a=>{let c=af[a],d=c.icon,e=o===a,f=R[a]||0,g=e?ab.all.count:f;return(0,b.jsxs)("button",{onClick:()=>{a!==o&&(Q(1),w("all"),t(a))},className:`
            relative p-3 sm:p-4 md:p-5 rounded-xl sm:rounded-2xl transition-all duration-500 group overflow-hidden
            ${e?`bg-gradient-to-r ${c.gradient} text-white shadow-xl shadow-${c.color}-500/25 scale-[1.02]`:"bg-gray-50/80 hover:bg-gray-100 text-gray-700 hover:scale-[1.01]"}
          `,children:[e&&(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 to-transparent"}),(0,b.jsxs)("div",{className:"relative flex items-center gap-2 sm:gap-3",children:[(0,b.jsx)("div",{className:`
              p-2 sm:p-3 rounded-lg sm:rounded-xl transition-all duration-300
              ${e?"bg-white/20 backdrop-blur-sm shadow-inner":`${c.bgColor} group-hover:scale-110`}
            `,children:(0,b.jsx)(d,{className:`w-4 h-4 sm:w-5 sm:h-5 ${e?"text-white":c.textColor}`})}),(0,b.jsxs)("div",{className:"text-left min-w-0",children:[(0,b.jsx)("p",{className:`font-bold text-sm sm:text-base md:text-lg truncate ${e?"text-white":"text-gray-900"}`,children:c.label}),(0,b.jsx)("p",{className:`text-xs sm:text-sm truncate ${e?"text-white/80":"text-gray-500"}`,children:e?`${g} total`:`${f} pending`})]})]}),f>0&&(0,b.jsx)("div",{className:`
              absolute top-1 right-1 min-w-[22px] sm:min-w-[28px] h-5 sm:h-7 px-1.5 sm:px-2 
              bg-gradient-to-r from-red-500 to-rose-500 text-white rounded-full 
              flex items-center justify-center text-xs font-bold shadow-lg
              ${e?"":"animate-pulse"}
            `,children:f})]},a)})})}),(0,b.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-2 sm:gap-3 md:gap-4",children:[(0,b.jsx)(Z,{title:"Total",value:ab.all.count,subValue:ab.all.total_value?O(ab.all.total_value):null,icon:(0,b.jsx)(j.Package,{className:"w-4 h-4 sm:w-5 sm:h-5"}),gradient:"from-blue-500 to-indigo-600",lightGradient:"from-blue-50 to-indigo-50"}),(0,b.jsx)(Z,{title:"Your Action",value:ar(),icon:(0,b.jsx)(k.AlertCircle,{className:"w-4 h-4 sm:w-5 sm:h-5"}),gradient:"from-amber-500 to-orange-500",lightGradient:"from-amber-50 to-orange-50",highlight:ar()>0}),(0,b.jsx)(Z,{title:"Pending",value:ab.pending.count,subValue:ab.pending.total_value?O(ab.pending.total_value):null,icon:(0,b.jsx)(h.Clock,{className:"w-4 h-4 sm:w-5 sm:h-5"}),gradient:"from-yellow-500 to-amber-500",lightGradient:"from-yellow-50 to-amber-50"}),(0,b.jsx)(Z,{title:"Completed",value:ab.completed.count,subValue:ab.completed.total_value?O(ab.completed.total_value):null,icon:(0,b.jsx)(e.CheckCircle,{className:"w-4 h-4 sm:w-5 sm:h-5"}),gradient:"from-emerald-500 to-green-600",lightGradient:"from-emerald-50 to-green-50"}),(0,b.jsx)(Z,{title:"Rejected",value:ab.rejected.count,subValue:ab.rejected.total_value?O(ab.rejected.total_value):null,icon:(0,b.jsx)(f.XCircle,{className:"w-4 h-4 sm:w-5 sm:h-5"}),gradient:"from-red-500 to-rose-600",lightGradient:"from-red-50 to-rose-50"}),(0,b.jsx)(Z,{title:"Total Value",value:O(ab.all.total_value||0),icon:(0,b.jsx)(i.TrendingUp,{className:"w-4 h-4 sm:w-5 sm:h-5"}),gradient:"from-purple-500 to-pink-600",lightGradient:"from-purple-50 to-pink-50",isAmount:!0})]}),(0,b.jsxs)("div",{className:"bg-white rounded-2xl sm:rounded-3xl shadow-xl shadow-gray-200/50 border border-gray-100/80 overflow-hidden",children:[(0,b.jsx)("div",{className:"border-b border-gray-100 bg-gradient-to-r from-gray-50/80 to-slate-50/80 px-3 sm:px-4 md:px-6 py-3 sm:py-4",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[(0,b.jsx)("div",{className:"flex flex-wrap gap-1.5 sm:gap-2 w-full sm:w-auto",children:X.map(a=>{let c=ag[a],d=c.icon,e=v===a,f=ab[a]?.count||0;return(0,b.jsxs)("button",{onClick:()=>{a!==v&&(Q(1),w(a))},className:`
                flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg sm:rounded-xl 
                font-medium text-xs sm:text-sm transition-all duration-300
                ${e?`${c.bgActive} text-white shadow-lg ring-2 ${c.activeRing} ring-offset-1`:`${c.textColor} ${c.bgHover} bg-white border border-gray-200 hover:shadow-md`}
              `,children:[(0,b.jsx)(d,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),(0,b.jsx)("span",{className:"hidden xs:inline",children:c.label}),(0,b.jsx)("span",{className:`
                ml-0.5 sm:ml-1 px-1.5 sm:px-2.5 py-0.5 rounded-full text-xs font-bold min-w-[20px] sm:min-w-[26px] text-center
                ${e?"bg-white/25 text-white":"bg-gray-100 text-gray-700"}
              `,children:F?(0,b.jsx)(C.Loader2,{className:"w-3 h-3 animate-spin"}):f})]},a)})}),(0,b.jsxs)("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-lg ${af[o].bgColor} ${af[o].borderColor} border`,children:[c.default.createElement(af[o].icon,{className:`w-4 h-4 ${af[o].textColor}`}),(0,b.jsxs)("span",{className:`text-xs sm:text-sm font-semibold ${af[o].textColor}`,children:[af[o].label," Transactions"]})]})]})}),(0,b.jsx)("div",{className:"p-3 sm:p-4 md:p-6",children:F?(0,b.jsx)("div",{className:"flex items-center justify-center py-12 sm:py-16",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-3 sm:gap-4",children:[(0,b.jsx)("div",{className:"relative",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 sm:h-12 sm:w-12 border-4 border-blue-200 border-t-blue-500"})}),(0,b.jsxs)("span",{className:"text-gray-500 font-medium text-sm sm:text-base",children:["Loading ",o," transactions..."]})]})}):ao.length>0?(0,b.jsx)("div",{className:"space-y-3 sm:space-y-4",children:ao.map((c,d)=>(0,b.jsx)(_,{transaction:c,config:af[o],transactionType:o,userRole:a,roleConfig:ad,onApprove:()=>at(c._id,"approve"),onReject:()=>at(c._id,"reject"),onView:()=>n(c),getApprovalStatus:aj,getIndividualApprovalStatus:ai,canUserApprove:aq,remarksDisplayMap:ah,index:d,isProcessing:L===c._id},c._id))}):(0,b.jsx)($,{searchValue:g,statusFilter:v,activeTab:o,config:af[o],onClearSearch:()=>l("")})}),T.total_items>0&&!g&&(0,b.jsx)("div",{className:"border-t border-gray-100 px-3 sm:px-4 md:px-6 py-3 sm:py-4 bg-gradient-to-r from-gray-50/80 to-slate-50/80",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 sm:gap-4",children:[(0,b.jsxs)("div",{className:"text-xs sm:text-sm text-gray-600 order-2 sm:order-1",children:["Showing"," ",(0,b.jsx)("span",{className:"font-bold text-gray-900",children:(T.page-1)*T.limit+1})," ","-"," ",(0,b.jsx)("span",{className:"font-bold text-gray-900",children:Math.min(T.page*T.limit,T.total_items)})," ","of"," ",(0,b.jsx)("span",{className:"font-bold text-gray-900",children:T.total_items})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1 order-1 sm:order-2",children:[(0,b.jsx)("button",{onClick:()=>ap(1),disabled:1===N,className:`
              p-1.5 sm:p-2 rounded-lg sm:rounded-xl border transition-all duration-300
              ${1===N?"border-gray-200 text-gray-300 cursor-not-allowed bg-gray-50":"border-gray-200 text-gray-600 hover:bg-white hover:border-gray-300 hover:shadow-md active:scale-95"}
            `,title:"First Page",children:(0,b.jsx)(z.ChevronsLeft,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>ap(N-1),disabled:1===N,className:`
              p-1.5 sm:p-2 rounded-lg sm:rounded-xl border transition-all duration-300
              ${1===N?"border-gray-200 text-gray-300 cursor-not-allowed bg-gray-50":"border-gray-200 text-gray-600 hover:bg-white hover:border-gray-300 hover:shadow-md active:scale-95"}
            `,title:"Previous Page",children:(0,b.jsx)(x.ChevronLeft,{className:"w-4 h-4"})}),(0,b.jsx)("div",{className:"flex items-center gap-0.5 sm:gap-1 px-1 sm:px-2",children:(()=>{let a=[],c=T.total_pages,d=Math.max(1,N-Math.floor(2.5)),e=Math.min(c,d+5-1);e-d+1<5&&(d=Math.max(1,e-5+1)),d>1&&(a.push((0,b.jsx)("button",{onClick:()=>ap(1),className:"px-2 sm:px-3 py-1 sm:py-1.5 rounded-lg text-xs sm:text-sm font-medium text-gray-600 hover:bg-white hover:shadow-md transition-all",children:"1"},1)),d>2&&a.push((0,b.jsx)("span",{className:"px-1 sm:px-2 text-gray-400 text-xs sm:text-sm",children:"â€¢â€¢â€¢"},"dots-start")));for(let c=d;c<=e;c++)a.push((0,b.jsx)("button",{onClick:()=>ap(c),className:`
                      px-2.5 sm:px-3.5 py-1 sm:py-1.5 rounded-lg sm:rounded-xl text-xs sm:text-sm font-semibold transition-all duration-300
                      ${N===c?"bg-gradient-to-r from-blue-500 to-indigo-600 text-white shadow-lg shadow-blue-500/25 scale-105":"text-gray-600 hover:bg-white hover:shadow-md active:scale-95"}
                    `,children:c},c));return e<c&&(e<c-1&&a.push((0,b.jsx)("span",{className:"px-1 sm:px-2 text-gray-400 text-xs sm:text-sm",children:"â€¢â€¢â€¢"},"dots-end")),a.push((0,b.jsx)("button",{onClick:()=>ap(c),className:"px-2 sm:px-3 py-1 sm:py-1.5 rounded-lg text-xs sm:text-sm font-medium text-gray-600 hover:bg-white hover:shadow-md transition-all",children:c},c))),a})()}),(0,b.jsx)("button",{onClick:()=>ap(N+1),disabled:N===T.total_pages,className:`
              p-1.5 sm:p-2 rounded-lg sm:rounded-xl border transition-all duration-300
              ${N===T.total_pages?"border-gray-200 text-gray-300 cursor-not-allowed bg-gray-50":"border-gray-200 text-gray-600 hover:bg-white hover:border-gray-300 hover:shadow-md active:scale-95"}
            `,title:"Next Page",children:(0,b.jsx)(y.ChevronRight,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>ap(T.total_pages),disabled:N===T.total_pages,className:`
              p-1.5 sm:p-2 rounded-lg sm:rounded-xl border transition-all duration-300
              ${N===T.total_pages?"border-gray-200 text-gray-300 cursor-not-allowed bg-gray-50":"border-gray-200 text-gray-600 hover:bg-white hover:border-gray-300 hover:shadow-md active:scale-95"}
            `,title:"Last Page",children:(0,b.jsx)(A.ChevronsRight,{className:"w-4 h-4"})})]})]})})]})]}),m&&(0,b.jsx)(U,{transaction:m,config:af[o],transactionType:o,onClose:()=>n(null),onApprove:()=>at(m._id,"approve"),onReject:()=>at(m._id,"reject"),getApprovalStatus:aj,getIndividualApprovalStatus:ai,userRole:a,canApprove:aq(m)})]})}],46801)}];

//# sourceMappingURL=src_components_common_Request_jsx_955eeec1._.js.map