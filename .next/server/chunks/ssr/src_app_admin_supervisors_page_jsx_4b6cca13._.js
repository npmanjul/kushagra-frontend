module.exports=[41187,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(87532),e=a.i(15618),f=a.i(69012),g=a.i(84505),h=a.i(77156),i=a.i(68976),j=a.i(67453),k=a.i(63519),l=a.i(92258),m=a.i(24987),n=a.i(8406),o=a.i(28379),p=a.i(67900),q=a.i(60246),r=a.i(93518),s=a.i(13749),t=a.i(50522),u=a.i(72692),v=a.i(33508),w=a.i(1499),x=a.i(67329),y=a.i(22520),z=a.i(57344),A=a.i(69520),B=a.i(92e3),C=a.i(46864),D=a.i(46842),E=a.i(41961),F=a.i(4720),G=a.i(38632),H=a.i(41675),I=a.i(2835),J=a.i(49853),K=a.i(34044),L=a.i(41815),M=a.i(62219),N=a.i(41710),O=a.i(3314),P=a.i(97063),Q=a.i(5151),R=a.i(53569),S=a.i(71931),T=a.i(11156),U=a.i(69769),V=a.i(76472),W=a.i(96221),X=a.i(56738),Y=a.i(87466),Z=a.i(90669),$=a.i(44494),_=a.i(26112),aa=a.i(81010),ab=a.i(91965),ac=a.i(19272),ad=a.i(79808),ae=a.i(60779);let af=({isOpen:a,onClose:d,supervisorId:e})=>{var f,i;let[n,o]=(0,c.useState)("identity"),[q,u]=(0,c.useState)(null),[w,x]=(0,c.useState)(0),[y,z]=(0,c.useState)([]),[af,ag]=(0,c.useState)(0),[ah,ai]=(0,c.useState)(null),[aj,ak]=(0,c.useState)(null),[al,am]=(0,c.useState)(!1),[an,ao]=(0,c.useState)(null);(0,c.useEffect)(()=>{a&&e&&ap()},[a,e]);let ap=async()=>{am(!0),ao(null);try{let a=await fetch(`${ae.default}/employee/getsupervisordetail?supervisorId=${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),b=await a.json();b.success?ak(b.data):ao(b.message||"Failed to fetch supervisor details")}catch(a){ao("Failed to fetch supervisor details. Please try again."),console.error("Error fetching supervisor:",a)}finally{am(!1)}};if((0,c.useEffect)(()=>{a||(o("identity"),ak(null),ao(null),u(null))},[a]),!a)return null;let aq=a=>{if(!a)return"N/A";try{return new Date(a).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})}catch{return a}},ar=a=>{if(!a)return"N/A";let b=[a.line1,a.line2,a.city,a.state,a.country,a.postalCode].filter(Boolean);return b.length>0?b.join(", "):"N/A"},as=async a=>{try{let b=await fetch(a),c=await b.blob(),d=window.URL.createObjectURL(c),e=document.createElement("a");e.href=d,e.download=`supervisor-profile-${Date.now()}.jpg`,document.body.appendChild(e),e.click(),document.body.removeChild(e),window.URL.revokeObjectURL(d)}catch(b){window.open(a,"_blank")}},at=()=>{window.print()},au=(a,b=[a])=>{let c=Array.isArray(b)?b:[b];z(c),ag(-1!==c.indexOf(a)?c.indexOf(a):0),u(a),x(0)},av=a=>{let b="next"===a?(af+1)%y.length:(af-1+y.length)%y.length;ag(b),u(y[b]),x(0)},aw=({label:a,value:c,field:d,relatedImage:e=null,icon:f,maskValue:g=!1})=>{if(!c||"N/A"===c||Array.isArray(c)&&0===c.length)return null;let h=g?String(c).replace(/\d(?=\d{4})/g,"*"):c;return(0,b.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white hover:shadow-md transition-all duration-300",children:(0,b.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-gradient-to-br from-teal-500 to-cyan-600 rounded-lg shadow",children:(0,b.jsx)("div",{className:"text-white",children:f})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"flex items-center gap-2.5 mb-1.5",children:(0,b.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:a})}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("p",{className:"text-base font-semibold text-gray-900",children:h}),(0,b.jsx)("button",{onClick:()=>{var a;return a=String(c),void(navigator.clipboard.writeText(a),ai(d),setTimeout(()=>ai(null),2e3))},className:"p-1.5 hover:bg-gray-100 rounded-lg transition-colors",title:"Copy to clipboard",children:ah===d?(0,b.jsx)(j.CheckCircle2,{className:"w-3.5 h-3.5 text-green-600"}):(0,b.jsx)(Q.Copy,{className:"w-3.5 h-3.5 text-gray-400"})})]}),e&&(0,b.jsxs)("div",{className:"mt-3",children:[(0,b.jsxs)("p",{className:"text-xs text-gray-500 mb-2.5 flex items-center gap-1.5",children:[(0,b.jsx)(G.Image,{className:"w-3.5 h-3.5"}),"Supporting Documents"]}),(0,b.jsx)("div",{className:"flex gap-2.5 flex-wrap",children:Array.isArray(e)?e.map((c,d)=>(0,b.jsx)(ax,{src:c,alt:`${a} ${d+1}`,onClick:()=>au(c,e)},d)):(0,b.jsx)(ax,{src:e,alt:a,onClick:()=>au(e)})})]})]})]})})})})},ax=({src:a,alt:c,onClick:d})=>(0,b.jsx)("div",{className:"relative group cursor-pointer",onClick:d,children:(0,b.jsxs)("div",{className:"w-20 h-20 rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 transform hover:scale-105 ring-1 ring-gray-200 hover:ring-teal-400",children:[(0,b.jsx)("img",{src:a,alt:c,className:"w-full h-full object-cover"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-all duration-300 flex items-center justify-center",children:(0,b.jsx)("div",{className:"p-1.5 bg-white/20 backdrop-blur-sm rounded-full transform scale-0 group-hover:scale-100 transition-transform duration-300",children:(0,b.jsx)(h.Eye,{className:"w-4 h-4 text-white"})})})]})}),ay=({icon:a,title:c,color:d="from-teal-500 to-cyan-600"})=>(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,b.jsx)("div",{className:`p-1.5 bg-gradient-to-br ${d} rounded-lg shadow-sm`,children:(0,b.jsx)(a,{className:"w-4 h-4 text-white"})}),(0,b.jsx)("h4",{className:"text-sm font-semibold text-gray-700",children:c})]}),az=[{id:"identity",label:"Personal Info",icon:D.User,color:"from-teal-500 to-cyan-600"},{id:"work",label:"Employment",icon:E.Briefcase,color:"from-emerald-500 to-green-600"},{id:"documents",label:"Documents & IDs",icon:F.FileText,color:"from-blue-500 to-indigo-600"},{id:"finance",label:"Bank & Salary",icon:X.Wallet,color:"from-amber-500 to-orange-600"},{id:"additional",label:"Additional",icon:P.Info,color:"from-violet-500 to-purple-600"}];return al?(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl p-8 flex flex-col items-center justify-center",children:[(0,b.jsx)(W.Loader2,{className:"w-12 h-12 text-teal-600 animate-spin mb-4"}),(0,b.jsx)("p",{className:"text-gray-600 font-medium",children:"Loading supervisor details..."})]})}):an?(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8 flex flex-col items-center justify-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:(0,b.jsx)(B.AlertCircle,{className:"w-8 h-8 text-red-600"})}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Error Loading Data"}),(0,b.jsx)("p",{className:"text-gray-600 text-center mb-6",children:an}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("button",{onClick:ap,className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors flex items-center gap-2",children:[(0,b.jsx)(A.RefreshCw,{className:"w-4 h-4"}),"Retry"]}),(0,b.jsx)("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors",children:"Close"})]})]})}):aj?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[92vh] overflow-hidden flex flex-col",children:[(0,b.jsxs)("div",{className:"relative overflow-hidden flex-shrink-0",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-teal-600 via-cyan-600 to-emerald-600",children:(0,b.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48Y2lyY2xlIGN4PSIzMCIgY3k9IjMwIiByPSIyIi8+PC9nPjwvZz48L3N2Zz4=')] opacity-20"})}),(0,b.jsx)("div",{className:"relative px-5 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"absolute -inset-1 bg-white/20 rounded-full blur animate-pulse"}),(0,b.jsx)("div",{className:"relative w-14 h-14 rounded-full overflow-hidden border-2 border-white/50 cursor-pointer hover:border-white transition-colors",onClick:()=>aj.photo&&au(aj.photo),children:(0,b.jsx)("img",{src:aj.photo,alt:aj.name,className:"w-full h-full object-cover"})}),(0,b.jsx)("div",{className:"absolute -bottom-1 -right-1 p-1 bg-teal-500 rounded-full border-2 border-white",children:(0,b.jsx)(ad.Wrench,{className:"w-3 h-3 text-white"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[aj.name,aj.is_active&&(0,b.jsx)(M.BadgeCheck,{className:"w-5 h-5 text-green-300"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 text-white/70 text-xs mt-1",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(I.Hash,{className:"w-3 h-3"}),aj.employee_id]}),(0,b.jsx)("span",{children:"•"}),(0,b.jsxs)("span",{className:"flex items-center gap-1 capitalize",children:[(0,b.jsx)(ad.Wrench,{className:"w-3 h-3"}),aj.role]}),(0,b.jsx)("span",{children:"•"}),(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(H.Calendar,{className:"w-3 h-3"}),"Joined: ",aq(aj.date_of_joining)]})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(f=aj.is_active,i=aj.employment_status,f&&"Active"===i?(0,b.jsxs)("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-green-100 rounded-full",children:[(0,b.jsx)(j.CheckCircle2,{className:"w-3.5 h-3.5 text-green-600"}),(0,b.jsx)("span",{className:"text-xs font-medium text-green-700",children:"Active"})]}):(0,b.jsxs)("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-gray-100 rounded-full",children:[(0,b.jsx)(v.X,{className:"w-3.5 h-3.5 text-gray-600"}),(0,b.jsx)("span",{className:"text-xs font-medium text-gray-700",children:"Inactive"})]})),aj.is_engaged?(0,b.jsxs)("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-blue-100 rounded-full",children:[(0,b.jsx)(p.Building2,{className:"w-3.5 h-3.5 text-blue-600"}),(0,b.jsx)("span",{className:"text-xs font-medium text-blue-700",children:"Assigned"})]}):(0,b.jsxs)("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-amber-100 rounded-full",children:[(0,b.jsx)(N.Clock,{className:"w-3.5 h-3.5 text-amber-600"}),(0,b.jsx)("span",{className:"text-xs font-medium text-amber-700",children:"Unassigned"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:at,className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg transition-all duration-300",title:"Print Profile",children:(0,b.jsx)(S.Printer,{className:"w-4 h-4 text-white"})}),(0,b.jsx)("button",{onClick:()=>{navigator.share&&navigator.share({title:`Supervisor Profile - ${aj?.name}`,text:`View profile of ${aj?.name}`,url:window.location.href})},className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg transition-all duration-300",title:"Share Profile",children:(0,b.jsx)(R.Share2,{className:"w-4 h-4 text-white"})}),(0,b.jsx)("button",{onClick:d,className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg transition-all duration-300 hover:scale-110 hover:rotate-90 ml-2",children:(0,b.jsx)(v.X,{className:"w-4 h-4 text-white"})})]})]})]})})]}),(0,b.jsx)("div",{className:"flex bg-gradient-to-r from-gray-50 to-gray-100 px-3 py-2 gap-2 flex-shrink-0 border-b border-gray-200 overflow-x-auto",children:az.map(a=>{let c=a.icon;return(0,b.jsxs)("button",{onClick:()=>o(a.id),className:`flex-shrink-0 px-4 py-2 flex items-center justify-center gap-2 font-medium rounded-lg transition-all duration-300 ${n===a.id?"bg-white text-gray-800 shadow-md scale-[1.02] border border-gray-200":"text-gray-500 hover:bg-white/50 hover:text-gray-700"}`,children:[(0,b.jsx)("div",{className:`p-1.5 rounded-lg bg-gradient-to-br ${n===a.id?a.color:"from-gray-300 to-gray-400"} shadow-sm`,children:(0,b.jsx)(c,{className:"w-3.5 h-3.5 text-white"})}),(0,b.jsx)("span",{className:"text-sm whitespace-nowrap",children:a.label})]},a.id)})}),(0,b.jsx)("div",{className:"flex-1 p-4 overflow-y-auto bg-gradient-to-br from-gray-50 via-white to-gray-50",children:(0,b.jsxs)("div",{className:"space-y-3",children:["identity"===n&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ay,{icon:D.User,title:"Basic Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,b.jsx)(aw,{label:"Full Name",value:aj.name,field:"name",icon:(0,b.jsx)(D.User,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"Employee ID",value:aj.employee_id,field:"employee_id",icon:(0,b.jsx)(I.Hash,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"Date of Birth",value:aq(aj.dob),field:"dob",icon:(0,b.jsx)(H.Calendar,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"Gender",value:aj.gender?.charAt(0).toUpperCase()+aj.gender?.slice(1),field:"gender",icon:(0,b.jsx)(D.User,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"Marital Status",value:aj.marital_status,field:"marital_status",icon:(0,b.jsx)(V.Heart,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"Nationality",value:aj.nationality,field:"nationality",icon:(0,b.jsx)($.Globe,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"Blood Group",value:aj.blood_group,field:"blood_group",icon:(0,b.jsx)(_.Droplet,{className:"w-4 h-4"})})]}),(0,b.jsx)(ay,{icon:k.Phone,title:"Contact Information",color:"from-green-500 to-emerald-600"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,b.jsx)(aw,{label:"Primary Phone",value:aj.phone_number,field:"phone_number",icon:(0,b.jsx)(k.Phone,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"Secondary Phone",value:aj.secondary_phone_number,field:"secondary_phone_number",icon:(0,b.jsx)(k.Phone,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"Email Address",value:aj.email,field:"email",icon:(0,b.jsx)(l.Mail,{className:"w-4 h-4"})})]}),(0,b.jsx)(ay,{icon:aa.Home,title:"Address Information",color:"from-orange-500 to-red-600"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[(0,b.jsx)(aw,{label:"Permanent Address",value:ar(aj.permanent_address),field:"permanent_address",icon:(0,b.jsx)(m.MapPin,{className:"w-4 h-4"})}),!aj.same_as_permanent&&(0,b.jsx)(aw,{label:"Current Address",value:ar(aj.current_address),field:"current_address",icon:(0,b.jsx)(m.MapPin,{className:"w-4 h-4"})}),aj.same_as_permanent&&(0,b.jsx)("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:(0,b.jsxs)("p",{className:"text-sm text-blue-700 flex items-center gap-2",children:[(0,b.jsx)(P.Info,{className:"w-4 h-4"}),"Current address is same as permanent address"]})})]}),(0,b.jsx)(ay,{icon:G.Image,title:"Profile Photo",color:"from-purple-500 to-pink-600"}),(0,b.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(ax,{src:aj.photo,alt:"Profile Photo",onClick:()=>au(aj.photo)}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Profile Picture"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Click to view full image"})]})]})})]}),"work"===n&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ay,{icon:E.Briefcase,title:"Employment Details"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,b.jsx)(aw,{label:"Role",value:aj.role?.charAt(0).toUpperCase()+aj.role?.slice(1),field:"role",icon:(0,b.jsx)(E.Briefcase,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"Employment Type",value:aj.employment_type,field:"employment_type",icon:(0,b.jsx)(Y.FileCheck,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"Employment Status",value:aj.employment_status,field:"employment_status",icon:(0,b.jsx)(Z.Activity,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"Date of Joining",value:aq(aj.date_of_joining),field:"date_of_joining",icon:(0,b.jsx)(H.Calendar,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"Registration Date",value:aq(aj.registration_date),field:"registration_date",icon:(0,b.jsx)(H.Calendar,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"Total Experience",value:`${aj.total_experience_years||0} Years`,field:"total_experience_years",icon:(0,b.jsx)(N.Clock,{className:"w-4 h-4"})})]}),aj.warehouse&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ay,{icon:p.Building2,title:"Warehouse Assignment",color:"from-teal-500 to-cyan-600"}),(0,b.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Warehouse Name"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:aj.warehouse.name})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Location"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:aj.warehouse.location})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Capacity"}),(0,b.jsxs)("p",{className:"text-sm font-semibold text-gray-800",children:[aj.warehouse.capacity_quintal?.toLocaleString()," Quintals"]})]})]})})]}),aj.reporting_manager&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ay,{icon:C.UserCheck,title:"Reporting Manager",color:"from-indigo-500 to-purple-600"}),(0,b.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:aj.reporting_manager})})]}),aj.skills&&aj.skills.length>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ay,{icon:r.Award,title:"Skills",color:"from-amber-500 to-orange-600"}),(0,b.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:aj.skills.map((a,c)=>(0,b.jsx)("span",{className:"px-3 py-1.5 bg-gradient-to-r from-teal-50 to-cyan-50 text-teal-700 rounded-full text-sm font-medium border border-teal-200",children:a},c))})})]}),aj.experience&&aj.experience.length>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ay,{icon:ab.History,title:"Work Experience",color:"from-violet-500 to-purple-600"}),(0,b.jsx)("div",{className:"space-y-3",children:aj.experience.map((a,c)=>(0,b.jsxs)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h5",{className:"text-sm font-semibold text-gray-800",children:a.title}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:a.companyName})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:[aq(a.startDate)," - ",aq(a.endDate)]}),a.lastDrawnSalary&&(0,b.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Last Salary: ₹",a.lastDrawnSalary?.toLocaleString()]})]})]}),a.responsibilities&&(0,b.jsx)("p",{className:"text-xs text-gray-600 mt-2 border-t pt-2",children:a.responsibilities})]},c))})]}),(0,b.jsx)("div",{className:`p-4 rounded-xl border ${aj.onboarding_completed?"bg-green-50 border-green-200":"bg-amber-50 border-amber-200"}`,children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[aj.onboarding_completed?(0,b.jsx)(j.CheckCircle2,{className:"w-5 h-5 text-green-600"}):(0,b.jsx)(N.Clock,{className:"w-5 h-5 text-amber-600"}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:`text-sm font-semibold ${aj.onboarding_completed?"text-green-800":"text-amber-800"}`,children:["Onboarding ",aj.onboarding_completed?"Completed":"In Progress"]}),(0,b.jsxs)("p",{className:`text-xs ${aj.onboarding_completed?"text-green-700":"text-amber-700"}`,children:["Step ",aj.step_completed," of 7 completed"]})]})]})})]}),"documents"===n&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ay,{icon:F.FileText,title:"Government IDs"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,b.jsx)(aw,{label:"PAN Number",value:aj.govt_ids?.pan_number,field:"pan_number",maskValue:!0,icon:(0,b.jsx)(T.CreditCard,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"Aadhaar Number",value:aj.govt_ids?.aadhaar_number,field:"aadhaar_number",maskValue:!0,icon:(0,b.jsx)(T.CreditCard,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"Passport Number",value:aj.govt_ids?.passport_number,field:"passport_number",icon:(0,b.jsx)(F.FileText,{className:"w-4 h-4"})}),aj.govt_ids?.passport_expiry&&(0,b.jsx)(aw,{label:"Passport Expiry",value:aq(aj.govt_ids?.passport_expiry),field:"passport_expiry",icon:(0,b.jsx)(H.Calendar,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"PF Number",value:aj.govt_ids?.pf_number,field:"pf_number",icon:(0,b.jsx)(F.FileText,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"ESI Number",value:aj.govt_ids?.esi_number,field:"esi_number",icon:(0,b.jsx)(F.FileText,{className:"w-4 h-4"})})]}),!aj.govt_ids?.pan_number&&!aj.govt_ids?.aadhaar_number&&!aj.govt_ids?.passport_number&&(0,b.jsx)("div",{className:"p-4 rounded-xl border border-amber-200 bg-amber-50",children:(0,b.jsxs)("p",{className:"text-sm text-amber-700 flex items-center gap-2",children:[(0,b.jsx)(B.AlertCircle,{className:"w-4 h-4"}),"No government ID documents have been added yet."]})}),(0,b.jsx)(ay,{icon:U.GraduationCap,title:"Education",color:"from-blue-500 to-indigo-600"}),aj.education&&aj.education.length>0?(0,b.jsx)("div",{className:"space-y-3",children:aj.education.map((a,c)=>(0,b.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Qualification"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:a.qualification})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Institution"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:a.institution})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Board/University"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:a.boardOrUniversity})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Year of Passing"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:a.yearOfPassing})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Percentage/CGPA"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:a.percentageOrCgpa})]})]})},c))}):(0,b.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-gray-50",children:(0,b.jsxs)("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[(0,b.jsx)(P.Info,{className:"w-4 h-4"}),"No education details have been added yet."]})}),(0,b.jsx)(ay,{icon:r.Award,title:"Certifications",color:"from-amber-500 to-orange-600"}),aj.certifications&&aj.certifications.length>0?(0,b.jsx)("div",{className:"space-y-3",children:aj.certifications.map((a,c)=>(0,b.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Title"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:a.title})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Issuer"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:a.issuer})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Issue Date"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:aq(a.issueDate)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Expiry Date"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:aq(a.expiryDate)})]})]})},c))}):(0,b.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-gray-50",children:(0,b.jsxs)("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[(0,b.jsx)(P.Info,{className:"w-4 h-4"}),"No certifications have been added yet."]})})]}),"finance"===n&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ay,{icon:X.Wallet,title:"Salary Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[aj.salary?(0,b.jsx)(aw,{label:"Monthly Salary",value:`₹${aj.salary?.toLocaleString()}`,field:"salary",icon:(0,b.jsx)(X.Wallet,{className:"w-4 h-4"})}):(0,b.jsx)("div",{className:"p-4 rounded-xl border border-amber-200 bg-amber-50",children:(0,b.jsxs)("p",{className:"text-sm text-amber-700 flex items-center gap-2",children:[(0,b.jsx)(B.AlertCircle,{className:"w-4 h-4"}),"Salary information not available"]})}),(0,b.jsx)(aw,{label:"Tax Status",value:aj.govt_ids?.tax_status,field:"tax_status",icon:(0,b.jsx)(F.FileText,{className:"w-4 h-4"})})]}),(0,b.jsx)(ay,{icon:J.Landmark,title:"Bank Account Details",color:"from-green-500 to-emerald-600"}),aj.bank_details&&(aj.bank_details.account_number||aj.bank_details.bank_name||aj.bank_details.account_holder)?(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,b.jsx)(aw,{label:"Account Holder Name",value:aj.bank_details.account_holder,field:"account_holder",icon:(0,b.jsx)(D.User,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"Account Number",value:aj.bank_details.account_number,field:"account_number",maskValue:!0,icon:(0,b.jsx)(T.CreditCard,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"Bank Name",value:aj.bank_details.bank_name,field:"bank_name",icon:(0,b.jsx)(J.Landmark,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"Branch Name",value:aj.bank_details.branch_name,field:"branch_name",icon:(0,b.jsx)(m.MapPin,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"IFSC Code",value:aj.bank_details.ifsc_code,field:"ifsc_code",icon:(0,b.jsx)(I.Hash,{className:"w-4 h-4"})}),(0,b.jsx)(aw,{label:"UPI ID",value:aj.bank_details.upi_id,field:"upi_id",icon:(0,b.jsx)(T.CreditCard,{className:"w-4 h-4"})})]}):(0,b.jsx)("div",{className:"p-4 rounded-xl border border-amber-200 bg-amber-50",children:(0,b.jsxs)("p",{className:"text-sm text-amber-700 flex items-center gap-2",children:[(0,b.jsx)(B.AlertCircle,{className:"w-4 h-4"}),"Bank account details have not been added yet."]})})]}),"additional"===n&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ay,{icon:ac.PhoneCall,title:"Emergency Contacts",color:"from-red-500 to-rose-600"}),aj.emergency_contacts&&aj.emergency_contacts.length>0?(0,b.jsx)("div",{className:"space-y-3",children:aj.emergency_contacts.map((a,c)=>(0,b.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Name"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:a.name})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Relationship"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:a.relationship})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Phone"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:a.phone})]}),a.alternatePhone&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Alternate Phone"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:a.alternatePhone})]}),a.address&&(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Address"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:a.address})]})]})},c))}):(0,b.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-gray-50",children:(0,b.jsxs)("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[(0,b.jsx)(P.Info,{className:"w-4 h-4"}),"No emergency contacts have been added yet."]})}),(0,b.jsx)(ay,{icon:Z.Activity,title:"Medical Information",color:"from-pink-500 to-rose-600"}),aj.medical_conditions?(0,b.jsx)(aw,{label:"Medical Conditions",value:aj.medical_conditions,field:"medical_conditions",icon:(0,b.jsx)(Z.Activity,{className:"w-4 h-4"})}):(0,b.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-gray-50",children:(0,b.jsxs)("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[(0,b.jsx)(j.CheckCircle2,{className:"w-4 h-4 text-green-500"}),"No medical conditions reported"]})}),(0,b.jsx)(ay,{icon:O.Shield,title:"Background Verification",color:"from-indigo-500 to-purple-600"}),(0,b.jsx)("div",{className:`p-4 rounded-xl border ${"Passed"===aj.background_check_status?"bg-green-50 border-green-200":"Failed"===aj.background_check_status?"bg-red-50 border-red-200":"bg-amber-50 border-amber-200"}`,children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:["Passed"===aj.background_check_status?(0,b.jsx)(j.CheckCircle2,{className:"w-5 h-5 text-green-600"}):"Failed"===aj.background_check_status?(0,b.jsx)(v.X,{className:"w-5 h-5 text-red-600"}):(0,b.jsx)(N.Clock,{className:"w-5 h-5 text-amber-600"}),(0,b.jsx)("div",{children:(0,b.jsxs)("p",{className:`text-sm font-semibold ${"Passed"===aj.background_check_status?"text-green-800":"Failed"===aj.background_check_status?"text-red-800":"text-amber-800"}`,children:["Background Check: ",aj.background_check_status||"Pending"]})})]})}),(0,b.jsx)(ay,{icon:F.FileText,title:"HR Notes",color:"from-gray-500 to-gray-600"}),aj.hr_notes?(0,b.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:(0,b.jsx)("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:aj.hr_notes})}):(0,b.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-gray-50",children:(0,b.jsxs)("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[(0,b.jsx)(P.Info,{className:"w-4 h-4"}),"No HR notes available"]})}),(0,b.jsx)(ay,{icon:P.Info,title:"System Information",color:"from-gray-500 to-gray-600"}),(0,b.jsx)("div",{className:"p-4 rounded-xl border border-gray-200 bg-gray-50",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Created At"}),(0,b.jsx)("p",{className:"text-xs font-medium text-gray-700",children:aq(aj.created_at)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Updated At"}),(0,b.jsx)("p",{className:"text-xs font-medium text-gray-700",children:aq(aj.updated_at)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Is Engaged"}),(0,b.jsx)("p",{className:"text-xs font-medium text-gray-700",children:aj.is_engaged?"Yes":"No"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Profile ID"}),(0,b.jsx)("p",{className:"text-xs font-medium text-gray-700 truncate",title:aj.employee_profile_id,children:aj.employee_profile_id?.slice(-8)})]})]})})]})]})}),(0,b.jsx)("div",{className:"border-t border-gray-200 bg-gradient-to-r from-gray-50 via-white to-gray-50 px-5 py-3 flex-shrink-0",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[(0,b.jsx)(P.Info,{className:"w-3.5 h-3.5"}),(0,b.jsx)("span",{children:"Read-only view. Contact administrator for any changes."})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("button",{onClick:ap,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-all duration-300 font-medium text-sm flex items-center gap-2",children:[(0,b.jsx)(A.RefreshCw,{className:"w-4 h-4"}),"Refresh"]}),(0,b.jsxs)("button",{onClick:at,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-all duration-300 font-medium text-sm flex items-center gap-2",children:[(0,b.jsx)(S.Printer,{className:"w-4 h-4"}),"Print"]}),(0,b.jsx)("button",{onClick:d,className:"px-4 py-2 bg-gradient-to-r from-teal-600 to-cyan-600 text-white rounded-lg hover:shadow-lg transition-all duration-300 font-medium text-sm transform hover:scale-105",children:"Close"})]})]})})]})}),q&&(0,b.jsx)(({image:a,onClose:c})=>a?(0,b.jsxs)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex items-center justify-center z-[60]",onClick:c,children:[(0,b.jsx)("button",{onClick:c,className:"absolute top-4 right-4 p-2.5 bg-white/10 hover:bg-white/20 rounded-xl transition-all duration-300 hover:scale-110 group z-10",children:(0,b.jsx)(v.X,{className:"w-5 h-5 text-white group-hover:rotate-90 transition-transform duration-300"})}),y.length>1&&(0,b.jsx)("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 px-3 py-1.5 bg-white/10 backdrop-blur-sm rounded-full",children:(0,b.jsxs)("span",{className:"text-white text-sm font-medium",children:[af+1," / ",y.length]})}),y.length>1&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:a=>{a.stopPropagation(),av("prev")},className:"absolute left-4 top-1/2 -translate-y-1/2 p-3 bg-white/10 hover:bg-white/20 rounded-xl transition-all duration-300 hover:scale-110 group",children:(0,b.jsx)(s.ChevronLeft,{className:"w-6 h-6 text-white group-hover:-translate-x-1 transition-transform"})}),(0,b.jsx)("button",{onClick:a=>{a.stopPropagation(),av("next")},className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 bg-white/10 hover:bg-white/20 rounded-xl transition-all duration-300 hover:scale-110 group",children:(0,b.jsx)(t.ChevronRight,{className:"w-6 h-6 text-white group-hover:translate-x-1 transition-transform"})})]}),(0,b.jsxs)("div",{className:"relative max-w-[85vw] max-h-[85vh] p-4",onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl bg-white/5 backdrop-blur-sm border border-white/10",children:[(0,b.jsx)("img",{src:a,alt:"Supervisor",className:"max-w-full max-h-[75vh] object-contain transition-transform duration-500",style:{transform:`rotate(${w}deg)`}}),(0,b.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-black/70 to-transparent"})]}),(0,b.jsx)("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 flex items-center gap-3",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2.5 bg-white/10 backdrop-blur-xl rounded-xl border border-white/20",children:[(0,b.jsx)("button",{onClick:()=>x(a=>a-90),className:"p-2.5 hover:bg-white/20 rounded-lg transition-all duration-200 group",title:"Rotate Left",children:(0,b.jsx)(L.RotateCw,{className:"w-4 h-4 text-white transform -scale-x-100 group-hover:rotate-[-90deg] transition-transform duration-300"})}),(0,b.jsx)("div",{className:"w-px h-6 bg-white/20"}),(0,b.jsx)("button",{onClick:()=>x(a=>a+90),className:"p-2.5 hover:bg-white/20 rounded-lg transition-all duration-200 group",title:"Rotate Right",children:(0,b.jsx)(L.RotateCw,{className:"w-4 h-4 text-white group-hover:rotate-90 transition-transform duration-300"})}),(0,b.jsx)("div",{className:"w-px h-6 bg-white/20"}),(0,b.jsx)("button",{onClick:()=>window.open(a,"_blank"),className:"p-2.5 hover:bg-white/20 rounded-lg transition-all duration-200 group",title:"Open in New Tab",children:(0,b.jsx)(K.Maximize2,{className:"w-4 h-4 text-white group-hover:scale-110 transition-transform duration-300"})}),(0,b.jsx)("div",{className:"w-px h-6 bg-white/20"}),(0,b.jsxs)("button",{onClick:()=>as(a),className:"flex items-center gap-2 px-3.5 py-2.5 bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 rounded-lg transition-all duration-300 hover:scale-105",title:"Download",children:[(0,b.jsx)(g.Download,{className:"w-4 h-4 text-white"}),(0,b.jsx)("span",{className:"text-white font-medium text-sm",children:"Download"})]})]})})]})]}):null,{image:q,onClose:()=>u(null)})]}):(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8 flex flex-col items-center justify-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:(0,b.jsx)(D.User,{className:"w-8 h-8 text-gray-400"})}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Data Found"}),(0,b.jsx)("p",{className:"text-gray-600 text-center mb-6",children:"Supervisor details could not be found."}),(0,b.jsx)("button",{onClick:d,className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors",children:"Close"})]})})};var ag=a.i(14548),ah=a.i(4416),ai=a.i(73320),aj=a.i(81560),ak=a.i(73570),al=a.i(5784),am=a.i(67552);let an=({label:a,field:c,type:d="text",required:e=!1,icon:f,options:g=null,nestedPath:h=null,placeholder:i="",disabled:k=!1,value:l,onChange:m,onBlur:n,hasError:o,errorMessage:p,isValid:q,isChanged:r})=>(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsxs)("label",{className:"text-xs font-medium text-gray-700 flex items-center gap-1.5",children:[f&&(0,b.jsx)(f,{className:"w-3.5 h-3.5 text-gray-400"}),a,e&&(0,b.jsx)("span",{className:"text-red-500",children:"*"}),r&&(0,b.jsx)("span",{className:"ml-auto text-xs text-amber-600 font-normal",children:"Modified"})]}),(0,b.jsxs)("div",{className:"relative",children:[g?(0,b.jsxs)("select",{value:l||"",onChange:a=>m(c,a.target.value,h),disabled:k,className:`w-full px-3 py-2 border rounded-lg text-sm transition-all ${o?"border-red-300 bg-red-50":r?"border-amber-300 bg-amber-50":"border-gray-300"} ${k?"bg-gray-100 cursor-not-allowed":""} focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500`,children:[(0,b.jsxs)("option",{value:"",children:["Select ",a]}),g.map(a=>(0,b.jsx)("option",{value:"object"==typeof a?a.value:a,children:"object"==typeof a?a.label:a},"object"==typeof a?a.value:a))]}):"textarea"===d?(0,b.jsx)("textarea",{value:l||"",onChange:a=>m(c,a.target.value,h),onBlur:()=>n&&n(c),disabled:k,placeholder:i,rows:3,className:`w-full px-3 py-2 border rounded-lg text-sm transition-all resize-none ${o?"border-red-300 bg-red-50":r?"border-amber-300 bg-amber-50":"border-gray-300"} ${k?"bg-gray-100 cursor-not-allowed":""} focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500`}):(0,b.jsx)("input",{type:d,value:l||"",onChange:a=>m(c,"number"===d?Number(a.target.value):a.target.value,h),onBlur:()=>n&&n(c),disabled:k,placeholder:i,className:`w-full px-3 py-2 border rounded-lg text-sm transition-all ${o?"border-red-300 bg-red-50":r?"border-amber-300 bg-amber-50":"border-gray-300"} ${k?"bg-gray-100 cursor-not-allowed":""} focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500`}),o&&(0,b.jsx)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:(0,b.jsx)(B.AlertCircle,{className:"w-4 h-4 text-red-500"})}),q&&!o&&(0,b.jsx)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:(0,b.jsx)(j.CheckCircle2,{className:"w-4 h-4 text-green-500"})})]}),o&&(0,b.jsxs)("p",{className:"text-xs text-red-600 flex items-center gap-1",children:[(0,b.jsx)(B.AlertCircle,{className:"w-3 h-3"}),p]})]}),ao=({icon:a,title:c,color:d="from-indigo-500 to-purple-600",collapsible:e=!1,isExpanded:f=!1,onToggle:g=null})=>(0,b.jsxs)("div",{className:`flex items-center justify-between mb-4 ${e?"cursor-pointer":""}`,onClick:()=>e&&g&&g(),children:[(0,b.jsxs)("h3",{className:"text-sm font-semibold text-gray-800 flex items-center gap-2",children:[(0,b.jsx)("div",{className:`p-1.5 bg-gradient-to-br ${d} rounded-lg shadow-sm`,children:(0,b.jsx)(a,{className:"w-4 h-4 text-white"})}),c]}),e&&(0,b.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded transition-colors",children:f?(0,b.jsx)(am.ChevronUp,{className:"w-4 h-4 text-gray-500"}):(0,b.jsx)(al.ChevronDown,{className:"w-4 h-4 text-gray-500"})})]}),ap=({currentImage:a,onImageChange:d,onImageRemove:e})=>{let[f,g]=(0,c.useState)(a);(0,c.useEffect)(()=>{g(a)},[a]);let i=a=>{let b=a.target.files[0];if(b){let a=new FileReader;a.onloadend=()=>{g(a.result),d(a.result)},a.readAsDataURL(b)}};return(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"text-xs font-medium text-gray-700 flex items-center gap-1.5",children:[(0,b.jsx)(G.Image,{className:"w-3.5 h-3.5 text-gray-400"}),"Profile Photo"]}),(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"relative group",children:(0,b.jsx)("div",{className:"w-24 h-24 rounded-xl overflow-hidden border-2 border-dashed border-gray-300 hover:border-indigo-400 transition-colors",children:f?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("img",{src:f,alt:"Profile",className:"w-full h-full object-cover"}),(0,b.jsxs)("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:()=>window.open(f,"_blank"),className:"p-1.5 bg-white/20 backdrop-blur-sm rounded-lg hover:bg-white/30 transition-colors",children:(0,b.jsx)(h.Eye,{className:"w-4 h-4 text-white"})}),(0,b.jsx)("button",{type:"button",onClick:()=>{g(null),e()},className:"p-1.5 bg-white/20 backdrop-blur-sm rounded-lg hover:bg-white/30 transition-colors",children:(0,b.jsx)(aj.Trash2,{className:"w-4 h-4 text-white"})})]})]}):(0,b.jsxs)("label",{className:"cursor-pointer w-full h-full flex flex-col items-center justify-center text-gray-400 hover:text-indigo-500 transition-colors",children:[(0,b.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:i}),(0,b.jsx)(ai.Upload,{className:"w-6 h-6 mb-1"}),(0,b.jsx)("span",{className:"text-xs",children:"Upload"})]})})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Upload a profile photo. Recommended size: 256x256 pixels."}),(0,b.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Supported formats: JPG, PNG (max 5MB)"}),f&&(0,b.jsxs)("label",{className:"mt-2 inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-indigo-600 hover:bg-indigo-50 rounded-lg cursor-pointer transition-colors",children:[(0,b.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:i}),(0,b.jsx)(A.RefreshCw,{className:"w-3.5 h-3.5"}),"Change Photo"]})]})]})]})},aq=({isOpen:a,onClose:d,onSave:f,supervisorId:g})=>{let h,[n,o]=(0,c.useState)({}),[p,q]=(0,c.useState)({}),[s,t]=(0,c.useState)("personal"),[u,w]=(0,c.useState)({}),[x,y]=(0,c.useState)(!1),[z,C]=(0,c.useState)(new Set),[K,L]=(0,c.useState)(!1),[M,O]=(0,c.useState)({}),[Q,R]=(0,c.useState)({}),[S,ad]=(0,c.useState)({}),[af,ai]=(0,c.useState)(!1),[al,am]=(0,c.useState)(!1),[aq,ar]=(0,c.useState)(null),[as,at]=(0,c.useState)(!1);(0,c.useEffect)(()=>{a&&g&&au()},[a,g]),(0,c.useEffect)(()=>{a||(t("personal"),w({}),y(!1),C(new Set),O({}),R({}),at(!1))},[a]);let au=async()=>{ai(!0),ar(null);try{let a=await fetch(`${ae.default}/employee/getsupervisordetail?supervisorId=${g}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),b=await a.json();if(b.success){let a=b.data,c={_id:a._id,name:a.name||"",phone_number:a.phone_number||"",secondary_phone_number:a.secondary_phone_number||"",email:a.email||"",gender:a.gender||"",dob:a.dob?a.dob.split("T")[0]:"",role:a.role||"",is_active:a.is_active??!0,employee_id:a.employee_id||"",photo:a.photo||"",marital_status:a.marital_status||"",nationality:a.nationality||"",blood_group:a.blood_group||"",permanent_address:a.permanent_address||{line1:"",line2:"",city:"",state:"",country:"",postalCode:""},current_address:a.current_address||{line1:"",line2:"",city:"",state:"",country:"",postalCode:""},same_as_permanent:a.same_as_permanent??!1,employment_type:a.employment_type||"",date_of_joining:a.date_of_joining?a.date_of_joining.split("T")[0]:"",employment_status:a.employment_status||"",salary:a.salary||0,bank_details:a.bank_details||{account_number:"",ifsc_code:"",account_holder:"",bank_name:"",branch_name:"",upi_id:""},govt_ids:a.govt_ids||{pan_number:"",aadhaar_number:"",passport_number:"",passport_expiry:"",pf_number:"",esi_number:"",tax_status:""},education:a.education||[],certifications:a.certifications||[],experience:a.experience||[],total_experience_years:a.total_experience_years||0,skills:a.skills||[],medical_conditions:a.medical_conditions||"",emergency_contacts:a.emergency_contacts||[],hr_notes:a.hr_notes||"",background_check_status:a.background_check_status||"",warehouse:a.warehouse?._id||"",manager:a.manager?._id||""};o(c),q(JSON.parse(JSON.stringify(c)))}else ar(b.message||"Failed to fetch supervisor details")}catch(a){ar("Failed to fetch supervisor details. Please try again."),console.error("Error fetching supervisor:",a)}finally{ai(!1)}},av=async()=>{let a={};if(["name","phone_number","email"].forEach(b=>{n[b]||(a[b]="This field is required")}),n.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)&&(a.email="Invalid email format"),n.phone_number&&!/^\d{10}$/.test(n.phone_number)&&(a.phone_number="Phone number must be 10 digits"),Object.keys(a).length>0)return void w(a);am(!0),ar(null);try{let a={supervisorId:g,...n,modifiedFields:Array.from(z),modifiedAt:new Date().toISOString()},b=await fetch(`${ae.default}/employee/updatesupervisordetail?supervisorId=${g}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(a)}),c=await b.json();c.success?(at(!0),y(!1),C(new Set),q(JSON.parse(JSON.stringify(n))),f&&f(c.data),setTimeout(()=>{at(!1),d()},1500)):ar(c.message||"Failed to update supervisor details")}catch(a){ar("Failed to update supervisor details. Please try again."),console.error("Error updating supervisor:",a)}finally{am(!1)}};if(!a)return null;let aw=a=>{if(!a)return"";try{return a.split("T")[0]}catch{return a}},ax=(a,b,c=null)=>{o(d=>{if(c){let[a,e]=c.split(".");return{...d,[a]:{...d[a],[e]:b}}}return{...d,[a]:b}});let d=c||a;C(a=>new Set(a).add(d)),y(!0),w(b=>{let c={...b};return delete c[a],c})},ay=(a,b,c,d)=>{o(e=>{let f=[...e[a]||[]];return f[b]={...f[b],[c]:d},{...e,[a]:f}}),C(b=>new Set(b).add(a)),y(!0)},az=(a,b)=>{o(c=>({...c,[a]:[...c[a]||[],b]})),C(b=>new Set(b).add(a)),y(!0)},aA=(a,b)=>{o(c=>({...c,[a]:c[a].filter((a,c)=>c!==b)})),C(b=>new Set(b).add(a)),y(!0)},aB=a=>{let b=((a,b)=>{switch(a){case"email":return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b)?null:"Invalid email format";case"phone_number":case"secondary_phone_number":return!b||/^\d{10}$/.test(b)?null:"Phone number must be 10 digits";case"postalCode":return!b||/^\d{6}$/.test(b)?null:"Postal code must be 6 digits";default:return null}})(a,n[a]);b?(w(c=>({...c,[a]:b})),R(b=>({...b,[a]:"error"}))):R(b=>({...b,[a]:"success"}))},aC=()=>{x?L(!0):d()},aD=[{id:"personal",label:"Personal Info",icon:D.User,color:"from-blue-500 to-indigo-600"},{id:"employment",label:"Employment",icon:E.Briefcase,color:"from-violet-500 to-purple-600"},{id:"documents",label:"Documents",icon:F.FileText,color:"from-emerald-500 to-teal-600"},{id:"finance",label:"Bank & Salary",icon:X.Wallet,color:"from-amber-500 to-orange-600"},{id:"additional",label:"Additional",icon:P.Info,color:"from-pink-500 to-rose-600"}],aE=a=>{let{field:c,nestedPath:d}=a,e=d?d.split(".").reduce((a,b)=>a?.[b],n):n[c],f=u[c],g="success"===Q[c],h=z.has(d||c);return(0,b.jsx)(an,{...a,value:e,onChange:ax,onBlur:aB,hasError:f,errorMessage:f,isValid:g,isChanged:h})},aF=a=>{let{sectionKey:c}=a;return(0,b.jsx)(ao,{...a,isExpanded:!!c&&S[c],onToggle:c?()=>{ad(a=>({...a,[c]:!a[c]}))}:null})},aG=a=>(0,b.jsx)("div",{className:"space-y-3",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[aE({label:"Address Line 1",field:"line1",nestedPath:`${a}.line1`,icon:aa.Home,placeholder:"Street address"}),aE({label:"Address Line 2",field:"line2",nestedPath:`${a}.line2`,icon:aa.Home,placeholder:"Apartment, suite, etc."}),aE({label:"City",field:"city",nestedPath:`${a}.city`,icon:m.MapPin}),aE({label:"State",field:"state",nestedPath:`${a}.state`,icon:m.MapPin}),aE({label:"Country",field:"country",nestedPath:`${a}.country`,icon:$.Globe}),aE({label:"Postal Code",field:"postalCode",nestedPath:`${a}.postalCode`,icon:I.Hash})]})});return af?(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl p-8 flex flex-col items-center justify-center",children:[(0,b.jsx)(W.Loader2,{className:"w-12 h-12 text-indigo-600 animate-spin mb-4"}),(0,b.jsx)("p",{className:"text-gray-600 font-medium",children:"Loading supervisor details..."})]})}):aq&&!n._id?(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8 flex flex-col items-center justify-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:(0,b.jsx)(B.AlertCircle,{className:"w-8 h-8 text-red-600"})}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Error Loading Data"}),(0,b.jsx)("p",{className:"text-gray-600 text-center mb-6",children:aq}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("button",{onClick:au,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors flex items-center gap-2",children:[(0,b.jsx)(A.RefreshCw,{className:"w-4 h-4"}),"Retry"]}),(0,b.jsx)("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors",children:"Close"})]})]})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[92vh] overflow-hidden flex flex-col",children:[(0,b.jsxs)("div",{className:"relative overflow-hidden flex-shrink-0",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-teal-600 via-cyan-600 to-blue-600",children:(0,b.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48Y2lyY2xlIGN4PSIzMCIgY3k9IjMwIiByPSIyIi8+PC9nPjwvZz48L3N2Zz4=')] opacity-20"})}),(0,b.jsx)("div",{className:"relative px-5 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"absolute -inset-1 bg-white/20 rounded-full blur animate-pulse"}),(0,b.jsx)("div",{className:"relative w-12 h-12 rounded-full overflow-hidden border-2 border-white/50",children:(0,b.jsx)("img",{src:n.photo||`https://ui-avatars.com/api/?name=${n.name}&background=random&size=256`,alt:n.name,className:"w-full h-full object-cover"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[(0,b.jsx)(i.Edit3,{className:"w-5 h-5"}),"Edit Supervisor Profile"]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 text-white/70 text-xs mt-1",children:[(0,b.jsx)("span",{children:n.name}),(0,b.jsx)("span",{children:"•"}),(0,b.jsxs)("span",{children:["ID: ",n.employee_id]}),x&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{children:"•"}),(0,b.jsxs)("span",{className:"text-yellow-300 font-medium flex items-center gap-1",children:[(0,b.jsx)(B.AlertCircle,{className:"w-3 h-3"}),z.size," field(s) modified"]})]})]})]})]}),(0,b.jsx)("div",{className:"flex items-center gap-3",children:(0,b.jsx)("button",{onClick:aC,className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg transition-all duration-300",children:(0,b.jsx)(v.X,{className:"w-4 h-4 text-white"})})})]})})]}),as&&(0,b.jsxs)("div",{className:"bg-green-50 border-b border-green-200 px-5 py-3 flex items-center gap-3",children:[(0,b.jsx)(j.CheckCircle2,{className:"w-5 h-5 text-green-600"}),(0,b.jsx)("span",{className:"text-sm font-medium text-green-800",children:"Supervisor details updated successfully!"})]}),aq&&n._id&&(0,b.jsxs)("div",{className:"bg-red-50 border-b border-red-200 px-5 py-3 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(B.AlertCircle,{className:"w-5 h-5 text-red-600"}),(0,b.jsx)("span",{className:"text-sm font-medium text-red-800",children:aq})]}),(0,b.jsx)("button",{onClick:()=>ar(null),className:"p-1 hover:bg-red-100 rounded transition-colors",children:(0,b.jsx)(v.X,{className:"w-4 h-4 text-red-600"})})]}),(0,b.jsx)("div",{className:"flex bg-gradient-to-r from-gray-50 to-gray-100 px-3 py-2 gap-2 flex-shrink-0 border-b border-gray-200 overflow-x-auto",children:aD.map(a=>{let c=a.icon;return(0,b.jsxs)("button",{onClick:()=>t(a.id),className:`flex-shrink-0 px-4 py-2 flex items-center gap-2 font-medium rounded-lg transition-all duration-300 ${s===a.id?"bg-white text-gray-800 shadow-md scale-[1.02] border border-gray-200":"text-gray-500 hover:bg-white/50 hover:text-gray-700"}`,children:[(0,b.jsx)("div",{className:`p-1.5 rounded-lg bg-gradient-to-br ${s===a.id?a.color:"from-gray-300 to-gray-400"} shadow-sm`,children:(0,b.jsx)(c,{className:"w-3.5 h-3.5 text-white"})}),(0,b.jsx)("span",{className:"text-sm whitespace-nowrap",children:a.label})]},a.id)})}),(0,b.jsx)("div",{className:"flex-1 p-4 overflow-y-auto bg-gradient-to-br from-gray-50 via-white to-gray-50",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto space-y-4",children:["personal"===s&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[aF({icon:D.User,title:"Basic Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[aE({label:"Full Name",field:"name",required:!0,icon:D.User}),aE({label:"Employee ID",field:"employee_id",icon:I.Hash,disabled:!0}),aE({label:"Date of Birth",field:"dob",type:"date",icon:H.Calendar}),aE({label:"Gender",field:"gender",options:["male","female","other"],icon:D.User}),aE({label:"Marital Status",field:"marital_status",options:["Single","Married","Divorced","Widowed"],icon:V.Heart}),aE({label:"Nationality",field:"nationality",icon:$.Globe}),aE({label:"Blood Group",field:"blood_group",options:["A+","A-","B+","B-","AB+","AB-","O+","O-"],icon:_.Droplet})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[aF({icon:k.Phone,title:"Contact Information",color:"from-green-500 to-emerald-600"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[aE({label:"Primary Phone",field:"phone_number",required:!0,icon:k.Phone,placeholder:"10 digit phone number"}),aE({label:"Secondary Phone",field:"secondary_phone_number",icon:k.Phone,placeholder:"10 digit phone number"}),(0,b.jsx)("div",{className:"md:col-span-2",children:aE({label:"Email Address",field:"email",type:"email",required:!0,icon:l.Mail})})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[aF({icon:aa.Home,title:"Permanent Address",color:"from-orange-500 to-red-600"}),aG("permanent_address")]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[aF({icon:m.MapPin,title:"Current Address",color:"from-teal-500 to-cyan-600"}),(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:n.same_as_permanent,onChange:a=>ax("same_as_permanent",a.target.checked),className:"w-4 h-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),(0,b.jsx)("span",{className:"text-xs text-gray-600",children:"Same as permanent address"})]})]}),!n.same_as_permanent&&aG("current_address"),n.same_as_permanent&&(0,b.jsx)("p",{className:"text-sm text-gray-500 italic",children:"Current address is same as permanent address"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[aF({icon:G.Image,title:"Profile Photo",color:"from-purple-500 to-pink-600"}),(h=n.photo,(0,b.jsx)(ap,{currentImage:h,onImageChange:a=>ax("photo",a),onImageRemove:()=>ax("photo","")}))]})]}),"employment"===s&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[aF({icon:E.Briefcase,title:"Employment Details"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[aE({label:"Role",field:"role",options:["supervisor","team_lead"],icon:E.Briefcase}),aE({label:"Employment Type",field:"employment_type",options:["Full-Time","Part-Time","Contract","Internship"],icon:Y.FileCheck}),aE({label:"Employment Status",field:"employment_status",options:["Active","On Leave","Terminated","Resigned"],icon:Z.Activity}),aE({label:"Date of Joining",field:"date_of_joining",type:"date",icon:H.Calendar}),aE({label:"Total Experience (Years)",field:"total_experience_years",type:"number",icon:N.Clock}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("label",{className:"text-xs font-medium text-gray-700 flex items-center gap-1.5",children:[(0,b.jsx)(Z.Activity,{className:"w-3.5 h-3.5 text-gray-400"}),"Active Status"]}),(0,b.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:n.is_active,onChange:a=>ax("is_active",a.target.checked),className:"sr-only peer"}),(0,b.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[aF({icon:ab.History,title:"Work Experience",color:"from-violet-500 to-purple-600"}),(0,b.jsxs)("button",{onClick:()=>az("experience",{companyName:"",title:"",startDate:"",endDate:"",responsibilities:"",lastDrawnSalary:0}),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",children:[(0,b.jsx)(e.Plus,{className:"w-3.5 h-3.5"}),"Add Experience"]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[n.experience?.map((a,c)=>(0,b.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:["Experience #",c+1]}),(0,b.jsx)("button",{onClick:()=>aA("experience",c),className:"p-1 text-red-500 hover:bg-red-50 rounded transition-colors",children:(0,b.jsx)(aj.Trash2,{className:"w-4 h-4"})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Company Name"}),(0,b.jsx)("input",{type:"text",value:a.companyName||"",onChange:a=>ay("experience",c,"companyName",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Job Title"}),(0,b.jsx)("input",{type:"text",value:a.title||"",onChange:a=>ay("experience",c,"title",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Start Date"}),(0,b.jsx)("input",{type:"date",value:aw(a.startDate),onChange:a=>ay("experience",c,"startDate",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"End Date"}),(0,b.jsx)("input",{type:"date",value:aw(a.endDate),onChange:a=>ay("experience",c,"endDate",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Last Drawn Salary"}),(0,b.jsx)("input",{type:"number",value:a.lastDrawnSalary||"",onChange:a=>ay("experience",c,"lastDrawnSalary",Number(a.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"})]}),(0,b.jsxs)("div",{className:"md:col-span-2 space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Responsibilities"}),(0,b.jsx)("textarea",{value:a.responsibilities||"",onChange:a=>ay("experience",c,"responsibilities",a.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 resize-none"})]})]})]},c)),(!n.experience||0===n.experience.length)&&(0,b.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No work experience added"})]})]})]}),"documents"===s&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[aF({icon:T.CreditCard,title:"Government IDs"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[aE({label:"PAN Number",field:"pan_number",nestedPath:"govt_ids.pan_number",icon:T.CreditCard}),aE({label:"Aadhaar Number",field:"aadhaar_number",nestedPath:"govt_ids.aadhaar_number",icon:T.CreditCard}),aE({label:"Passport Number",field:"passport_number",nestedPath:"govt_ids.passport_number",icon:F.FileText}),aE({label:"Passport Expiry",field:"passport_expiry",nestedPath:"govt_ids.passport_expiry",type:"date",icon:H.Calendar}),aE({label:"PF Number",field:"pf_number",nestedPath:"govt_ids.pf_number",icon:F.FileText}),aE({label:"ESI Number",field:"esi_number",nestedPath:"govt_ids.esi_number",icon:F.FileText}),aE({label:"Tax Status",field:"tax_status",nestedPath:"govt_ids.tax_status",icon:F.FileText})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[aF({icon:U.GraduationCap,title:"Education",color:"from-blue-500 to-indigo-600"}),(0,b.jsxs)("button",{onClick:()=>az("education",{qualification:"",institution:"",boardOrUniversity:"",yearOfPassing:"",percentageOrCgpa:"",certificateUrl:""}),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",children:[(0,b.jsx)(e.Plus,{className:"w-3.5 h-3.5"}),"Add Education"]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[n.education?.map((a,c)=>(0,b.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:["Education #",c+1]}),(0,b.jsx)("button",{onClick:()=>aA("education",c),className:"p-1 text-red-500 hover:bg-red-50 rounded transition-colors",children:(0,b.jsx)(aj.Trash2,{className:"w-4 h-4"})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Qualification"}),(0,b.jsx)("input",{type:"text",value:a.qualification||"",onChange:a=>ay("education",c,"qualification",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Institution"}),(0,b.jsx)("input",{type:"text",value:a.institution||"",onChange:a=>ay("education",c,"institution",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Board/University"}),(0,b.jsx)("input",{type:"text",value:a.boardOrUniversity||"",onChange:a=>ay("education",c,"boardOrUniversity",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Year of Passing"}),(0,b.jsx)("input",{type:"number",value:a.yearOfPassing||"",onChange:a=>ay("education",c,"yearOfPassing",Number(a.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Percentage/CGPA"}),(0,b.jsx)("input",{type:"text",value:a.percentageOrCgpa||"",onChange:a=>ay("education",c,"percentageOrCgpa",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"})]})]})]},c)),(!n.education||0===n.education.length)&&(0,b.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No education records added"})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[aF({icon:r.Award,title:"Certifications",color:"from-amber-500 to-orange-600"}),(0,b.jsxs)("button",{onClick:()=>az("certifications",{title:"",issuer:"",issueDate:"",expiryDate:"",credentialUrl:""}),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",children:[(0,b.jsx)(e.Plus,{className:"w-3.5 h-3.5"}),"Add Certification"]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[n.certifications?.map((a,c)=>(0,b.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:["Certification #",c+1]}),(0,b.jsx)("button",{onClick:()=>aA("certifications",c),className:"p-1 text-red-500 hover:bg-red-50 rounded transition-colors",children:(0,b.jsx)(aj.Trash2,{className:"w-4 h-4"})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Title"}),(0,b.jsx)("input",{type:"text",value:a.title||"",onChange:a=>ay("certifications",c,"title",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Issuer"}),(0,b.jsx)("input",{type:"text",value:a.issuer||"",onChange:a=>ay("certifications",c,"issuer",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Issue Date"}),(0,b.jsx)("input",{type:"date",value:aw(a.issueDate),onChange:a=>ay("certifications",c,"issueDate",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Expiry Date"}),(0,b.jsx)("input",{type:"date",value:aw(a.expiryDate),onChange:a=>ay("certifications",c,"expiryDate",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"})]})]})]},c)),(!n.certifications||0===n.certifications.length)&&(0,b.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No certifications added"})]})]})]}),"finance"===s&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[aF({icon:X.Wallet,title:"Salary Information"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:aE({label:"Monthly Salary (₹)",field:"salary",type:"number",icon:X.Wallet})})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[aF({icon:J.Landmark,title:"Bank Account Details",color:"from-green-500 to-emerald-600"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[aE({label:"Account Holder Name",field:"account_holder",nestedPath:"bank_details.account_holder",icon:D.User}),aE({label:"Account Number",field:"account_number",nestedPath:"bank_details.account_number",icon:T.CreditCard}),aE({label:"Bank Name",field:"bank_name",nestedPath:"bank_details.bank_name",icon:J.Landmark}),aE({label:"Branch Name",field:"branch_name",nestedPath:"bank_details.branch_name",icon:m.MapPin}),aE({label:"IFSC Code",field:"ifsc_code",nestedPath:"bank_details.ifsc_code",icon:I.Hash}),aE({label:"UPI ID",field:"upi_id",nestedPath:"bank_details.upi_id",icon:T.CreditCard})]})]})]}),"additional"===s&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[aF({icon:ac.PhoneCall,title:"Emergency Contacts",color:"from-red-500 to-rose-600"}),(0,b.jsxs)("button",{onClick:()=>az("emergency_contacts",{name:"",relationship:"",phone:"",alternatePhone:"",address:""}),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",children:[(0,b.jsx)(e.Plus,{className:"w-3.5 h-3.5"}),"Add Contact"]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[n.emergency_contacts?.map((a,c)=>(0,b.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:["Contact #",c+1]}),(0,b.jsx)("button",{onClick:()=>aA("emergency_contacts",c),className:"p-1 text-red-500 hover:bg-red-50 rounded transition-colors",children:(0,b.jsx)(aj.Trash2,{className:"w-4 h-4"})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Name"}),(0,b.jsx)("input",{type:"text",value:a.name||"",onChange:a=>ay("emergency_contacts",c,"name",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Relationship"}),(0,b.jsxs)("select",{value:a.relationship||"",onChange:a=>ay("emergency_contacts",c,"relationship",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500",children:[(0,b.jsx)("option",{value:"",children:"Select"}),(0,b.jsx)("option",{value:"Spouse",children:"Spouse"}),(0,b.jsx)("option",{value:"Parent",children:"Parent"}),(0,b.jsx)("option",{value:"Sibling",children:"Sibling"}),(0,b.jsx)("option",{value:"Child",children:"Child"}),(0,b.jsx)("option",{value:"Friend",children:"Friend"}),(0,b.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Phone"}),(0,b.jsx)("input",{type:"tel",value:a.phone||"",onChange:a=>ay("emergency_contacts",c,"phone",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Alternate Phone"}),(0,b.jsx)("input",{type:"tel",value:a.alternatePhone||"",onChange:a=>ay("emergency_contacts",c,"alternatePhone",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"})]}),(0,b.jsxs)("div",{className:"md:col-span-2 space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Address"}),(0,b.jsx)("textarea",{value:a.address||"",onChange:a=>ay("emergency_contacts",c,"address",a.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 resize-none"})]})]})]},c)),(!n.emergency_contacts||0===n.emergency_contacts.length)&&(0,b.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No emergency contacts added"})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[aF({icon:Z.Activity,title:"Medical & HR Information",color:"from-pink-500 to-rose-600"}),(0,b.jsxs)("div",{className:"space-y-4",children:[aE({label:"Medical Conditions",field:"medical_conditions",type:"textarea",icon:Z.Activity,placeholder:"List any medical conditions or allergies..."}),aE({label:"Background Check Status",field:"background_check_status",options:["Pending","In Progress","Passed","Failed"],icon:ah.ShieldCheck}),aE({label:"HR Notes",field:"hr_notes",type:"textarea",icon:F.FileText,placeholder:"Internal HR notes..."})]})]})]})]})}),(0,b.jsx)("div",{className:"border-t border-gray-200 bg-gradient-to-r from-gray-50 via-white to-gray-50 px-5 py-3 flex-shrink-0",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[x&&(0,b.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-amber-100 rounded-lg",children:[(0,b.jsx)(B.AlertCircle,{className:"w-3.5 h-3.5 text-amber-600"}),(0,b.jsxs)("span",{className:"text-xs font-medium text-amber-800",children:[z.size," unsaved change",1!==z.size?"s":""]})]}),(0,b.jsxs)("button",{onClick:()=>{o(JSON.parse(JSON.stringify(p))),C(new Set),y(!1),w({}),R({})},disabled:!x,className:`flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-lg transition-colors ${x?"text-gray-600 hover:bg-gray-100":"text-gray-400 cursor-not-allowed"}`,children:[(0,b.jsx)(A.RefreshCw,{className:"w-3.5 h-3.5"}),"Reset Changes"]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:aC,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-all duration-300 font-medium text-sm",children:"Cancel"}),(0,b.jsx)("button",{onClick:av,disabled:!x||Object.keys(u).length>0||al,className:`group px-5 py-2 bg-gradient-to-r from-teal-600 via-cyan-600 to-blue-600 text-white rounded-lg hover:shadow-lg transition-all duration-300 font-medium text-sm flex items-center gap-2 ${!x||Object.keys(u).length>0||al?"opacity-50 cursor-not-allowed":"transform hover:scale-105"}`,children:al?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(W.Loader2,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ag.Save,{className:"w-4 h-4"}),"Save Changes",x&&(0,b.jsx)("span",{className:"ml-1 px-2 py-0.5 bg-white/20 rounded-full text-xs",children:z.size})]})})]})]})})]})}),(0,b.jsx)(()=>K?(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[70] p-4",children:(0,b.jsx)("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:(0,b.jsxs)("div",{className:"p-5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:"p-2 bg-amber-100 rounded-lg",children:(0,b.jsx)(ak.AlertTriangle,{className:"w-5 h-5 text-amber-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Unsaved Changes"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"You have unsaved changes. Are you sure you want to discard them?"})]})]}),(0,b.jsxs)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[(0,b.jsxs)("p",{className:"text-xs font-medium text-gray-700 mb-2",children:["Modified fields (",z.size,"):"]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1 max-h-24 overflow-y-auto",children:Array.from(z).map(a=>(0,b.jsx)("span",{className:"px-2 py-1 bg-white text-xs rounded border border-gray-200",children:a.replace(/_/g," ").replace(/\./g," → ")},a))})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 mt-5",children:[(0,b.jsx)("button",{onClick:()=>L(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:()=>{L(!1),d()},className:"px-4 py-2 text-sm font-medium bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Discard Changes"})]})]})})}):null,{})]})};a.s(["default",0,()=>{let[a,D]=(0,c.useState)([]),[E,F]=(0,c.useState)(!0),[G,H]=(0,c.useState)(null),[I,J]=(0,c.useState)(!1),[K,L]=(0,c.useState)(!1),[M,N]=(0,c.useState)(null),[O,P]=(0,c.useState)(""),[Q,R]=(0,c.useState)("all"),[S,T]=(0,c.useState)("table"),[U,V]=(0,c.useState)(!1),[W,X]=(0,c.useState)(!1),[Y,Z]=(0,c.useState)(1);(0,c.useEffect)(()=>{$()},[]);let $=async()=>{F(!0),H(null);try{let a=await fetch(`${ae.default}/warehouse/allsupervisor`),b=await a.json();b.success?D(b.data||[]):H(b.message||"Failed to fetch supervisors")}catch(a){H("Failed to fetch supervisors. Please try again."),console.error("Error fetching supervisors:",a)}finally{F(!1)}},_=a=>{N(a),J(!0)},aa=a=>{N(a),L(!0)},ab=a.filter(a=>{let b=a.name?.toLowerCase().includes(O.toLowerCase())||a.employee_id?.toLowerCase().includes(O.toLowerCase())||a.phone?.includes(O)||a.email?.toLowerCase().includes(O.toLowerCase())||a.warehouse_name?.toLowerCase().includes(O.toLowerCase())||a.warehouse_location?.toLowerCase().includes(O.toLowerCase()),c="all"===Q||"active"===Q&&a.is_active||"inactive"===Q&&!a.is_active||"engaged"===Q&&a.is_engaged||"available"===Q&&!a.is_engaged;return b&&c}),ac=Math.ceil(ab.length/10),ad=ab.slice((Y-1)*10,10*Y),ag=[{label:"Total Supervisors",value:a.length,icon:o.UserCog,color:"from-blue-500 to-indigo-600",bgColor:"bg-blue-50",change:`${a.length}`,trend:"neutral"},{label:"Active",value:a.filter(a=>a.is_active).length,icon:j.CheckCircle2,color:"from-green-500 to-emerald-600",bgColor:"bg-green-50",change:`${Math.round(a.filter(a=>a.is_active).length/a.length*100)||0}%`,trend:"up"},{label:"Engaged",value:a.filter(a=>a.is_engaged).length,icon:q.Users,color:"from-purple-500 to-pink-600",bgColor:"bg-purple-50",change:`${a.filter(a=>a.is_engaged).length}`,trend:"up"},{label:"Available",value:a.filter(a=>!a.is_engaged&&a.is_active).length,icon:C.UserCheck,color:"from-amber-500 to-orange-600",bgColor:"bg-amber-50",change:`${a.filter(a=>!a.is_engaged&&a.is_active).length}`,trend:"neutral"}],ah=(a,b)=>a?b?{label:"Engaged",bgColor:"bg-purple-100",textColor:"text-purple-700",dotColor:"bg-purple-500"}:{label:"Available",bgColor:"bg-green-100",textColor:"text-green-700",dotColor:"bg-green-500"}:{label:"Inactive",bgColor:"bg-gray-100",textColor:"text-gray-700",dotColor:"bg-gray-400"},ai=({supervisor:a})=>{let c=ah(a.is_active,a.is_engaged);return(0,b.jsxs)("div",{className:"bg-white rounded-xl p-4 sm:p-5 shadow-sm border border-gray-100 hover:shadow-xl hover:border-violet-200 transition-all duration-300 group",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-xl overflow-hidden shadow-md group-hover:shadow-lg transition-shadow",children:(0,b.jsx)("img",{src:a.photo,alt:a.name,className:"w-full h-full object-cover",onError:b=>{b.target.src=`https://ui-avatars.com/api/?name=${a.name}&background=random&size=256`}})}),(0,b.jsx)("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white ${a.is_active?"bg-green-500":"bg-gray-400"}`})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"font-semibold text-gray-900 flex items-center gap-2 text-sm sm:text-base",children:[a.name,a.is_active&&a.is_engaged&&(0,b.jsx)(r.Award,{className:"w-4 h-4 text-amber-500"})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 font-mono",children:a.employee_id})]})]}),(0,b.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-semibold ${c.bgColor} ${c.textColor}`,children:[(0,b.jsx)("span",{className:`w-1.5 h-1.5 rounded-full ${c.dotColor} animate-pulse`}),c.label]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-r from-violet-50 to-purple-50 rounded-lg p-3 mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)(p.Building2,{className:"w-4 h-4 text-violet-600"}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-800",children:a.warehouse_name||"Not Assigned"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-600",children:[(0,b.jsx)(m.MapPin,{className:"w-3 h-3"}),a.warehouse_location||"N/A"]})]}),(0,b.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,b.jsx)("div",{className:"p-1.5 bg-gray-100 rounded-lg",children:(0,b.jsx)(k.Phone,{className:"w-3.5 h-3.5 text-gray-500"})}),(0,b.jsx)("span",{className:"truncate",children:a.phone})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,b.jsx)("div",{className:"p-1.5 bg-gray-100 rounded-lg",children:(0,b.jsx)(l.Mail,{className:"w-3.5 h-3.5 text-gray-500"})}),(0,b.jsx)("span",{className:"truncate text-xs",children:a.email})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 pt-3 border-t border-gray-100",children:[(0,b.jsxs)("button",{onClick:()=>_(a),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2.5 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-all duration-200 text-sm font-medium group-hover:shadow-sm",children:[(0,b.jsx)(h.Eye,{className:"w-4 h-4"}),"View"]}),(0,b.jsxs)("button",{onClick:()=>aa(a),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white rounded-xl hover:shadow-lg hover:shadow-violet-200 transition-all duration-200 text-sm font-medium",children:[(0,b.jsx)(i.Edit3,{className:"w-4 h-4"}),"Edit"]})]})]})};return E?(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"w-16 h-16 border-4 border-violet-200 rounded-full animate-spin border-t-violet-600 mx-auto"}),(0,b.jsx)(o.UserCog,{className:"w-6 h-6 text-violet-600 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"})]}),(0,b.jsx)("p",{className:"mt-4 text-gray-600 font-medium",children:"Loading supervisors..."})]})}):G&&0===a.length?(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100 flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(B.AlertCircle,{className:"w-8 h-8 text-red-600"})}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Failed to Load Supervisors"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:G}),(0,b.jsxs)("button",{onClick:$,className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl hover:shadow-lg transition-all font-medium",children:[(0,b.jsx)(A.RefreshCw,{className:"w-4 h-4"}),"Try Again"]})]})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100 p-3 sm:p-4 lg:p-6 space-y-4 sm:space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[(0,b.jsxs)("div",{className:"w-full sm:w-auto",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 mb-2",children:[(0,b.jsx)("div",{className:"p-2 sm:p-2.5 bg-gradient-to-br from-violet-500 to-purple-600 rounded-lg sm:rounded-xl shadow-lg shadow-violet-200",children:(0,b.jsx)(o.UserCog,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),(0,b.jsx)("h1",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 bg-clip-text text-transparent",children:"Supervisor Management"}),(0,b.jsx)(n.Sparkles,{className:"w-4 h-4 sm:w-5 sm:h-5 text-amber-500 animate-pulse"})]}),(0,b.jsx)("p",{className:"text-gray-500 text-xs sm:text-sm ml-0 sm:ml-14",children:"Manage and monitor all supervisors across warehouses"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 w-full sm:w-auto",children:[(0,b.jsx)("button",{onClick:()=>V(!U),className:"sm:hidden p-2 bg-white border border-gray-200 rounded-lg",children:(0,b.jsx)(u.Menu,{className:"w-5 h-5 text-gray-600"})}),(0,b.jsxs)("button",{onClick:$,className:"flex items-center justify-center gap-2 px-3 sm:px-4 py-2 sm:py-2.5 bg-white border border-gray-200 rounded-lg sm:rounded-xl hover:bg-gray-50 hover:border-gray-300 transition-all duration-200 text-gray-600 text-xs sm:text-sm font-medium shadow-sm",children:[(0,b.jsx)(A.RefreshCw,{className:`w-4 h-4 ${E?"animate-spin":""}`}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Refresh"})]}),(0,b.jsxs)("button",{className:"flex items-center justify-center gap-2 px-3 sm:px-4 py-2 sm:py-2.5 bg-white border border-gray-200 rounded-lg sm:rounded-xl hover:bg-gray-50 hover:border-gray-300 transition-all duration-200 text-gray-600 text-xs sm:text-sm font-medium shadow-sm flex-1 sm:flex-initial",children:[(0,b.jsx)(g.Download,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Export"})]}),(0,b.jsxs)("button",{className:"flex items-center justify-center gap-2 px-3 sm:px-5 py-2 sm:py-2.5 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-lg sm:rounded-xl hover:shadow-lg hover:shadow-violet-200 transition-all duration-300 text-xs sm:text-sm font-semibold flex-1 sm:flex-initial",children:[(0,b.jsx)(e.Plus,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:"Add Supervisor"})]})]})]}),U&&(0,b.jsxs)("div",{className:"sm:hidden bg-white rounded-xl shadow-lg border border-gray-100 p-4 space-y-3 animate-in slide-in-from-top duration-200",children:[(0,b.jsxs)("button",{onClick:()=>{X(!W),V(!1)},className:"w-full flex items-center justify-between px-3 py-2 bg-gray-50 rounded-lg text-sm font-medium text-gray-700",children:[(0,b.jsxs)("span",{className:"flex items-center gap-2",children:[(0,b.jsx)(f.Filter,{className:"w-4 h-4"}),"Filters"]}),(0,b.jsx)(t.ChevronRight,{className:"w-4 h-4"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"View Type"}),(0,b.jsxs)("div",{className:"flex gap-1 bg-gray-100 p-1 rounded-lg",children:[(0,b.jsx)("button",{onClick:()=>T("table"),className:`p-1.5 rounded ${"table"===S?"bg-white shadow-sm":""}`,children:(0,b.jsx)(x.List,{className:"w-4 h-4 text-gray-600"})}),(0,b.jsx)("button",{onClick:()=>T("grid"),className:`p-1.5 rounded ${"grid"===S?"bg-white shadow-sm":""}`,children:(0,b.jsx)(w.Grid3x3,{className:"w-4 h-4 text-gray-600"})})]})]})]}),(0,b.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:ag.map((a,c)=>(0,b.jsxs)("div",{className:"bg-white rounded-lg sm:rounded-2xl p-3 sm:p-5 shadow-sm border border-gray-100 hover:shadow-lg hover:border-gray-200 transition-all duration-300 group relative overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute top-0 right-0 w-20 sm:w-32 h-20 sm:h-32 bg-gradient-to-br from-gray-50 to-transparent rounded-full -translate-y-8 sm:-translate-y-16 translate-x-8 sm:translate-x-16 group-hover:scale-150 transition-transform duration-500"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-2 sm:mb-3",children:[(0,b.jsx)("div",{className:`p-2 sm:p-3 bg-gradient-to-br ${a.color} rounded-lg sm:rounded-xl shadow-lg group-hover:scale-110 group-hover:rotate-3 transition-all duration-300`,children:(0,b.jsx)(a.icon,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),(0,b.jsxs)("div",{className:`flex items-center gap-1 text-xs ${"up"===a.trend?"text-green-600":"down"===a.trend?"text-red-600":"text-gray-500"}`,children:["up"===a.trend&&(0,b.jsx)(y.ArrowUpRight,{className:"w-3 h-3"}),"down"===a.trend&&(0,b.jsx)(z.ArrowDownRight,{className:"w-3 h-3"}),(0,b.jsx)("span",{className:"font-medium",children:a.change})]})]}),(0,b.jsx)("p",{className:"text-[10px] sm:text-xs font-medium text-gray-500 uppercase tracking-wider mb-1",children:a.label}),(0,b.jsx)("p",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:a.value})]})]},c))}),(0,b.jsxs)("div",{className:"bg-white rounded-lg sm:rounded-2xl shadow-sm border border-gray-100 p-3 sm:p-4",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-4",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(d.Search,{className:"w-4 h-4 absolute left-3 sm:left-4 top-1/2 -translate-y-1/2 text-gray-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search by name, ID, phone, email, warehouse...",value:O,onChange:a=>P(a.target.value),className:"w-full pl-9 sm:pl-11 pr-3 sm:pr-4 py-2 sm:py-2.5 bg-gray-50 border border-gray-200 rounded-lg sm:rounded-xl focus:ring-2 focus:ring-violet-500 focus:border-transparent focus:bg-white transition-all duration-200 text-sm"})]}),(0,b.jsx)("div",{className:"hidden sm:flex items-center gap-2",children:["all","active","inactive","engaged","available"].map(a=>(0,b.jsx)("button",{onClick:()=>R(a),className:`px-3 py-2 text-xs font-medium rounded-lg capitalize transition-all duration-200 ${Q===a?"bg-violet-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:a},a))}),(0,b.jsxs)("button",{onClick:()=>X(!W),className:"sm:hidden flex items-center justify-center gap-2 px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-gray-600 text-sm font-medium",children:[(0,b.jsx)(f.Filter,{className:"w-4 h-4"}),"Filters","all"!==Q&&(0,b.jsx)("span",{className:"w-2 h-2 rounded-full bg-violet-500"})]}),(0,b.jsxs)("div",{className:"hidden lg:flex gap-1 bg-gray-100 p-1 rounded-lg",children:[(0,b.jsx)("button",{onClick:()=>T("table"),className:`p-1.5 rounded transition-all ${"table"===S?"bg-white shadow-sm text-violet-600":"text-gray-600"}`,title:"Table View",children:(0,b.jsx)(x.List,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>T("grid"),className:`p-1.5 rounded transition-all ${"grid"===S?"bg-white shadow-sm text-violet-600":"text-gray-600"}`,title:"Grid View",children:(0,b.jsx)(w.Grid3x3,{className:"w-4 h-4"})})]})]}),W&&(0,b.jsxs)("div",{className:"sm:hidden mt-3 pt-3 border-t border-gray-100 animate-in slide-in-from-top duration-200",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("span",{className:"text-xs text-gray-500 font-medium",children:"Filter by status:"}),(0,b.jsx)("button",{onClick:()=>X(!1),className:"p-1 hover:bg-gray-100 rounded",children:(0,b.jsx)(v.X,{className:"w-4 h-4 text-gray-400"})})]}),(0,b.jsx)("div",{className:"flex gap-2 flex-wrap",children:["all","active","inactive","engaged","available"].map(a=>(0,b.jsx)("button",{onClick:()=>{R(a),X(!1)},className:`px-3 py-1.5 text-xs font-medium rounded-lg capitalize transition-all duration-200 ${Q===a?"bg-violet-600 text-white":"bg-gray-100 text-gray-600"}`,children:a},a))})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:["Showing"," ",(0,b.jsx)("span",{className:"font-semibold text-gray-700",children:ad.length})," ","of"," ",(0,b.jsx)("span",{className:"font-semibold text-gray-700",children:ab.length})," ","supervisors"]}),"all"!==Q&&(0,b.jsxs)("button",{onClick:()=>R("all"),className:"text-xs text-violet-600 hover:text-violet-700 font-medium flex items-center gap-1",children:["Clear filter",(0,b.jsx)(v.X,{className:"w-3 h-3"})]})]}),"table"===S&&(0,b.jsxs)("div",{className:"hidden lg:block bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200",children:[(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Supervisor"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Warehouse"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Contact"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-100",children:ad.map(a=>{let c=ah(a.is_active,a.is_engaged);return(0,b.jsxs)("tr",{className:"hover:bg-gradient-to-r hover:from-violet-50/30 hover:to-white transition-all duration-200 group",children:[(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"w-11 h-11 rounded-xl overflow-hidden shadow-md group-hover:shadow-lg transition-all duration-200",children:(0,b.jsx)("img",{src:a.photo,alt:a.name,className:"w-full h-full object-cover",onError:b=>{b.target.src=`https://ui-avatars.com/api/?name=${a.name}&background=random&size=256`}})}),(0,b.jsx)("div",{className:`absolute -bottom-0.5 -right-0.5 w-3.5 h-3.5 rounded-full border-2 border-white ${a.is_active?"bg-green-500":"bg-gray-400"}`})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"font-semibold text-gray-900 text-sm flex items-center gap-2",children:[a.name,a.is_active&&a.is_engaged&&(0,b.jsx)(r.Award,{className:"w-4 h-4 text-amber-500"})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 font-mono",children:a.employee_id})]})]})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"p-2 bg-violet-50 rounded-lg",children:(0,b.jsx)(p.Building2,{className:"w-4 h-4 text-violet-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900",children:a.warehouse_name||"Not Assigned"}),(0,b.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[(0,b.jsx)(m.MapPin,{className:"w-3 h-3"}),a.warehouse_location||"N/A"]})]})]})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,b.jsx)(k.Phone,{className:"w-3.5 h-3.5 text-gray-400"}),a.phone]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[(0,b.jsx)(l.Mail,{className:"w-3 h-3 text-gray-400"}),a.email]})]})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-semibold ${c.bgColor} ${c.textColor}`,children:[(0,b.jsx)("span",{className:`w-1.5 h-1.5 rounded-full ${c.dotColor} animate-pulse`}),c.label]}),a.is_engaged&&(0,b.jsxs)("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[(0,b.jsx)(q.Users,{className:"w-3 h-3"}),"Currently Engaged"]})]})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,b.jsxs)("button",{onClick:()=>_(a),className:"flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-all duration-200 text-xs font-semibold",children:[(0,b.jsx)(h.Eye,{className:"w-3.5 h-3.5"}),"View"]}),(0,b.jsxs)("button",{onClick:()=>aa(a),className:"flex items-center gap-1.5 px-3 py-1.5 bg-gradient-to-r from-violet-500 to-purple-500 text-white rounded-lg hover:shadow-md hover:shadow-violet-200 transition-all duration-200 text-xs font-semibold",children:[(0,b.jsx)(i.Edit3,{className:"w-3.5 h-3.5"}),"Edit"]})]})})]},a._id)})})]})}),ac>1&&(0,b.jsxs)("div",{className:"px-6 py-4 bg-gradient-to-r from-gray-50 to-white border-t border-gray-100 flex items-center justify-between",children:[(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:["Page"," ",(0,b.jsx)("span",{className:"font-semibold text-gray-700",children:Y})," ","of"," ",(0,b.jsx)("span",{className:"font-semibold text-gray-700",children:ac})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>Z(a=>Math.max(1,a-1)),disabled:1===Y,className:"px-3 py-1.5 text-sm font-medium text-gray-600 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:Math.min(5,ac)},(a,c)=>{let d;return d=ac<=5||Y<=3?c+1:Y>=ac-2?ac-4+c:Y-2+c,(0,b.jsx)("button",{onClick:()=>Z(d),className:`px-3 py-1.5 text-sm font-medium rounded-lg transition-colors ${Y===d?"bg-violet-600 text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,children:d},d)}),(0,b.jsx)("button",{onClick:()=>Z(a=>Math.min(ac,a+1)),disabled:Y===ac,className:"px-3 py-1.5 text-sm font-medium text-gray-600 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),"grid"===S&&(0,b.jsx)("div",{className:"hidden lg:grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:ad.map(a=>(0,b.jsx)(ai,{supervisor:a},a._id))}),(0,b.jsx)("div",{className:"lg:hidden grid grid-cols-1 sm:grid-cols-2 gap-3",children:ad.map(a=>(0,b.jsx)(ai,{supervisor:a},a._id))}),0===ab.length&&!E&&(0,b.jsxs)("div",{className:"bg-white rounded-xl sm:rounded-2xl p-8 sm:p-16 text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(o.UserCog,{className:"w-8 h-8 text-gray-400"})}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No supervisors found"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:O||"all"!==Q?"Try adjusting your search or filter criteria":"No supervisors have been added yet"}),(O||"all"!==Q)&&(0,b.jsxs)("button",{onClick:()=>{P(""),R("all")},className:"inline-flex items-center gap-2 px-4 py-2 text-violet-600 hover:bg-violet-50 rounded-lg transition-colors text-sm font-medium",children:[(0,b.jsx)(A.RefreshCw,{className:"w-4 h-4"}),"Clear filters"]})]}),ab.length>0&&ac>1&&(0,b.jsx)("div",{className:"lg:hidden bg-white rounded-xl p-3 border border-gray-100",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:["Page ",(0,b.jsx)("span",{className:"font-semibold text-gray-700",children:Y})," ","of ",(0,b.jsx)("span",{className:"font-semibold text-gray-700",children:ac})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>Z(a=>Math.max(1,a-1)),disabled:1===Y,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:(0,b.jsx)(s.ChevronLeft,{className:"w-4 h-4"})}),(0,b.jsx)("span",{className:"px-3 py-1 bg-violet-600 text-white text-sm font-medium rounded-lg",children:Y}),(0,b.jsx)("button",{onClick:()=>Z(a=>Math.min(ac,a+1)),disabled:Y===ac,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:(0,b.jsx)(t.ChevronRight,{className:"w-4 h-4"})})]})]})})]}),(0,b.jsx)(af,{isOpen:I,onClose:()=>J(!1),supervisorId:M?._id}),(0,b.jsx)(aq,{isOpen:K,onClose:()=>L(!1),supervisorId:M?._id,onSave:a=>{D(b=>b.map(b=>b._id===a._id?{...b,...a}:b)),L(!1)}})]})}],41187)}];

//# sourceMappingURL=src_app_admin_supervisors_page_jsx_4b6cca13._.js.map