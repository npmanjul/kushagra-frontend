{"version":3,"sources":["../../../../src/app/manager/withdraw/page.jsx"],"sourcesContent":["\"use client\";\nimport React, { useEffect, useState } from \"react\";\nimport { \n  Search, \n  User, \n  X, \n  Check, \n  Package,\n  TrendingDown,\n  Truck,\n  AlertCircle,\n  ChevronRight,\n  Calendar,\n  MapPin,\n  Phone,\n  Mail,\n  Hash,\n  Loader2,\n  ArrowDownLeft,\n  Calculator,\n  ArrowRight,\n  Sparkles,\n  Info,\n  Wheat,\n  ChevronDown,\n  FileText,\n  Shield,\n  Activity,\n  PackageMinus,\n  Scale,\n  Clock,\n  UserCheck,\n  MinusCircle,\n  LogOut,\n  Zap,\n  DollarSign,\n  TrendingUp,\n  IndianRupee,\n  Building2,\n  Warehouse\n} from \"lucide-react\";\nimport toast from \"react-hot-toast\";\nimport API_BASE_URL from \"@/utils/constants\";\n\nconst WithdrawalPage = () => {\n  // State declarations\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [searchType, setSearchType] = useState(\"name\");\n  const [searchResults, setSearchResults] = useState([]);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [isSearching, setIsSearching] = useState(false);\n  const [showSearchDropdown, setShowSearchDropdown] = useState(false);\n  const [userInventory, setUserInventory] = useState([]);\n  const [selectedInventoryItem, setSelectedInventoryItem] = useState(null);\n  const [isLoadingInventory, setIsLoadingInventory] = useState(false);\n  const [todayPrice, setTodayPrice] = useState(null);\n  const [withdrawQuantity, setWithdrawQuantity] = useState(\"\");\n  const [withdrawalReason, setWithdrawalReason] = useState(\"\");\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [currentStep, setCurrentStep] = useState(1);\n  const [showConfirmModal, setShowConfirmModal] = useState(false);\n  const [withdrawalNotes, setWithdrawalNotes] = useState(\"\");\n\n  // New states for warehouse inventory\n  const [warehouseInventory, setWarehouseInventory] = useState([]);\n  const [selectedWarehouse, setSelectedWarehouse] = useState(null);\n  const [isLoadingWarehouses, setIsLoadingWarehouses] = useState(false);\n  const [userRole, setUserRole] = useState(null);\n  const [assignedWarehouseId, setAssignedWarehouseId] = useState(null);\n\n  // Predefined withdrawal reasons\n  const withdrawalReasons = [\n    { id: \"personal_use\", label: \"Personal Use\", icon: User, color: \"blue\" },\n    { id: \"sale\", label: \"Direct Sale\", icon: TrendingDown, color: \"emerald\" },\n    { id: \"transfer\", label: \"Transfer\", icon: Truck, color: \"purple\" },\n    { id: \"processing\", label: \"Processing\", icon: Package, color: \"orange\" },\n    { id: \"other\", label: \"Other\", icon: FileText, color: \"gray\" }\n  ];\n\n  // Fetch user role and assigned warehouse on mount\n  useEffect(() => {\n    const fetchUserProfile = async () => {\n      try {\n        const token = localStorage.getItem(\"token\");\n        if (!token) return;\n\n        // Decode token or fetch user profile to get role and assigned warehouse\n        const response = await fetch(`${API_BASE_URL}/user/profile`, {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        });\n\n        if (response.ok) {\n          const data = await response.json();\n          setUserRole(data.user?.role || data.role);\n          console.log( data.warehouseId);\n          setAssignedWarehouseId(data.user?.warehouseId || data.warehouseId);\n        }\n      } catch (error) {\n        console.error(\"Error fetching user profile:\", error);\n      }\n    };\n\n    fetchUserProfile();\n    fetchWarehouseInventory();\n  }, []);\n\n  // Fetch warehouse inventory\n  const fetchWarehouseInventory = async () => {\n    setIsLoadingWarehouses(true);\n    try {\n      const response = await fetch(`${API_BASE_URL}/warehouse/inventory`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n      });\n\n      if (!response.ok) throw new Error(\"Failed to fetch warehouse inventory\");\n\n      const data = await response.json();\n      \n      // Handle admin response (multiple warehouses)\n      if (data.success && data.warehouses) {\n        setWarehouseInventory(data.warehouses);\n        \n        // Auto-select warehouse for manager/supervisor\n        if (assignedWarehouseId) {\n          const assignedWarehouse = data.warehouses.find(\n            w => w.warehouseId === assignedWarehouseId\n          );\n          if (assignedWarehouse) {\n            setSelectedWarehouse(assignedWarehouse);\n          }\n        } else if (data.warehouses.length === 1) {\n          // If only one warehouse, auto-select it\n          setSelectedWarehouse(data.warehouses[0]);\n        }\n      } \n      // Handle manager/supervisor response (single warehouse)\n      else if (data.warehouseId && data.categories) {\n        const singleWarehouse = {\n          warehouseId: data.warehouseId,\n          warehouseName: data.warehouseName,\n          warehouseLocation: data.warehouseLocation,\n          categories: data.categories\n        };\n        setWarehouseInventory([singleWarehouse]);\n        setSelectedWarehouse(singleWarehouse);\n      }\n    } catch (error) {\n      console.error(\"Error fetching warehouse inventory:\", error);\n      toast.error(\"Failed to load warehouse inventory\");\n    } finally {\n      setIsLoadingWarehouses(false);\n    }\n  };\n\n  // Auto-select warehouse when assignedWarehouseId changes\n  useEffect(() => {\n    if (assignedWarehouseId && warehouseInventory.length > 0) {\n      const assignedWarehouse = warehouseInventory.find(\n        w => w.warehouseId === assignedWarehouseId\n      );\n      if (assignedWarehouse) {\n        setSelectedWarehouse(assignedWarehouse);\n      }\n    }\n  }, [assignedWarehouseId, warehouseInventory]);\n\n  // Get available quantity for withdrawal from warehouse\n  const getWarehouseAvailableQty = (categoryId) => {\n    if (!selectedWarehouse) return 0;\n    \n    const category = selectedWarehouse.categories?.find(\n      c => c.category_id === categoryId\n    );\n    \n    if (!category) return 0;\n    \n    // Available = completed deposits - completed withdrawals - completed sells\n    const deposited = category.deposit?.completed?.qty || 0;\n    const withdrawn = category.withdraw?.completed || 0;\n    const sold = category.sell?.completed?.qty || 0;\n    \n    return Math.max(0, deposited - withdrawn - sold);\n  };\n\n  // Get maximum withdrawal quantity (min of user inventory and warehouse availability)\n  const getMaxWithdrawalQty = () => {\n    if (!selectedInventoryItem) return 0;\n    \n    const userQty = parseFloat(selectedInventoryItem.quantity) || 0;\n    const warehouseQty = getWarehouseAvailableQty(\n      selectedInventoryItem.category_id || selectedInventoryItem.grain_id\n    );\n    \n    return Math.min(userQty, warehouseQty);\n  };\n\n  // Helper functions\n  const detectSearchType = (query) => {\n    const normalizedQuery = query.trim();\n    \n    if (normalizedQuery.includes(\"@\")) return \"email\";\n    if (/^[\\d\\s\\-\\+]+$/.test(normalizedQuery) && normalizedQuery.replace(/\\D/g, \"\").length >= 7) return \"phone_number\";\n    if (/^SGB\\d{10}$/i.test(normalizedQuery)) return \"userId\";\n    return \"name\";\n  };\n\n  const searchUsers = async (query) => {\n    if (query.length < 2) {\n      setSearchResults([]);\n      return;\n    }\n\n    setIsSearching(true);\n    const detectedType = detectSearchType(query);\n    setSearchType(detectedType);\n\n    try {\n      const queryParam = `${detectedType}=${encodeURIComponent(query)}`;\n      const response = await fetch(\n        `${API_BASE_URL}/user/finduserdetails?${queryParam}`,\n        {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          },\n        }\n      );\n\n      if (!response.ok) throw new Error(\"Failed to search users\");\n\n      const data = await response.json();\n      \n      if (data.users && Array.isArray(data.users)) {\n        setSearchResults(data.users);\n        setShowSearchDropdown(true);\n      } else if (data.user) {\n        setSearchResults([data.user]);\n        setShowSearchDropdown(true);\n      } else {\n        setSearchResults([]);\n        setShowSearchDropdown(true);\n      }\n    } catch (error) {\n      console.error(\"Search error:\", error);\n      setSearchResults([]);\n      setShowSearchDropdown(true);\n    } finally {\n      setIsSearching(false);\n    }\n  };\n\n  const fetchUserInventory = async (farmerId) => {\n    setIsLoadingInventory(true);\n    try {\n      const response = await fetch(\n        `${API_BASE_URL}/user/getallgraindeposite?farmerId=${farmerId}`,\n        {\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n        }\n      );\n\n      if (!response.ok) throw new Error(\"Failed to fetch inventory\");\n\n      const data = await response.json();\n      const deposits = Array.isArray(data.deposits) ? data.deposits : [];\n\n      // Filter and normalize deposits based on selected warehouse\n      const normalized = deposits\n        .map(d => {\n          const categoryId = d.category_id || d.grain_id;\n          const warehouseAvailable = selectedWarehouse \n            ? getWarehouseAvailableQty(categoryId) \n            : Number(d.total_quantity ?? 0);\n          \n          return {\n            category_id: categoryId,\n            grain_id: d.grain_id || categoryId,\n            grain_type: d.grain_type || \"Unknown\",\n            quality: d.quality || \"Standard\",\n            quantity: Number(d.total_quantity ?? 0),\n            warehouseAvailable: warehouseAvailable,\n            deposited_date: d.deposited_date || null,\n            last_transaction: d.last_transaction || null,\n            warehouseId: selectedWarehouse?.warehouseId || d.warehouseId || null,\n          };\n        })\n        .filter(d => d.quantity > 0 && d.warehouseAvailable > 0)\n        .sort((a,b) => b.quantity - a.quantity);\n\n      setUserInventory(normalized);\n      setCurrentStep(2);\n    } catch (error) {\n      console.error(\"Inventory fetch error:\", error);\n      toast.error(\"Failed to load user inventory\");\n      setUserInventory([]);\n    } finally {\n      setIsLoadingInventory(false);\n    }\n  };\n\n  const fetchTodayPrice = async (grainId) => {\n    try {\n      const response = await fetch(\n        `${API_BASE_URL}/pricehistory/pricehistorybygrain?id=${grainId}`\n      );\n      \n      if (!response.ok) throw new Error(\"Failed to fetch price\");\n      \n      const data = await response.json();\n      setTodayPrice(data);\n    } catch (error) {\n      console.error(\"Price fetch error:\", error);\n      toast.error(\"Failed to load today's price\");\n      setTodayPrice(null);\n    }\n  };\n\n  useEffect(() => {\n    const delayDebounceFn = setTimeout(() => {\n      if (searchQuery) {\n        searchUsers(searchQuery);\n      } else {\n        setSearchResults([]);\n        setShowSearchDropdown(false);\n      }\n    }, 500);\n\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchQuery]);\n\n  useEffect(() => {\n    if (selectedInventoryItem) {\n      fetchTodayPrice(selectedInventoryItem.grain_id || selectedInventoryItem.category_id);\n      setCurrentStep(3);\n    }\n  }, [selectedInventoryItem]);\n\n  // Refetch user inventory when warehouse changes\n  useEffect(() => {\n    if (selectedUser && selectedWarehouse) {\n      fetchUserInventory(selectedUser._id || selectedUser.id);\n    }\n  }, [selectedWarehouse]);\n\n  const handleSelectUser = (user) => {\n    setSelectedUser(user);\n    setSearchQuery(\"\");\n    setShowSearchDropdown(false);\n    setSearchResults([]);\n    fetchUserInventory(user._id || user.id);\n  };\n\n  const handleSelectInventory = (item) => {\n    setSelectedInventoryItem(item);\n    setWithdrawQuantity(\"\");\n    setWithdrawalReason(\"\");\n    setWithdrawalNotes(\"\");\n  };\n\n  const handleSelectWarehouse = (warehouse) => {\n    setSelectedWarehouse(warehouse);\n    setSelectedInventoryItem(null);\n    setWithdrawQuantity(\"\");\n  };\n\n  const calculateTotalAmount = () => {\n    if (!withdrawQuantity || !todayPrice?.price) return 0;\n    return (parseFloat(withdrawQuantity) * parseFloat(todayPrice.price)).toFixed(2);\n  };\n\n  const processWithdrawal = async () => {\n    if (!withdrawQuantity || !withdrawalReason) {\n      toast.error(\"Please fill all required fields\");\n      return;\n    }\n\n    const maxQty = getMaxWithdrawalQty();\n    if (parseFloat(withdrawQuantity) > maxQty) {\n      toast.error(`Withdrawal quantity cannot exceed ${maxQty} Qtl (warehouse limit)`);\n      return;\n    }\n\n    if (!selectedWarehouse) {\n      toast.error(\"Please select a warehouse\");\n      return;\n    }\n\n    setIsProcessing(true);\n    try {\n      const withdrawalData = {\n        farmerId: selectedUser._id || selectedUser.id,\n        grain_id: selectedInventoryItem.grain_id || selectedInventoryItem.category_id,\n        quantity: withdrawQuantity,\n        price: todayPrice?.price || 0,\n        total_value: calculateTotalAmount(),\n        WarehouseId: selectedWarehouse.warehouseId,\n        reason: withdrawalReason,\n        notes: withdrawalNotes,\n      };\n\n      const response = await fetch(`${API_BASE_URL}/withdrawal/grainwithdrawal`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n        body: JSON.stringify(withdrawalData),\n      });\n\n      if (!response.ok) throw new Error(\"Failed to process withdrawal\");\n\n      toast.success(\"Withdrawal processed successfully!\");\n      \n      // Refresh warehouse inventory\n      await fetchWarehouseInventory();\n      \n      setSelectedUser(null);\n      setUserInventory([]);\n      setSelectedInventoryItem(null);\n      setWithdrawQuantity(\"\");\n      setWithdrawalReason(\"\");\n      setWithdrawalNotes(\"\");\n      setTodayPrice(null);\n      setCurrentStep(1);\n      setShowConfirmModal(false);\n      \n    } catch (error) {\n      console.error(\"Withdrawal error:\", error);\n      toast.error(\"Failed to process withdrawal\");\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  // Check if user is manager or supervisor (should have auto-selected warehouse)\n  const isWarehouseStaff = userRole === 'manager' || userRole === 'supervisor' || userRole === 'admin';\n  const canSelectWarehouse = !isWarehouseStaff || !assignedWarehouseId;\n\n  // Confirmation Modal Component\n  const ConfirmWithdrawalModal = () => {\n    if (!showConfirmModal) return null;\n\n    const maxQty = getMaxWithdrawalQty();\n    const remainingQty = selectedInventoryItem\n      ? (parseFloat(selectedInventoryItem.quantity) - parseFloat(withdrawQuantity || 0)).toFixed(2)\n      : \"0\";\n\n    const warehouseRemainingQty = selectedInventoryItem\n      ? (getWarehouseAvailableQty(selectedInventoryItem.category_id) - parseFloat(withdrawQuantity || 0)).toFixed(2)\n      : \"0\";\n\n    const selectedReasonObj = withdrawalReasons.find(r => r.id === withdrawalReason);\n\n    return (\n      <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\n        <div \n          className=\"absolute inset-0 bg-black/60 backdrop-blur-md\" \n          onClick={() => setShowConfirmModal(false)}\n        />\n        <div className=\"relative w-full max-w-2xl max-h-[90vh] bg-white rounded-3xl shadow-2xl overflow-auto animate-modalSlide no-scrollbar\">\n          {/* Header Gradient */}\n          <div className=\"h-2 bg-gradient-to-r from-red-500 via-orange-500 to-yellow-500\" />\n          \n          <div className=\"p-6 md:p-8\">\n            {/* Modal Header */}\n            <div className=\"flex items-center justify-between mb-6\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"p-3 bg-gradient-to-br from-red-500 to-orange-600 rounded-2xl shadow-lg\">\n                  <PackageMinus className=\"h-6 w-6 text-white\" />\n                </div>\n                <div>\n                  <h3 className=\"text-2xl font-bold text-gray-900\">Confirm Withdrawal</h3>\n                  <p className=\"text-sm text-gray-500 mt-0.5\">Review withdrawal details before confirming</p>\n                </div>\n              </div>\n              <button\n                onClick={() => setShowConfirmModal(false)}\n                className=\"p-2.5 hover:bg-gray-100 rounded-xl transition-colors\"\n              >\n                <X className=\"h-5 w-5 text-gray-500\" />\n              </button>\n            </div>\n\n            {/* Content Grid */}\n            <div className=\"space-y-4\">\n              {/* Warehouse Details */}\n              <div className=\"bg-gradient-to-br from-slate-50 to-gray-50 rounded-2xl p-5 border border-gray-200\">\n                <div className=\"flex items-center gap-2 mb-3\">\n                  <Building2 className=\"h-5 w-5 text-slate-600\" />\n                  <h4 className=\"font-semibold text-gray-800\">Warehouse Details</h4>\n                </div>\n                <div className=\"grid grid-cols-2 gap-3\">\n                  <InfoItem label=\"Warehouse\" value={selectedWarehouse?.warehouseName} />\n                  <InfoItem label=\"Location\" value={selectedWarehouse?.warehouseLocation} />\n                </div>\n              </div>\n\n              {/* Farmer Details */}\n              <div className=\"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-5 border border-blue-100\">\n                <div className=\"flex items-center gap-2 mb-3\">\n                  <UserCheck className=\"h-5 w-5 text-blue-600\" />\n                  <h4 className=\"font-semibold text-gray-800\">Farmer Details</h4>\n                </div>\n                <div className=\"grid grid-cols-2 gap-3\">\n                  <InfoItem label=\"Name\" value={selectedUser?.name} />\n                  <InfoItem label=\"ID\" value={selectedUser?.userId} />\n                  <InfoItem label=\"Email\" value={selectedUser?.email} />\n                  <InfoItem label=\"Phone\" value={selectedUser?.phone_number || \"-\"} />\n                </div>\n              </div>\n\n              {/* Grain Details */}\n              <div className=\"bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-5 border border-purple-100\">\n                <div className=\"flex items-center gap-2 mb-3\">\n                  <Wheat className=\"h-5 w-5 text-purple-600\" />\n                  <h4 className=\"font-semibold text-gray-800\">Grain Details</h4>\n                </div>\n                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\n                  <InfoItem label=\"Type\" value={selectedInventoryItem?.grain_type} />\n                  <InfoItem label=\"Quality\" value={selectedInventoryItem?.quality} />\n                  <InfoItem label=\"User's Stock\" value={`${selectedInventoryItem?.quantity} Qtl`} />\n                  <InfoItem label=\"Warehouse Stock\" value={`${getWarehouseAvailableQty(selectedInventoryItem?.category_id)} Qtl`} />\n                  <InfoItem label=\"Withdrawing\" value={`${withdrawQuantity || 0} Qtl`} highlight />\n                  <InfoItem label=\"Rate\" value={`₹${todayPrice?.price || 0}/Qtl`} />\n                </div>\n              </div>\n\n              {/* Stock Impact Summary */}\n              <div className=\"bg-gradient-to-br from-amber-50 to-yellow-50 rounded-2xl p-5 border border-amber-200\">\n                <div className=\"flex items-center gap-2 mb-3\">\n                  <Activity className=\"h-5 w-5 text-amber-600\" />\n                  <h4 className=\"font-semibold text-gray-800\">Stock Impact</h4>\n                </div>\n                <div className=\"grid grid-cols-2 gap-3\">\n                  <div className=\"bg-white/70 rounded-xl p-3\">\n                    <p className=\"text-xs text-gray-500 mb-1\">User's Remaining</p>\n                    <p className=\"font-bold text-lg text-gray-900\">{remainingQty} Qtl</p>\n                  </div>\n                  <div className=\"bg-white/70 rounded-xl p-3\">\n                    <p className=\"text-xs text-gray-500 mb-1\">Warehouse Remaining</p>\n                    <p className=\"font-bold text-lg text-gray-900\">{warehouseRemainingQty} Qtl</p>\n                  </div>\n                </div>\n              </div>\n\n              {/* Financial Summary */}\n              <div className=\"bg-gradient-to-br from-emerald-50 to-green-50 rounded-2xl p-5 border border-emerald-200\">\n                <div className=\"flex items-center gap-2 mb-3\">\n                  <Calculator className=\"h-5 w-5 text-emerald-600\" />\n                  <h4 className=\"font-semibold text-gray-800\">Withdrawal Value</h4>\n                </div>\n                <div className=\"space-y-2\">\n                  <div className=\"flex justify-between items-center py-2\">\n                    <span className=\"text-gray-600\">Quantity × Rate</span>\n                    <span className=\"text-gray-900 font-medium\">\n                      {withdrawQuantity || 0} × ₹{todayPrice?.price || 0}\n                    </span>\n                  </div>\n                  <div className=\"flex justify-between items-center py-3 border-t border-emerald-200\">\n                    <span className=\"text-lg font-semibold text-gray-800\">Total Value</span>\n                    <span className=\"text-2xl font-bold text-emerald-600\">\n                      ₹{calculateTotalAmount()}\n                    </span>\n                  </div>\n                </div>\n              </div>\n\n              {/* Withdrawal Details */}\n              <div className=\"bg-gradient-to-br from-orange-50 to-amber-50 rounded-2xl p-5 border border-orange-200\">\n                <div className=\"flex items-center gap-2 mb-3\">\n                  <LogOut className=\"h-5 w-5 text-orange-600\" />\n                  <h4 className=\"font-semibold text-gray-800\">Withdrawal Information</h4>\n                </div>\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-center gap-3\">\n                    {selectedReasonObj && <selectedReasonObj.icon className=\"h-5 w-5 text-orange-600\" />}\n                    <div>\n                      <p className=\"text-xs text-gray-500\">Reason</p>\n                      <p className=\"font-semibold text-gray-900\">{selectedReasonObj?.label}</p>\n                    </div>\n                  </div>\n                  {withdrawalNotes && (\n                    <div className=\"bg-white/70 rounded-xl p-3\">\n                      <p className=\"text-xs text-gray-500 mb-1\">Additional Notes</p>\n                      <p className=\"text-sm text-gray-700\">{withdrawalNotes}</p>\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              {/* Warning */}\n              <div className=\"flex gap-3 p-4 bg-red-50 border border-red-200 rounded-xl\">\n                <AlertCircle className=\"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5\" />\n                <div>\n                  <p className=\"text-sm text-red-800 font-medium\">\n                    Important: This action cannot be reversed\n                  </p>\n                  <p className=\"text-xs text-red-700 mt-1\">\n                    {withdrawQuantity || 0} quintals (Value: ₹{calculateTotalAmount()}) will be permanently removed from both the farmer's inventory and warehouse stock.\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            {/* Actions */}\n            <div className=\"flex gap-3 mt-6\">\n              <button\n                onClick={() => setShowConfirmModal(false)}\n                className=\"flex-1 py-3.5 px-6 rounded-xl font-semibold border-2 border-gray-300 text-gray-700 hover:bg-gray-50 transition-all\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={processWithdrawal}\n                disabled={isProcessing}\n                className=\"flex-1 py-3.5 px-6 rounded-xl font-semibold bg-gradient-to-r from-red-600 to-orange-600 text-white hover:from-red-700 hover:to-orange-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-lg\"\n              >\n                {isProcessing ? (\n                  <>\n                    <Loader2 className=\"h-5 w-5 animate-spin\" />\n                    Processing...\n                  </>\n                ) : (\n                  <>\n                    <Check className=\"h-5 w-5\" />\n                    Confirm Withdrawal\n                  </>\n                )}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  // Helper component for info display\n  const InfoItem = ({ label, value, highlight }) => (\n    <div className={`${highlight ? 'bg-white/80' : 'bg-white/50'} rounded-xl p-2.5`}>\n      <p className=\"text-xs text-gray-500 mb-0.5\">{label}</p>\n      <p className={`font-semibold truncate ${highlight ? 'text-orange-600' : 'text-gray-900'}`}>\n        {value || \"-\"}\n      </p>\n    </div>\n  );\n\n  // Warehouse Selection Component\n  const WarehouseSelector = () => (\n    <div className=\"bg-white/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/50 p-6 lg:p-8 mb-6\">\n      <div className=\"flex items-center gap-3 mb-6\">\n        <div className=\"p-2.5 bg-gradient-to-br from-slate-600 to-gray-700 rounded-xl shadow-lg\">\n          <Building2 className=\"h-5 w-5 text-white\" />\n        </div>\n        <h2 className=\"text-xl font-bold text-gray-800\">Select Warehouse</h2>\n        {selectedWarehouse && (\n          <span className=\"ml-auto px-4 py-1.5 bg-slate-100 text-slate-700 rounded-full text-sm font-medium flex items-center gap-1.5\">\n            <Check className=\"h-4 w-4\" />\n            {selectedWarehouse.warehouseName}\n          </span>\n        )}\n      </div>\n\n      {isLoadingWarehouses ? (\n        <div className=\"flex flex-col items-center justify-center py-12\">\n          <Loader2 className=\"h-8 w-8 animate-spin text-slate-500\" />\n          <p className=\"text-gray-600 mt-3\">Loading warehouses...</p>\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {warehouseInventory.map((warehouse) => {\n            const isSelected = selectedWarehouse?.warehouseId === warehouse.warehouseId;\n            const isAssigned = warehouse.warehouseId === assignedWarehouseId;\n            const totalCategories = warehouse.categories?.length || 0;\n            const totalStock = warehouse.categories?.reduce((acc, cat) => {\n              const available = (cat.deposit?.completed?.qty || 0) - (cat.withdraw?.completed || 0) - (cat.sell?.completed?.qty || 0);\n              return acc + Math.max(0, available);\n            }, 0) || 0;\n\n            return (\n              <div\n                key={warehouse.warehouseId}\n                onClick={() => canSelectWarehouse && handleSelectWarehouse(warehouse)}\n                className={`group relative cursor-pointer transition-all duration-300 ${\n                  !canSelectWarehouse && !isAssigned ? 'opacity-50 cursor-not-allowed' : ''\n                }`}\n              >\n                <div className={`absolute inset-0 bg-gradient-to-br rounded-2xl blur-md transition-all duration-300 ${\n                  isSelected \n                    ? 'from-slate-400 to-gray-400 opacity-40' \n                    : 'from-gray-200 to-gray-300 opacity-0 group-hover:opacity-30'\n                }`} />\n                <div className={`relative p-5 rounded-2xl border-2 backdrop-blur-sm transition-all duration-300 ${\n                  isSelected \n                    ? 'border-slate-500 bg-gradient-to-br from-slate-50 to-gray-50' \n                    : 'border-gray-200 bg-white hover:border-slate-300'\n                }`}>\n                  {isSelected && (\n                    <div className=\"absolute top-3 right-3 animate-bounceIn\">\n                      <div className=\"bg-gradient-to-br from-slate-600 to-gray-700 rounded-full p-1.5 shadow-lg\">\n                        <Check className=\"h-4 w-4 text-white\" />\n                      </div>\n                    </div>\n                  )}\n\n                  {isAssigned && (\n                    <div className=\"absolute top-3 left-3\">\n                      <span className=\"px-2 py-1 bg-blue-100 text-blue-700 rounded-lg text-xs font-medium\">\n                        Assigned\n                      </span>\n                    </div>\n                  )}\n\n                  <div className=\"flex items-start gap-3 mb-4 mt-2\">\n                    <div className={`p-3 rounded-xl transition-all duration-300 ${\n                      isSelected\n                        ? 'bg-gradient-to-br from-slate-600 to-gray-700 shadow-lg'\n                        : 'bg-gradient-to-br from-gray-100 to-gray-200'\n                    }`}>\n                      <Warehouse className={`h-6 w-6 ${isSelected ? 'text-white' : 'text-gray-600'}`} />\n                    </div>\n                    <div className=\"flex-1 min-w-0\">\n                      <h3 className=\"font-bold text-gray-900 truncate\">{warehouse.warehouseName}</h3>\n                      <p className=\"text-sm text-gray-500 flex items-center gap-1 mt-0.5\">\n                        <MapPin className=\"h-3.5 w-3.5\" />\n                        {warehouse.warehouseLocation}\n                      </p>\n                    </div>\n                  </div>\n\n                  <div className=\"grid grid-cols-2 gap-2 text-sm\">\n                    <div className=\"bg-gray-50 rounded-lg p-2\">\n                      <p className=\"text-xs text-gray-500\">Categories</p>\n                      <p className=\"font-semibold text-gray-900\">{totalCategories}</p>\n                    </div>\n                    <div className=\"bg-gray-50 rounded-lg p-2\">\n                      <p className=\"text-xs text-gray-500\">Total Stock</p>\n                      <p className=\"font-semibold text-gray-900\">{totalStock} Qtl</p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      )}\n\n      {!isLoadingWarehouses && warehouseInventory.length === 0 && (\n        <div className=\"text-center py-12 bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl\">\n          <div className=\"w-16 h-16 bg-gray-200 rounded-2xl flex items-center justify-center mx-auto mb-4\">\n            <Building2 className=\"h-8 w-8 text-gray-400\" />\n          </div>\n          <p className=\"text-gray-700 font-semibold\">No warehouses available</p>\n          <p className=\"text-sm text-gray-500 mt-1\">Please contact administrator</p>\n        </div>\n      )}\n    </div>\n  );\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 via-white to-red-50/30\">\n      {/* Animated Background Elements */}\n      <div className=\"fixed inset-0 overflow-hidden pointer-events-none\">\n        <div className=\"absolute top-1/4 -left-20 w-72 h-72 bg-red-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-float\" />\n        <div className=\"absolute top-3/4 -right-20 w-72 h-72 bg-orange-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-float animation-delay-2000\" />\n        <div className=\"absolute bottom-1/4 left-1/3 w-72 h-72 bg-yellow-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-float animation-delay-4000\" />\n      </div>\n\n      {/* Main Container */}\n      <div className=\"relative z-10 container mx-auto px-4 sm:px-6 lg:px-8 py-6 lg:py-8 max-w-7xl\">\n        \n        {/* Header Section */}\n        <div className=\"bg-white/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/50 p-6 lg:p-8 mb-6\">\n          <div className=\"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6\">\n            {/* Title Section */}\n            <div className=\"flex items-center gap-4\">\n              <div className=\"relative\">\n                <div className=\"p-4 bg-gradient-to-br from-red-500 to-orange-600 rounded-2xl shadow-lg\">\n                  <PackageMinus className=\"h-8 w-8 text-white\" />\n                </div>\n                <div className=\"absolute -top-1 -right-1 flex h-3 w-3\">\n                  <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75\"></span>\n                  <span className=\"relative inline-flex rounded-full h-3 w-3 bg-red-500\"></span>\n                </div>\n              </div>\n              <div>\n                <h1 className=\"text-3xl lg:text-4xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent\">\n                  Grain Withdrawal\n                </h1>\n                <p className=\"text-gray-600 mt-1\">Process grain withdrawals from farmer inventory</p>\n              </div>\n            </div>\n            \n            {/* Progress Steps - Desktop */}\n            <div className=\"hidden lg:flex items-center bg-gradient-to-r from-gray-50 to-gray-100 rounded-2xl p-2\">\n              {[\n                { step: 1, label: \"Search Farmer\", icon: Search },\n                { step: 2, label: \"Select Grain\", icon: Package },\n                { step: 3, label: \"Confirm Withdrawal\", icon: MinusCircle }\n              ].map((item, index) => (\n                <div key={item.step} className=\"flex items-center\">\n                  <div className={`flex items-center px-4 py-2.5 rounded-xl transition-all duration-500 ${\n                    currentStep >= item.step ? 'bg-white shadow-md' : ''\n                  }`}>\n                    <div className={`relative flex items-center justify-center w-10 h-10 rounded-xl transition-all duration-500 ${\n                      currentStep >= item.step \n                        ? 'bg-gradient-to-br from-red-500 to-orange-600 text-white shadow-lg' \n                        : 'bg-gray-200 text-gray-500'\n                    }`}>\n                      {currentStep > item.step ? (\n                        <Check className=\"h-5 w-5\" />\n                      ) : (\n                        <item.icon className=\"h-5 w-5\" />\n                      )}\n                      {currentStep === item.step && (\n                        <div className=\"absolute -inset-0.5 bg-gradient-to-r from-red-500 to-orange-600 rounded-xl blur opacity-30 animate-pulse\" />\n                      )}\n                    </div>\n                    <span className={`ml-3 text-sm font-medium hidden xl:inline transition-all duration-500 ${\n                      currentStep >= item.step ? 'text-gray-900' : 'text-gray-500'\n                    }`}>\n                      {item.label}\n                    </span>\n                  </div>\n                  {index < 2 && (\n                    <ChevronRight className={`h-5 w-5 mx-2 transition-all duration-500 ${\n                      currentStep > item.step ? 'text-red-500' : 'text-gray-300'\n                    }`} />\n                  )}\n                </div>\n              ))}\n            </div>\n\n            {/* Progress Steps - Mobile */}\n            <div className=\"flex lg:hidden justify-center gap-2\">\n              {[1, 2, 3].map((step) => (\n                <div\n                  key={step}\n                  className={`h-2 rounded-full transition-all duration-500 ${\n                    currentStep >= step\n                      ? 'w-12 bg-gradient-to-r from-red-500 to-orange-600'\n                      : 'w-2 bg-gray-300'\n                  }`}\n                />\n              ))}\n            </div>\n          </div>\n        </div>\n\n        {/* Warehouse Selection Section */}\n        <WarehouseSelector />\n\n        {/* Search Section */}\n        {selectedWarehouse && (\n          <div className=\"bg-white/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/50 p-6 lg:p-8 mb-6 animate-fadeIn\">\n            <div className=\"flex items-center gap-3 mb-6\">\n              <div className=\"p-2.5 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl shadow-lg\">\n                <Search className=\"h-5 w-5 text-white\" />\n              </div>\n              <h2 className=\"text-xl font-bold text-gray-800\">Search Farmer</h2>\n              {selectedUser && (\n                <span className=\"ml-auto px-4 py-1.5 bg-blue-100 text-blue-700 rounded-full text-sm font-medium flex items-center gap-1.5\">\n                  <Check className=\"h-4 w-4\" />\n                  Farmer Selected\n                </span>\n              )}\n            </div>\n\n            {!selectedUser ? (\n              <div className=\"space-y-4\">\n                <div className=\"relative\">\n                  <div className=\"relative group\">\n                    <div className=\"absolute -inset-0.5 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-2xl blur opacity-20 group-hover:opacity-30 transition duration-300\" />\n                    <div className=\"relative\">\n                      <Search className=\"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 pointer-events-none\" />\n                      <input\n                        type=\"text\"\n                        className=\"w-full pl-12 pr-12 py-4 bg-white rounded-2xl border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-all duration-300 text-base lg:text-lg font-medium placeholder-gray-400\"\n                        placeholder=\"Search by name, email, phone, or farmer ID...\"\n                        value={searchQuery}\n                        onChange={(e) => setSearchQuery(e.target.value)}\n                        onFocus={() => searchQuery && setShowSearchDropdown(true)}\n                      />\n                      {isSearching && (\n                        <div className=\"absolute right-4 top-1/2 transform -translate-y-1/2\">\n                          <Loader2 className=\"animate-spin h-5 w-5 text-blue-500\" />\n                        </div>\n                      )}\n                    </div>\n                  </div>\n\n                  {/* Search Type Indicator */}\n                  {searchQuery && (\n                    <div className=\"mt-3 flex flex-wrap items-center gap-2\">\n                      <span className=\"px-3 py-1.5 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 text-blue-700 rounded-full text-xs font-medium flex items-center gap-1.5\">\n                        {searchType === \"email\" && <Mail className=\"h-3.5 w-3.5\" />}\n                        {searchType === \"phone_number\" && <Phone className=\"h-3.5 w-3.5\" />}\n                        {searchType === \"userId\" && <Hash className=\"h-3.5 w-3.5\" />}\n                        {searchType === \"name\" && <User className=\"h-3.5 w-3.5\" />}\n                        Searching by {searchType.replace(\"_\", \" \")}\n                      </span>\n                      <Sparkles className=\"h-4 w-4 text-yellow-500 animate-pulse\" />\n                    </div>\n                  )}\n\n                  {/* Search Results Dropdown */}\n                  {showSearchDropdown && searchResults.length > 0 && (\n                    <div className=\"absolute z-40 w-full mt-3 bg-white rounded-2xl shadow-2xl border border-gray-200 max-h-96 overflow-y-auto animate-slideDown\">\n                      {searchResults.map((user, index) => (\n                        <div\n                          key={user._id || user.id || index}\n                          onClick={() => handleSelectUser(user)}\n                          className=\"group px-5 py-4 hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 cursor-pointer flex items-center gap-4 transition-all duration-200 border-b border-gray-100 last:border-b-0 first:rounded-t-2xl last:rounded-b-2xl\"\n                        >\n                          <div className=\"relative\">\n                            <div className=\"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center text-white font-bold text-lg shadow-lg group-hover:shadow-xl transition-all duration-200\">\n                              {user.name?.charAt(0).toUpperCase() || \"F\"}\n                            </div>\n                            {user.isActive && (\n                              <div className=\"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-white\" />\n                            )}\n                          </div>\n                          <div className=\"flex-1 min-w-0\">\n                            <p className=\"font-semibold text-gray-900 group-hover:text-blue-600 transition-colors truncate\">\n                              {user.name || \"Unknown Farmer\"}\n                            </p>\n                            <p className=\"text-sm text-gray-600 truncate\">{user.email || \"No email\"}</p>\n                            <div className=\"flex flex-wrap items-center gap-3 mt-1\">\n                              {user.phone_number && (\n                                <span className=\"text-xs text-gray-500 flex items-center gap-1\">\n                                  <Phone className=\"h-3 w-3\" />\n                                  <span className=\"truncate\">{user.phone_number}</span>\n                                </span>\n                              )}\n                              {user.userId && (\n                                <span className=\"text-xs text-blue-600 font-medium flex items-center gap-1\">\n                                  <Hash className=\"h-3 w-3\" />\n                                  {user.userId}\n                                </span>\n                              )}\n                            </div>\n                          </div>\n                          <ChevronRight className=\"h-5 w-5 text-gray-400 group-hover:text-blue-500 group-hover:translate-x-1 transition-all duration-200 flex-shrink-0\" />\n                        </div>\n                      ))}\n                    </div>\n                  )}\n\n                  {/* No Results */}\n                  {showSearchDropdown && searchQuery && searchResults.length === 0 && !isSearching && (\n                    <div className=\"absolute z-40 w-full mt-3 bg-white rounded-2xl shadow-2xl border border-gray-200 p-8 animate-slideDown\">\n                      <div className=\"text-center\">\n                        <div className=\"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4\">\n                          <User className=\"h-8 w-8 text-gray-400\" />\n                        </div>\n                        <p className=\"text-gray-900 font-semibold\">No farmers found</p>\n                        <p className=\"text-sm text-gray-500 mt-1\">Try searching with different criteria</p>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </div>\n            ) : (\n              // Selected User Display\n              <div className=\"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl border-2 border-blue-200 p-6 animate-fadeIn\">\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center gap-4\">\n                    <div className=\"relative\">\n                      <div className=\"w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center text-white font-bold text-xl shadow-lg\">\n                        {selectedUser.name?.charAt(0).toUpperCase() || \"F\"}\n                      </div>\n                      <div className=\"absolute -bottom-1 -right-1 bg-white rounded-full p-1\">\n                        <div className=\"bg-blue-500 rounded-full p-1\">\n                          <Check className=\"h-3 w-3 text-white\" />\n                        </div>\n                      </div>\n                    </div>\n                    <div>\n                      <p className=\"font-bold text-xl text-gray-900\">{selectedUser.name}</p>\n                      <p className=\"text-gray-600 text-sm lg:text-base\">{selectedUser.email}</p>\n                      <div className=\"flex flex-wrap items-center gap-3 mt-1\">\n                        {selectedUser.phone_number && (\n                          <span className=\"text-sm text-gray-500 flex items-center gap-1\">\n                            <Phone className=\"h-4 w-4\" />\n                            {selectedUser.phone_number}\n                          </span>\n                        )}\n                        {selectedUser.userId && (\n                          <span className=\"text-sm text-blue-600 font-medium flex items-center gap-1\">\n                            <Hash className=\"h-4 w-4\" />\n                            {selectedUser.userId}\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                  <button\n                    onClick={() => {\n                      setSelectedUser(null);\n                      setUserInventory([]);\n                      setSelectedInventoryItem(null);\n                      setCurrentStep(1);\n                    }}\n                    className=\"p-3 hover:bg-red-50 rounded-xl transition-all duration-200 group\"\n                  >\n                    <X className=\"h-6 w-6 text-gray-500 group-hover:text-red-500 transition-colors\" />\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Inventory Section */}\n        {selectedUser && currentStep >= 2 && selectedWarehouse && (\n          <div className=\"bg-white/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/50 p-6 lg:p-8 mb-6 animate-fadeIn\">\n            <div className=\"flex items-center gap-3 mb-6\">\n              <div className=\"p-2.5 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl shadow-lg\">\n                <Package className=\"h-5 w-5 text-white\" />\n              </div>\n              <h2 className=\"text-xl font-bold text-gray-800\">Available Inventory</h2>\n              <span className=\"px-3 py-1 bg-gray-100 text-gray-600 rounded-lg text-sm font-medium flex items-center gap-1.5\">\n                <Building2 className=\"h-4 w-4\" />\n                {selectedWarehouse.warehouseName}\n              </span>\n              {selectedInventoryItem && (\n                <span className=\"ml-auto px-4 py-1.5 bg-purple-100 text-purple-700 rounded-full text-sm font-medium flex items-center gap-1.5\">\n                  <Check className=\"h-4 w-4\" />\n                  Grain Selected\n                </span>\n              )}\n            </div>\n\n            {isLoadingInventory ? (\n              <div className=\"flex flex-col items-center justify-center py-20\">\n                <div className=\"relative\">\n                  <div className=\"w-20 h-20 border-4 border-purple-200 rounded-full animate-pulse\" />\n                  <div className=\"absolute top-0 left-0 w-20 h-20 border-4 border-purple-500 rounded-full animate-spin border-t-transparent\" />\n                </div>\n                <p className=\"text-gray-600 mt-4\">Loading inventory...</p>\n              </div>\n            ) : userInventory.length > 0 ? (\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6\">\n                {userInventory.map((item, index) => {\n                  const warehouseAvailable = getWarehouseAvailableQty(item.category_id);\n                  const effectiveAvailable = Math.min(item.quantity, warehouseAvailable);\n                  const isLowStock = warehouseAvailable < item.quantity;\n\n                  return (\n                    <div\n                      key={index}\n                      onClick={() => effectiveAvailable > 0 && handleSelectInventory(item)}\n                      className={`group relative cursor-pointer transition-all duration-300 transform hover:scale-105 ${\n                        selectedInventoryItem === item ? 'scale-105' : ''\n                      } ${effectiveAvailable <= 0 ? 'opacity-50 cursor-not-allowed' : ''}`}\n                    >\n                      <div className={`absolute inset-0 bg-gradient-to-br rounded-2xl blur-md transition-all duration-300 ${\n                        selectedInventoryItem === item \n                          ? 'from-purple-400 to-pink-400 opacity-40' \n                          : 'from-gray-200 to-gray-300 opacity-0 group-hover:opacity-30'\n                      }`} />\n                      <div className={`relative p-6 rounded-2xl border-2 backdrop-blur-sm transition-all duration-300 ${\n                        selectedInventoryItem === item \n                          ? 'border-purple-400 bg-gradient-to-br from-purple-50 to-pink-50' \n                          : 'border-gray-200 bg-white hover:border-purple-300 hover:bg-gradient-to-br hover:from-purple-50/50 hover:to-pink-50/50'\n                      }`}>\n                        {selectedInventoryItem === item && (\n                          <div className=\"absolute top-3 right-3 animate-bounceIn\">\n                            <div className=\"bg-gradient-to-br from-purple-500 to-pink-600 rounded-full p-1.5 shadow-lg\">\n                              <Check className=\"h-4 w-4 text-white\" />\n                            </div>\n                          </div>\n                        )}\n\n                        {isLowStock && (\n                          <div className=\"absolute top-3 left-3\">\n                            <span className=\"px-2 py-1 bg-amber-100 text-amber-700 rounded-lg text-xs font-medium flex items-center gap-1\">\n                              <AlertCircle className=\"h-3 w-3\" />\n                              Limited Stock\n                            </span>\n                          </div>\n                        )}\n                        \n                        <div className=\"flex items-start gap-3 mb-4 mt-2\">\n                          <div className={`p-3 rounded-xl transition-all duration-300 ${\n                            selectedInventoryItem === item\n                              ? 'bg-gradient-to-br from-purple-500 to-pink-600 shadow-lg'\n                              : 'bg-gradient-to-br from-gray-100 to-gray-200 group-hover:from-purple-100 group-hover:to-pink-100'\n                          }`}>\n                            <Wheat className={`h-6 w-6 transition-colors ${\n                              selectedInventoryItem === item ? 'text-white' : 'text-gray-600 group-hover:text-purple-600'\n                            }`} />\n                          </div>\n                          <div className=\"flex-1 min-w-0\">\n                            <h3 className=\"font-bold text-gray-900 truncate\">{item.grain_type}</h3>\n                            <div className=\"flex items-center gap-2 mt-1\">\n                              <span className=\"px-2 py-0.5 bg-gray-100 text-gray-600 rounded-lg text-xs font-medium\">\n                                {item.quality}\n                              </span>\n                            </div>\n                          </div>\n                        </div>\n                        \n                        <div className=\"space-y-3\">\n                          <div className=\"space-y-2 pb-3 border-b border-gray-100\">\n                            <div className=\"flex justify-between items-center\">\n                              <span className=\"text-sm text-gray-600 flex items-center gap-1\">\n                                <User className=\"h-4 w-4\" />\n                                User's Stock\n                              </span>\n                              <span className=\"font-bold text-gray-900\">{item.quantity} Qtl</span>\n                            </div>\n                            <div className=\"flex justify-between items-center\">\n                              <span className=\"text-sm text-gray-600 flex items-center gap-1\">\n                                <Building2 className=\"h-4 w-4\" />\n                                Warehouse Stock\n                              </span>\n                              <span className={`font-bold ${warehouseAvailable < item.quantity ? 'text-amber-600' : 'text-gray-900'}`}>\n                                {warehouseAvailable} Qtl\n                              </span>\n                            </div>\n                          </div>\n                          <div className=\"flex justify-between items-center pt-1\">\n                            <span className=\"text-sm text-gray-600 flex items-center gap-1\">\n                              <Scale className=\"h-4 w-4\" />\n                              Can Withdraw\n                            </span>\n                            <span className=\"font-bold text-lg text-purple-600\">{effectiveAvailable} Qtl</span>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            ) : (\n              <div className=\"text-center py-20 bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl\">\n                <div className=\"w-24 h-24 bg-gradient-to-br from-gray-200 to-gray-300 rounded-3xl flex items-center justify-center mx-auto mb-4\">\n                  <Package className=\"h-12 w-12 text-gray-400\" />\n                </div>\n                <p className=\"text-gray-700 font-semibold text-lg\">No inventory found</p>\n                <p className=\"text-sm text-gray-500 mt-2\">This farmer has no grain available in this warehouse</p>\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Withdrawal Details Section */}\n        {selectedInventoryItem && currentStep >= 3 && (\n          <div className=\"bg-white/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/50 p-6 lg:p-8 animate-fadeIn\">\n            <div className=\"flex items-center gap-3 mb-6\">\n              <div className=\"p-2.5 bg-gradient-to-br from-red-500 to-orange-600 rounded-xl shadow-lg\">\n                <TrendingDown className=\"h-5 w-5 text-white\" />\n              </div>\n              <h2 className=\"text-xl font-bold text-gray-800\">Withdrawal Details</h2>\n            </div>\n\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              {/* Left Column */}\n              <div className=\"space-y-4\">\n                {/* Selected Item Card */}\n                <div className=\"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-200\">\n                  <h3 className=\"font-semibold text-gray-700 mb-4 flex items-center gap-2\">\n                    <Package className=\"h-5 w-5 text-blue-600\" />\n                    Selected Grain\n                  </h3>\n                  <div className=\"space-y-3\">\n                    <div className=\"flex justify-between items-center py-2\">\n                      <span className=\"text-gray-600\">Grain Type</span>\n                      <span className=\"font-semibold text-gray-900\">{selectedInventoryItem.grain_type}</span>\n                    </div>\n                    <div className=\"flex justify-between items-center py-2\">\n                      <span className=\"text-gray-600\">Quality</span>\n                      <span className=\"font-semibold text-gray-900\">{selectedInventoryItem.quality}</span>\n                    </div>\n                    <div className=\"flex justify-between items-center py-2 border-t border-blue-200/50 pt-3\">\n                      <span className=\"text-gray-600\">User's Stock</span>\n                      <span className=\"font-bold text-blue-600\">{selectedInventoryItem.quantity} Qtl</span>\n                    </div>\n                    <div className=\"flex justify-between items-center py-2\">\n                      <span className=\"text-gray-600\">Warehouse Stock</span>\n                      <span className=\"font-bold text-gray-700\">\n                        {getWarehouseAvailableQty(selectedInventoryItem.category_id)} Qtl\n                      </span>\n                    </div>\n                    <div className=\"flex justify-between items-center py-2 bg-purple-100 rounded-xl px-3\">\n                      <span className=\"text-purple-700 font-medium\">Max Withdrawal</span>\n                      <span className=\"font-bold text-purple-700 text-lg\">{getMaxWithdrawalQty()} Qtl</span>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Price Card */}\n                <div className=\"bg-gradient-to-br from-emerald-50 to-green-50 rounded-2xl p-6 border border-emerald-200\">\n                  <h3 className=\"font-semibold text-gray-700 mb-4 flex items-center gap-2\">\n                    <TrendingUp className=\"h-5 w-5 text-emerald-600\" />\n                    Today's Market Price\n                  </h3>\n                  {todayPrice ? (\n                    <div className=\"text-center py-4\">\n                      <p className=\"text-5xl font-bold bg-gradient-to-r from-emerald-600 to-green-600 bg-clip-text text-transparent\">\n                        ₹{todayPrice.price}\n                      </p>\n                      <p className=\"text-sm text-gray-500 mt-2\">per quintal</p>\n                      {todayPrice.date && (\n                        <p className=\"text-xs text-gray-400 mt-3 flex items-center justify-center gap-1\">\n                          <Calendar className=\"h-3.5 w-3.5\" />\n                          Updated: {new Date(todayPrice.date).toLocaleDateString()}\n                        </p>\n                      )}\n                    </div>\n                  ) : (\n                    <div className=\"text-center py-8\">\n                      <Loader2 className=\"h-8 w-8 animate-spin text-emerald-500 mx-auto mb-2\" />\n                      <p className=\"text-sm text-gray-500\">Loading price...</p>\n                    </div>\n                  )}\n                </div>\n\n                {/* Stock Status Card */}\n                <div className=\"bg-gradient-to-br from-amber-50 to-orange-50 rounded-2xl p-6 border border-amber-200\">\n                  <h3 className=\"font-semibold text-gray-700 mb-4 flex items-center gap-2\">\n                    <Activity className=\"h-5 w-5 text-amber-600\" />\n                    Stock Status\n                  </h3>\n                  <div className=\"space-y-4\">\n                    <div className=\"relative\">\n                      <div className=\"flex justify-between items-center mb-2\">\n                        <span className=\"text-sm text-gray-600\">Warehouse Level</span>\n                        <span className=\"text-sm font-semibold text-gray-900\">\n                          {getWarehouseAvailableQty(selectedInventoryItem.category_id)} Qtl\n                        </span>\n                      </div>\n                      <div className=\"w-full bg-gray-200 rounded-full h-3 overflow-hidden\">\n                        <div \n                          className=\"bg-gradient-to-r from-amber-500 to-orange-500 h-3 rounded-full transition-all duration-500\"\n                          style={{ width: '100%' }}\n                        />\n                      </div>\n                      {withdrawQuantity && (\n                        <div className=\"mt-3\">\n                          <div className=\"flex justify-between items-center mb-2\">\n                            <span className=\"text-sm text-gray-600\">After Withdrawal</span>\n                            <span className=\"text-sm font-semibold text-orange-600\">\n                              {(getWarehouseAvailableQty(selectedInventoryItem.category_id) - parseFloat(withdrawQuantity)).toFixed(2)} Qtl\n                            </span>\n                          </div>\n                          <div className=\"w-full bg-gray-200 rounded-full h-3 overflow-hidden\">\n                            <div \n                              className=\"bg-gradient-to-r from-red-500 to-orange-500 h-3 rounded-full transition-all duration-500\"\n                              style={{ \n                                width: `${((getWarehouseAvailableQty(selectedInventoryItem.category_id) - parseFloat(withdrawQuantity)) / getWarehouseAvailableQty(selectedInventoryItem.category_id)) * 100}%` \n                              }}\n                            />\n                          </div>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Right Column - Form */}\n              <div className=\"space-y-4\">\n                {/* Quantity Input */}\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                    Withdrawal Quantity (Quintal) <span className=\"text-red-500\">*</span>\n                  </label>\n                  <div className=\"relative\">\n                    <input\n                      type=\"number\"\n                      min=\"0\"\n                      max={getMaxWithdrawalQty()}\n                      step=\"0.01\"\n                      className=\"w-full px-4 py-3.5 pr-16 bg-white border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-red-500/10 focus:border-red-500 transition-all duration-200 text-lg font-medium\"\n                      placeholder={`Max: ${getMaxWithdrawalQty()} Qtl`}\n                      value={withdrawQuantity}\n                      onChange={(e) => {\n                        const value = e.target.value;\n                        const maxQty = getMaxWithdrawalQty();\n                        if (value === \"\" || (parseFloat(value) >= 0 && parseFloat(value) <= maxQty)) {\n                          setWithdrawQuantity(value);\n                        }\n                      }}\n                    />\n                    <div className=\"absolute inset-y-0 right-0 pr-4 flex items-center pointer-events-none\">\n                      <span className=\"text-gray-500 font-medium\">Qtl</span>\n                    </div>\n                  </div>\n                  {withdrawQuantity && (\n                    <div className=\"mt-2 p-3 bg-orange-50 rounded-xl border border-orange-200\">\n                      <div className=\"flex items-start gap-2\">\n                        <Info className=\"h-4 w-4 text-orange-600 mt-0.5\" />\n                        <div className=\"flex-1 text-sm\">\n                          <p className=\"text-orange-800 font-medium\">\n                            Remaining after withdrawal: {(getMaxWithdrawalQty() - parseFloat(withdrawQuantity)).toFixed(2)} Qtl (from warehouse)\n                          </p>\n                          {parseFloat(withdrawQuantity) > getMaxWithdrawalQty() * 0.8 && (\n                            <p className=\"text-orange-600 text-xs mt-1\">\n                              You're withdrawing more than 80% of available stock\n                            </p>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  )}\n                  <p className=\"text-xs text-gray-500 mt-1\">\n                    Maximum withdrawal limited by: Min(User Stock: {selectedInventoryItem.quantity} Qtl, Warehouse Stock: {getWarehouseAvailableQty(selectedInventoryItem.category_id)} Qtl)\n                  </p>\n                </div>\n\n                {/* Withdrawal Reason */}\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                    Withdrawal Reason <span className=\"text-red-500\">*</span>\n                  </label>\n                  <div className=\"grid grid-cols-2 gap-3\">\n                    {withdrawalReasons.map((reason) => {\n                      const isSelected = withdrawalReason === reason.id;\n                      return (\n                        <button\n                          key={reason.id}\n                          type=\"button\"\n                          onClick={() => setWithdrawalReason(reason.id)}\n                          className={`p-3 rounded-xl border-2 transition-all duration-200 ${\n                            isSelected\n                              ? 'border-orange-500 bg-orange-50 ring-2 ring-orange-500/20'\n                              : 'border-gray-200 hover:border-gray-300 bg-white'\n                          }`}\n                        >\n                          <div className=\"flex items-center gap-2\">\n                            <reason.icon className={`h-5 w-5 ${\n                              isSelected ? 'text-orange-600' : 'text-gray-400'\n                            }`} />\n                            <span className={`text-sm font-medium ${\n                              isSelected ? 'text-gray-900' : 'text-gray-600'\n                            }`}>\n                              {reason.label}\n                            </span>\n                          </div>\n                        </button>\n                      );\n                    })}\n                  </div>\n                </div>\n\n                {/* Value Summary Card */}\n                {withdrawQuantity && todayPrice && (\n                  <div className=\"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-2xl p-6 border border-indigo-200 animate-slideUp\">\n                    <h3 className=\"font-semibold text-gray-700 mb-4 flex items-center gap-2\">\n                      <Calculator className=\"h-5 w-5 text-indigo-600\" />\n                      Withdrawal Value\n                    </h3>\n                    <div className=\"space-y-3\">\n                      <div className=\"flex justify-between items-center\">\n                        <span className=\"text-gray-600\">Quantity</span>\n                        <span className=\"font-medium text-gray-900\">{withdrawQuantity} Quintal</span>\n                      </div>\n                      <div className=\"flex justify-between items-center\">\n                        <span className=\"text-gray-600\">Rate per Quintal</span>\n                        <span className=\"font-medium text-gray-900\">₹{todayPrice.price}</span>\n                      </div>\n                      <div className=\"border-t border-indigo-200 pt-3\">\n                        <div className=\"flex justify-between items-center\">\n                          <span className=\"font-semibold text-gray-700\">Total Value</span>\n                          <div className=\"text-right\">\n                            <span className=\"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent\">\n                              ₹{calculateTotalAmount()}\n                            </span>\n                            <p className=\"text-xs text-gray-500 mt-0.5\">Market value at withdrawal</p>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                )}\n\n                {/* Additional Notes */}\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                    Additional Notes <span className=\"text-gray-400\">(Optional)</span>\n                  </label>\n                  <textarea\n                    className=\"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-red-500/10 focus:border-red-500 transition-all duration-200 resize-none\"\n                    placeholder=\"Enter any additional information...\"\n                    rows={3}\n                    value={withdrawalNotes}\n                    onChange={(e) => setWithdrawalNotes(e.target.value)}\n                  />\n                </div>\n\n                {/* Action Buttons */}\n                <div className=\"flex gap-3 pt-2\">\n                  <button\n                    onClick={() => {\n                      setSelectedInventoryItem(null);\n                      setWithdrawQuantity(\"\");\n                      setWithdrawalReason(\"\");\n                      setWithdrawalNotes(\"\");\n                      setCurrentStep(2);\n                    }}\n                    className=\"flex-1 py-3.5 px-6 rounded-xl font-semibold border-2 border-gray-300 text-gray-700 hover:bg-gray-50 transition-all\"\n                  >\n                    Back\n                  </button>\n                  <button\n                    onClick={() => setShowConfirmModal(true)}\n                    disabled={!withdrawQuantity || !withdrawalReason || isProcessing || parseFloat(withdrawQuantity) > getMaxWithdrawalQty()}\n                    className=\"flex-1 relative overflow-hidden group rounded-xl disabled:opacity-50 disabled:cursor-not-allowed transition-all\"\n                  >\n                    <div className=\"absolute inset-0 bg-gradient-to-r from-red-600 to-orange-600 transition-transform group-hover:scale-105\" />\n                    <div className=\"relative flex items-center justify-center gap-2 px-6 py-3.5 text-white font-semibold\">\n                      {isProcessing ? (\n                        <>\n                          <Loader2 className=\"h-5 w-5 animate-spin\" />\n                          <span>Processing...</span>\n                        </>\n                      ) : (\n                        <>\n                          <PackageMinus className=\"h-5 w-5\" />\n                          <span>Process Withdrawal</span>\n                          <ArrowRight className=\"h-5 w-5 group-hover:translate-x-1 transition-transform\" />\n                        </>\n                      )}\n                    </div>\n                  </button>\n                </div>\n\n                {/* Security Note */}\n                <div className=\"flex gap-3 p-4 bg-gray-50 rounded-xl border border-gray-200\">\n                  <Shield className=\"h-5 w-5 text-gray-600 flex-shrink-0 mt-0.5\" />\n                  <div className=\"flex-1\">\n                    <p className=\"text-xs text-gray-600 leading-relaxed\">\n                      This withdrawal will be permanently recorded from <strong>{selectedWarehouse?.warehouseName}</strong> with today's market value of ₹{calculateTotalAmount()}. \n                      The grain will be removed from both the farmer's inventory and warehouse stock immediately.\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Confirmation Modal */}\n      <ConfirmWithdrawalModal />\n\n      {/* Custom Styles */}\n      <style jsx>{`\n        @keyframes float {\n          0%, 100% { transform: translateY(0px); }\n          50% { transform: translateY(-20px); }\n        }\n        .animate-float {\n          animation: float 6s ease-in-out infinite;\n        }\n        .animation-delay-2000 {\n          animation-delay: 2s;\n        }\n        .animation-delay-4000 {\n          animation-delay: 4s;\n        }\n        @keyframes slideDown {\n          from {\n            opacity: 0;\n            transform: translateY(-10px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n        .animate-slideDown {\n          animation: slideDown 0.3s ease-out;\n        }\n        @keyframes slideUp {\n          from {\n            opacity: 0;\n            transform: translateY(10px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n        .animate-slideUp {\n          animation: slideUp 0.3s ease-out;\n        }\n        @keyframes fadeIn {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n        .animate-fadeIn {\n          animation: fadeIn 0.5s ease-out;\n        }\n        @keyframes bounceIn {\n          0% {\n            transform: scale(0.3);\n            opacity: 0;\n          }\n          50% {\n            transform: scale(1.05);\n          }\n          70% {\n            transform: scale(0.9);\n          }\n          100% {\n            transform: scale(1);\n            opacity: 1;\n          }\n        }\n        .animate-bounceIn {\n          animation: bounceIn 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);\n        }\n        @keyframes modalSlide {\n          from {\n            opacity: 0;\n            transform: scale(0.9) translateY(20px);\n          }\n          to {\n            opacity: 1;\n            transform: scale(1) translateY(0);\n          }\n        }\n        .animate-modalSlide {\n          animation: modalSlide 0.3s ease-out;\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default WithdrawalPage;"],"names":[],"mappings":"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"}