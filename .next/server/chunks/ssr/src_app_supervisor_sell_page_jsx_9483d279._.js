module.exports=[44840,a=>{"use strict";var b=a.i(87924),c=a.i(31626),d=a.i(72131),e=a.i(87532),f=a.i(46842),g=a.i(33508),h=a.i(33441),i=a.i(83497),j=a.i(24669),k=a.i(70893),l=a.i(38784),m=a.i(92e3),n=a.i(50522),o=a.i(41675),p=a.i(63519),q=a.i(92258),r=a.i(2835),s=a.i(96221),t=a.i(73237),u=a.i(32860),v=a.i(8406),w=a.i(97063);let x=(0,a.i(70106).default)("store",[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]]);var y=a.i(35050),z=a.i(5784),A=a.i(11156),B=a.i(3314),C=a.i(90669),D=a.i(6704),E=a.i(60779);a.s(["default",0,()=>{let[a,F]=(0,d.useState)(""),[G,H]=(0,d.useState)("name"),[I,J]=(0,d.useState)([]),[K,L]=(0,d.useState)(null),[M,N]=(0,d.useState)(!1),[O,P]=(0,d.useState)(!1),[Q,R]=(0,d.useState)([]),[S,T]=(0,d.useState)(null),[U,V]=(0,d.useState)(!1),[W,X]=(0,d.useState)(null),[Y,Z]=(0,d.useState)(""),[$,_]=(0,d.useState)(""),[aa,ab]=(0,d.useState)([]),[ac,ad]=(0,d.useState)(!1),[ae,af]=(0,d.useState)(1),[ag,ah]=(0,d.useState)(!1),ai=async a=>{let b;if(a.length<2)return void J([]);N(!0);let c=(b=a.trim()).includes("@")?"email":/^[\d\s\-\+]+$/.test(b)&&b.replace(/\D/g,"").length>=7?"phone_number":/^SGB\d{10}$/i.test(b)?"userId":"name";H(c);try{let b=`${c}=${encodeURIComponent(a)}`,d=await fetch(`${E.default}/user/finduserdetails?${b}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!d.ok)throw Error("Failed to search users");let e=await d.json();e.users&&Array.isArray(e.users)?J(e.users):e.user?J([e.user]):J([]),P(!0)}catch(a){console.error("Search error:",a),J([]),P(!0)}finally{N(!1)}},aj=async a=>{V(!0);try{let b=await fetch(`${E.default}/user/getallgraindeposite?farmerId=${a}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!b.ok)throw Error("Failed to fetch inventory");let c=await b.json(),d=(Array.isArray(c.deposits)?c.deposits:[]).map(a=>({category_id:a.category_id,grain_type:a.grain_type||"Unknown",quality:a.quality||"Standard",quantity:Number(a.total_quantity??0),today_price_per_quintal:a.today_price_per_quintal??0,total_value:a.total_value??0,warehouse_name:a.warehouse_name||"Main",deposited_date:a.deposited_date||null})).sort((a,b)=>b.quantity-a.quantity);R(d),af(2)}catch(a){console.error("Inventory fetch error:",a),D.default.error("Failed to load user inventory"),R([])}finally{V(!1)}},ak=async a=>{try{let b=await fetch(`${E.default}/pricehistory/pricehistorybygrain?id=${a}`);if(!b.ok)throw Error("Failed to fetch price");let c=await b.json();X(c)}catch(a){console.error("Price fetch error:",a),D.default.error("Failed to load today's price")}},al=async()=>{try{let a=await fetch(`${E.default}/warehouse/allwarehouse`);if(!a.ok)throw Error("Failed to fetch warehouses");let b=await a.json();ab(b)}catch(a){console.error(a),D.default.error("Failed to load warehouses")}};(0,d.useEffect)(()=>{al()},[]),(0,d.useEffect)(()=>{let b=setTimeout(()=>{a?ai(a):(J([]),P(!1))},500);return()=>clearTimeout(b)},[a]),(0,d.useEffect)(()=>{S&&(ak(S.grain_id||S.category_id),af(3))},[S]);let am=async()=>{if(!Y||!$)return void D.default.error("Please fill all required fields");if(parseFloat(Y)>parseFloat(S.quantity))return void D.default.error("Sell quantity cannot exceed available quantity");ad(!0);try{let a={farmerId:K._id||K.id,grain_id:S.grain_id||S.category_id,quantity:Y,warehouse_id:$,price:W?.price,transaction_type:"sell"};if(!(await fetch(`${E.default}/transaction/sell`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(a)})).ok)throw Error("Failed to process sale");D.default.success("Sale processed successfully!"),L(null),R([]),T(null),Z(""),_(""),af(1),ah(!1)}catch(a){console.error("Sale error:",a),D.default.error("Failed to process sale")}finally{ad(!1)}},an=()=>Y&&W?.price?(parseFloat(Y)*parseFloat(W.price)).toFixed(2):0,ao=({label:a,value:c,highlight:d})=>(0,b.jsxs)("div",{className:`${d?"bg-white/80":"bg-white/50"} rounded-xl p-2.5`,children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-0.5",children:a}),(0,b.jsx)("p",{className:`font-semibold truncate ${d?"text-emerald-600":"text-gray-900"}`,children:c||"-"})]});return(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 min-h-screen bg-gradient-to-br from-slate-50 via-white to-emerald-50/30",children:[(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 fixed inset-0 overflow-hidden pointer-events-none",children:[(0,b.jsx)("div",{className:"jsx-5b01246a782bc537 absolute top-1/4 -left-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-float"}),(0,b.jsx)("div",{className:"jsx-5b01246a782bc537 absolute top-3/4 -right-20 w-72 h-72 bg-blue-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-float animation-delay-2000"}),(0,b.jsx)("div",{className:"jsx-5b01246a782bc537 absolute bottom-1/4 left-1/3 w-72 h-72 bg-purple-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-float animation-delay-4000"})]}),(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 relative z-10 container mx-auto px-4 sm:px-6 lg:px-8 py-6 lg:py-8 max-w-7xl",children:[(0,b.jsx)("div",{className:"jsx-5b01246a782bc537 bg-white/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/50 p-6 lg:p-8 mb-6",children:(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 relative",children:[(0,b.jsx)("div",{className:"jsx-5b01246a782bc537 p-4 bg-gradient-to-br from-emerald-500 to-green-600 rounded-2xl shadow-lg",children:(0,b.jsx)(l.ShoppingCart,{className:"h-8 w-8 text-white"})}),(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 absolute -top-1 -right-1 flex h-3 w-3",children:[(0,b.jsx)("span",{className:"jsx-5b01246a782bc537 animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),(0,b.jsx)("span",{className:"jsx-5b01246a782bc537 relative inline-flex rounded-full h-3 w-3 bg-emerald-500"})]})]}),(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537",children:[(0,b.jsx)("h1",{className:"jsx-5b01246a782bc537 text-3xl lg:text-4xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent",children:"Sell Grain"}),(0,b.jsx)("p",{className:"jsx-5b01246a782bc537 text-gray-600 mt-1",children:"Process grain sales from farmer inventory"})]})]}),(0,b.jsx)("div",{className:"jsx-5b01246a782bc537 hidden lg:flex items-center bg-gradient-to-r from-gray-50 to-gray-100 rounded-2xl p-2",children:[{step:1,label:"Search Farmer",icon:e.Search},{step:2,label:"Select Inventory",icon:i.Package},{step:3,label:"Confirm Sale",icon:A.CreditCard}].map((a,c)=>(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 flex items-center",children:[(0,b.jsxs)("div",{className:`jsx-5b01246a782bc537 flex items-center px-4 py-2.5 rounded-xl transition-all duration-500 ${ae>=a.step?"bg-white shadow-md":""}`,children:[(0,b.jsxs)("div",{className:`jsx-5b01246a782bc537 relative flex items-center justify-center w-10 h-10 rounded-xl transition-all duration-500 ${ae>=a.step?"bg-gradient-to-br from-emerald-500 to-green-600 text-white shadow-lg":"bg-gray-200 text-gray-500"}`,children:[ae>a.step?(0,b.jsx)(h.Check,{className:"h-5 w-5"}):(0,b.jsx)(a.icon,{className:"h-5 w-5"}),ae===a.step&&(0,b.jsx)("div",{className:"jsx-5b01246a782bc537 absolute -inset-0.5 bg-gradient-to-r from-emerald-500 to-green-600 rounded-xl blur opacity-30 animate-pulse"})]}),(0,b.jsx)("span",{className:`jsx-5b01246a782bc537 ml-3 text-sm font-medium hidden xl:inline transition-all duration-500 ${ae>=a.step?"text-gray-900":"text-gray-500"}`,children:a.label})]}),c<2&&(0,b.jsx)(n.ChevronRight,{className:`h-5 w-5 mx-2 transition-all duration-500 ${ae>a.step?"text-emerald-500":"text-gray-300"}`})]},a.step))}),(0,b.jsx)("div",{className:"jsx-5b01246a782bc537 flex lg:hidden justify-center gap-2",children:[1,2,3].map(a=>(0,b.jsx)("div",{className:`jsx-5b01246a782bc537 h-2 rounded-full transition-all duration-500 ${ae>=a?"w-12 bg-gradient-to-r from-emerald-500 to-green-600":"w-2 bg-gray-300"}`},a))})]})}),(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 bg-white/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/50 p-6 lg:p-8 mb-6",children:[(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 flex items-center gap-3 mb-6",children:[(0,b.jsx)("div",{className:"jsx-5b01246a782bc537 p-2.5 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl shadow-lg",children:(0,b.jsx)(e.Search,{className:"h-5 w-5 text-white"})}),(0,b.jsx)("h2",{className:"jsx-5b01246a782bc537 text-xl font-bold text-gray-800",children:"Search Farmer"}),K&&(0,b.jsxs)("span",{className:"jsx-5b01246a782bc537 ml-auto px-4 py-1.5 bg-emerald-100 text-emerald-700 rounded-full text-sm font-medium flex items-center gap-1.5",children:[(0,b.jsx)(h.Check,{className:"h-4 w-4"}),"Farmer Selected"]})]}),K?(0,b.jsx)("div",{className:"jsx-5b01246a782bc537 bg-gradient-to-br from-emerald-50 to-green-50 rounded-2xl border-2 border-emerald-200 p-6 animate-fadeIn",children:(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 relative",children:[(0,b.jsx)("div",{className:"jsx-5b01246a782bc537 w-16 h-16 bg-gradient-to-br from-emerald-500 to-green-600 rounded-2xl flex items-center justify-center text-white font-bold text-xl shadow-lg",children:K.name?.charAt(0).toUpperCase()||"F"}),(0,b.jsx)("div",{className:"jsx-5b01246a782bc537 absolute -bottom-1 -right-1 bg-white rounded-full p-1",children:(0,b.jsx)("div",{className:"jsx-5b01246a782bc537 bg-emerald-500 rounded-full p-1",children:(0,b.jsx)(h.Check,{className:"h-3 w-3 text-white"})})})]}),(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537",children:[(0,b.jsx)("p",{className:"jsx-5b01246a782bc537 font-bold text-xl text-gray-900",children:K.name}),(0,b.jsx)("p",{className:"jsx-5b01246a782bc537 text-gray-600 text-sm lg:text-base",children:K.email}),(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 flex flex-wrap items-center gap-3 mt-1",children:[K.phone_number&&(0,b.jsxs)("span",{className:"jsx-5b01246a782bc537 text-sm text-gray-500 flex items-center gap-1",children:[(0,b.jsx)(p.Phone,{className:"h-4 w-4"}),K.phone_number]}),K.userId&&(0,b.jsxs)("span",{className:"jsx-5b01246a782bc537 text-sm text-emerald-600 font-medium flex items-center gap-1",children:[(0,b.jsx)(r.Hash,{className:"h-4 w-4"}),K.userId]})]})]})]}),(0,b.jsx)("button",{onClick:()=>{L(null),R([]),T(null),af(1)},className:"jsx-5b01246a782bc537 p-3 hover:bg-red-50 rounded-xl transition-all duration-200 group",children:(0,b.jsx)(g.X,{className:"h-6 w-6 text-gray-500 group-hover:text-red-500 transition-colors"})})]})}):(0,b.jsx)("div",{className:"jsx-5b01246a782bc537 space-y-4",children:(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 relative",children:[(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 relative group",children:[(0,b.jsx)("div",{className:"jsx-5b01246a782bc537 absolute -inset-0.5 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-2xl blur opacity-20 group-hover:opacity-30 transition duration-300"}),(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 relative",children:[(0,b.jsx)(e.Search,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 pointer-events-none"}),(0,b.jsx)("input",{type:"text",placeholder:"Search by name, email, phone, or farmer ID...",value:a,onChange:a=>F(a.target.value),onFocus:()=>a&&P(!0),className:"jsx-5b01246a782bc537 w-full pl-12 pr-12 py-4 bg-white rounded-2xl border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-all duration-300 text-base lg:text-lg font-medium placeholder-gray-400"}),M&&(0,b.jsx)("div",{className:"jsx-5b01246a782bc537 absolute right-4 top-1/2 transform -translate-y-1/2",children:(0,b.jsx)(s.Loader2,{className:"animate-spin h-5 w-5 text-blue-500"})})]})]}),a&&(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 mt-3 flex flex-wrap items-center gap-2",children:[(0,b.jsxs)("span",{className:"jsx-5b01246a782bc537 px-3 py-1.5 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 text-blue-700 rounded-full text-xs font-medium flex items-center gap-1.5",children:["email"===G&&(0,b.jsx)(q.Mail,{className:"h-3.5 w-3.5"}),"phone_number"===G&&(0,b.jsx)(p.Phone,{className:"h-3.5 w-3.5"}),"userId"===G&&(0,b.jsx)(r.Hash,{className:"h-3.5 w-3.5"}),"name"===G&&(0,b.jsx)(f.User,{className:"h-3.5 w-3.5"}),"Searching by ",G.replace("_"," ")]}),(0,b.jsx)(v.Sparkles,{className:"h-4 w-4 text-yellow-500 animate-pulse"})]}),O&&I.length>0&&(0,b.jsx)("div",{className:"jsx-5b01246a782bc537 absolute z-40 w-full mt-3 bg-white rounded-2xl shadow-2xl border border-gray-200 max-h-96 overflow-y-auto animate-slideDown",children:I.map((a,c)=>(0,b.jsxs)("div",{onClick:()=>{L(a),F(""),P(!1),J([]),aj(a._id||a.id)},className:"jsx-5b01246a782bc537 group px-5 py-4 hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 cursor-pointer flex items-center gap-4 transition-all duration-200 border-b border-gray-100 last:border-b-0 first:rounded-t-2xl last:rounded-b-2xl",children:[(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 relative",children:[(0,b.jsx)("div",{className:"jsx-5b01246a782bc537 w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center text-white font-bold text-lg shadow-lg group-hover:shadow-xl transition-all duration-200",children:a.name?.charAt(0).toUpperCase()||"F"}),a.isActive&&(0,b.jsx)("div",{className:"jsx-5b01246a782bc537 absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"jsx-5b01246a782bc537 font-semibold text-gray-900 group-hover:text-blue-600 transition-colors truncate",children:a.name||"Unknown Farmer"}),(0,b.jsx)("p",{className:"jsx-5b01246a782bc537 text-sm text-gray-600 truncate",children:a.email||"No email"}),(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 flex flex-wrap items-center gap-3 mt-1",children:[a.phone_number&&(0,b.jsxs)("span",{className:"jsx-5b01246a782bc537 text-xs text-gray-500 flex items-center gap-1",children:[(0,b.jsx)(p.Phone,{className:"h-3 w-3"}),(0,b.jsx)("span",{className:"jsx-5b01246a782bc537 truncate",children:a.phone_number})]}),a.userId&&(0,b.jsxs)("span",{className:"jsx-5b01246a782bc537 text-xs text-blue-600 font-medium flex items-center gap-1",children:[(0,b.jsx)(r.Hash,{className:"h-3 w-3"}),a.userId]})]})]}),(0,b.jsx)(n.ChevronRight,{className:"h-5 w-5 text-gray-400 group-hover:text-blue-500 group-hover:translate-x-1 transition-all duration-200 flex-shrink-0"})]},a._id||a.id||c))}),O&&a&&0===I.length&&!M&&(0,b.jsx)("div",{className:"jsx-5b01246a782bc537 absolute z-40 w-full mt-3 bg-white rounded-2xl shadow-2xl border border-gray-200 p-8 animate-slideDown",children:(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 text-center",children:[(0,b.jsx)("div",{className:"jsx-5b01246a782bc537 w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(f.User,{className:"h-8 w-8 text-gray-400"})}),(0,b.jsx)("p",{className:"jsx-5b01246a782bc537 text-gray-900 font-semibold",children:"No farmers found"}),(0,b.jsx)("p",{className:"jsx-5b01246a782bc537 text-sm text-gray-500 mt-1",children:"Try searching with different criteria"})]})})]})})]}),K&&ae>=2&&(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 bg-white/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/50 p-6 lg:p-8 mb-6 animate-fadeIn",children:[(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 flex items-center gap-3 mb-6",children:[(0,b.jsx)("div",{className:"jsx-5b01246a782bc537 p-2.5 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl shadow-lg",children:(0,b.jsx)(i.Package,{className:"h-5 w-5 text-white"})}),(0,b.jsx)("h2",{className:"jsx-5b01246a782bc537 text-xl font-bold text-gray-800",children:"Select Inventory"}),S&&(0,b.jsxs)("span",{className:"jsx-5b01246a782bc537 ml-auto px-4 py-1.5 bg-purple-100 text-purple-700 rounded-full text-sm font-medium flex items-center gap-1.5",children:[(0,b.jsx)(h.Check,{className:"h-4 w-4"}),"Item Selected"]})]}),U?(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 flex flex-col items-center justify-center py-20",children:[(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 relative",children:[(0,b.jsx)("div",{className:"jsx-5b01246a782bc537 w-20 h-20 border-4 border-purple-200 rounded-full animate-pulse"}),(0,b.jsx)("div",{className:"jsx-5b01246a782bc537 absolute top-0 left-0 w-20 h-20 border-4 border-purple-500 rounded-full animate-spin border-t-transparent"})]}),(0,b.jsx)("p",{className:"jsx-5b01246a782bc537 text-gray-600 mt-4",children:"Loading inventory..."})]}):Q.length>0?(0,b.jsx)("div",{className:"jsx-5b01246a782bc537 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6",children:Q.map((a,c)=>(0,b.jsxs)("div",{onClick:()=>{T(a),Z(""),_("")},className:`jsx-5b01246a782bc537 group relative cursor-pointer transition-all duration-300 transform hover:scale-105 ${S===a?"scale-105":""}`,children:[(0,b.jsx)("div",{className:`jsx-5b01246a782bc537 absolute inset-0 bg-gradient-to-br rounded-2xl blur-md transition-all duration-300 ${S===a?"from-purple-400 to-pink-400 opacity-40":"from-gray-200 to-gray-300 opacity-0 group-hover:opacity-30"}`}),(0,b.jsxs)("div",{className:`jsx-5b01246a782bc537 relative p-6 rounded-2xl border-2 backdrop-blur-sm transition-all duration-300 ${S===a?"border-purple-400 bg-gradient-to-br from-purple-50 to-pink-50":"border-gray-200 bg-white hover:border-purple-300 hover:bg-gradient-to-br hover:from-purple-50/50 hover:to-pink-50/50"}`,children:[S===a&&(0,b.jsx)("div",{className:"jsx-5b01246a782bc537 absolute top-3 right-3 animate-bounceIn",children:(0,b.jsx)("div",{className:"jsx-5b01246a782bc537 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full p-1.5 shadow-lg",children:(0,b.jsx)(h.Check,{className:"h-4 w-4 text-white"})})}),(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 flex items-start gap-3 mb-4",children:[(0,b.jsx)("div",{className:`jsx-5b01246a782bc537 p-3 rounded-xl transition-all duration-300 ${S===a?"bg-gradient-to-br from-purple-500 to-pink-600 shadow-lg":"bg-gradient-to-br from-gray-100 to-gray-200 group-hover:from-purple-100 group-hover:to-pink-100"}`,children:(0,b.jsx)(y.Wheat,{className:`h-6 w-6 transition-colors ${S===a?"text-white":"text-gray-600 group-hover:text-purple-600"}`})}),(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 flex-1 min-w-0",children:[(0,b.jsx)("h3",{className:"jsx-5b01246a782bc537 font-bold text-gray-900 truncate",children:a.grain_type}),(0,b.jsx)("div",{className:"jsx-5b01246a782bc537 flex items-center gap-2 mt-1",children:(0,b.jsx)("span",{className:"jsx-5b01246a782bc537 px-2 py-0.5 bg-gray-100 text-gray-600 rounded-lg text-xs font-medium",children:a.quality})})]})]}),(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 space-y-3",children:[(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 flex justify-between items-center pb-3 border-b border-gray-100",children:[(0,b.jsx)("span",{className:"jsx-5b01246a782bc537 text-sm text-gray-600",children:"Available Stock"}),(0,b.jsxs)("span",{className:"jsx-5b01246a782bc537 font-bold text-lg text-gray-900",children:[a.quantity," Qtl"]})]}),(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 space-y-2",children:[(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 flex justify-between items-center",children:[(0,b.jsxs)("span",{className:"jsx-5b01246a782bc537 text-xs text-gray-500 flex items-center gap-1",children:[(0,b.jsx)(x,{className:"h-3.5 w-3.5"}),"Warehouse"]}),(0,b.jsx)("span",{className:"jsx-5b01246a782bc537 text-sm font-medium text-gray-700 truncate max-w-[120px]",children:a.warehouse_name})]}),a.deposited_date&&(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 flex justify-between items-center",children:[(0,b.jsxs)("span",{className:"jsx-5b01246a782bc537 text-xs text-gray-500 flex items-center gap-1",children:[(0,b.jsx)(o.Calendar,{className:"h-3.5 w-3.5"}),"Deposited"]}),(0,b.jsx)("span",{className:"jsx-5b01246a782bc537 text-sm text-gray-700",children:new Date(a.deposited_date).toLocaleDateString()})]})]})]})]})]},c))}):(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 text-center py-20 bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl",children:[(0,b.jsx)("div",{className:"jsx-5b01246a782bc537 w-24 h-24 bg-gradient-to-br from-gray-200 to-gray-300 rounded-3xl flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(i.Package,{className:"h-12 w-12 text-gray-400"})}),(0,b.jsx)("p",{className:"jsx-5b01246a782bc537 text-gray-700 font-semibold text-lg",children:"No inventory found"}),(0,b.jsx)("p",{className:"jsx-5b01246a782bc537 text-sm text-gray-500 mt-2",children:"This farmer has no grain in storage"})]})]}),S&&ae>=3&&(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 bg-white/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/50 p-6 lg:p-8 animate-fadeIn",children:[(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 flex items-center gap-3 mb-6",children:[(0,b.jsx)("div",{className:"jsx-5b01246a782bc537 p-2.5 bg-gradient-to-br from-emerald-500 to-green-600 rounded-xl shadow-lg",children:(0,b.jsx)(j.TrendingUp,{className:"h-5 w-5 text-white"})}),(0,b.jsx)("h2",{className:"jsx-5b01246a782bc537 text-xl font-bold text-gray-800",children:"Sale Details"})]}),(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 space-y-4",children:[(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-200",children:[(0,b.jsxs)("h3",{className:"jsx-5b01246a782bc537 font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[(0,b.jsx)(i.Package,{className:"h-5 w-5 text-blue-600"}),"Selected Item"]}),(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 space-y-3",children:[(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 flex justify-between items-center py-2",children:[(0,b.jsx)("span",{className:"jsx-5b01246a782bc537 text-gray-600",children:"Grain Type"}),(0,b.jsx)("span",{className:"jsx-5b01246a782bc537 font-semibold text-gray-900",children:S.grain_type})]}),(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 flex justify-between items-center py-2",children:[(0,b.jsx)("span",{className:"jsx-5b01246a782bc537 text-gray-600",children:"Quality"}),(0,b.jsx)("span",{className:"jsx-5b01246a782bc537 font-semibold text-gray-900",children:S.quality})]}),(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 flex justify-between items-center py-2 border-t border-blue-200/50 pt-3",children:[(0,b.jsx)("span",{className:"jsx-5b01246a782bc537 text-gray-600",children:"Available Stock"}),(0,b.jsxs)("span",{className:"jsx-5b01246a782bc537 font-bold text-emerald-600 text-lg",children:[S.quantity," Qtl"]})]})]})]}),(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 bg-gradient-to-br from-emerald-50 to-green-50 rounded-2xl p-6 border border-emerald-200",children:[(0,b.jsxs)("h3",{className:"jsx-5b01246a782bc537 font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[(0,b.jsx)(C.Activity,{className:"h-5 w-5 text-emerald-600"}),"Today's Market Price"]}),W?(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 text-center py-4",children:[(0,b.jsxs)("p",{className:"jsx-5b01246a782bc537 text-5xl font-bold bg-gradient-to-r from-emerald-600 to-green-600 bg-clip-text text-transparent",children:["₹",W.price]}),(0,b.jsx)("p",{className:"jsx-5b01246a782bc537 text-sm text-gray-500 mt-2",children:"per quintal"}),W.date&&(0,b.jsxs)("p",{className:"jsx-5b01246a782bc537 text-xs text-gray-400 mt-3 flex items-center justify-center gap-1",children:[(0,b.jsx)(o.Calendar,{className:"h-3.5 w-3.5"}),"Updated: ",new Date(W.date).toLocaleDateString()]})]}):(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 text-center py-8",children:[(0,b.jsx)(s.Loader2,{className:"h-8 w-8 animate-spin text-emerald-500 mx-auto mb-2"}),(0,b.jsx)("p",{className:"jsx-5b01246a782bc537 text-sm text-gray-500",children:"Loading price..."})]})]})]}),(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 space-y-4",children:[(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537",children:[(0,b.jsxs)("label",{className:"jsx-5b01246a782bc537 block text-sm font-semibold text-gray-700 mb-2",children:["Sell Quantity (Quintal) ",(0,b.jsx)("span",{className:"jsx-5b01246a782bc537 text-red-500",children:"*"})]}),(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 relative",children:[(0,b.jsx)("input",{type:"number",min:"0",max:S.quantity,step:"0.01",placeholder:"Enter quantity to sell",value:Y,onChange:a=>{let b=a.target.value;(""===b||parseFloat(b)>=0&&parseFloat(b)<=parseFloat(S.quantity))&&Z(b)},className:"jsx-5b01246a782bc537 w-full px-4 py-3.5 pr-16 bg-white border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-emerald-500/10 focus:border-emerald-500 transition-all duration-200 text-lg font-medium"}),(0,b.jsx)("div",{className:"jsx-5b01246a782bc537 absolute inset-y-0 right-0 pr-4 flex items-center pointer-events-none",children:(0,b.jsx)("span",{className:"jsx-5b01246a782bc537 text-gray-500 font-medium",children:"Qtl"})})]}),Y&&(0,b.jsx)("div",{className:"jsx-5b01246a782bc537 mt-2 p-3 bg-blue-50 rounded-xl border border-blue-200",children:(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 flex items-start gap-2",children:[(0,b.jsx)(w.Info,{className:"h-4 w-4 text-blue-600 mt-0.5"}),(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 flex-1 text-sm",children:[(0,b.jsxs)("p",{className:"jsx-5b01246a782bc537 text-blue-800 font-medium",children:["Remaining after sale: ",(parseFloat(S.quantity)-parseFloat(Y)).toFixed(2)," Qtl"]}),parseFloat(Y)>.8*parseFloat(S.quantity)&&(0,b.jsx)("p",{className:"jsx-5b01246a782bc537 text-blue-600 text-xs mt-1",children:"You're selling more than 80% of available stock"})]})]})})]}),(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537",children:[(0,b.jsxs)("label",{className:"jsx-5b01246a782bc537 block text-sm font-semibold text-gray-700 mb-2",children:["Select Warehouse ",(0,b.jsx)("span",{className:"jsx-5b01246a782bc537 text-red-500",children:"*"})]}),(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 relative",children:[(0,b.jsx)(k.Warehouse,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,b.jsxs)("select",{value:$,onChange:a=>_(a.target.value),className:"jsx-5b01246a782bc537 w-full pl-12 pr-10 py-3.5 bg-white border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-emerald-500/10 focus:border-emerald-500 transition-all duration-200 appearance-none cursor-pointer text-gray-900 font-medium",children:[(0,b.jsx)("option",{value:"",className:"jsx-5b01246a782bc537",children:"Choose warehouse location"}),aa.map(a=>(0,b.jsxs)("option",{value:a._id,className:"jsx-5b01246a782bc537",children:[a.name," - ",a.location]},a._id))]}),(0,b.jsx)(z.ChevronDown,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 pointer-events-none"})]})]}),Y&&W&&(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 bg-gradient-to-br from-amber-50 to-orange-50 rounded-2xl p-6 border border-amber-200 animate-slideUp",children:[(0,b.jsxs)("h3",{className:"jsx-5b01246a782bc537 font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[(0,b.jsx)(t.Calculator,{className:"h-5 w-5 text-amber-600"}),"Transaction Summary"]}),(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 space-y-3",children:[(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 flex justify-between items-center",children:[(0,b.jsx)("span",{className:"jsx-5b01246a782bc537 text-gray-600",children:"Quantity"}),(0,b.jsxs)("span",{className:"jsx-5b01246a782bc537 font-medium text-gray-900",children:[Y," Quintal"]})]}),(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 flex justify-between items-center",children:[(0,b.jsx)("span",{className:"jsx-5b01246a782bc537 text-gray-600",children:"Rate per Quintal"}),(0,b.jsxs)("span",{className:"jsx-5b01246a782bc537 font-medium text-gray-900",children:["₹",W.price]})]}),(0,b.jsx)("div",{className:"jsx-5b01246a782bc537 border-t border-amber-200 pt-3",children:(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 flex justify-between items-center",children:[(0,b.jsx)("span",{className:"jsx-5b01246a782bc537 font-semibold text-gray-700",children:"Total Amount"}),(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 text-right",children:[(0,b.jsxs)("span",{className:"jsx-5b01246a782bc537 text-2xl font-bold bg-gradient-to-r from-emerald-600 to-green-600 bg-clip-text text-transparent",children:["₹",an()]}),(0,b.jsx)("p",{className:"jsx-5b01246a782bc537 text-xs text-gray-500 mt-0.5",children:"Including all charges"})]})]})})]})]}),(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 flex gap-3 pt-2",children:[(0,b.jsx)("button",{onClick:()=>{T(null),Z(""),_(""),af(2)},className:"jsx-5b01246a782bc537 flex-1 py-3.5 px-6 rounded-xl font-semibold border-2 border-gray-300 text-gray-700 hover:bg-gray-50 transition-all",children:"Back"}),(0,b.jsxs)("button",{onClick:()=>ah(!0),disabled:!Y||!$||ac,className:"jsx-5b01246a782bc537 flex-1 relative overflow-hidden group rounded-xl disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:[(0,b.jsx)("div",{className:"jsx-5b01246a782bc537 absolute inset-0 bg-gradient-to-r from-emerald-600 to-green-600 transition-transform group-hover:scale-105"}),(0,b.jsx)("div",{className:"jsx-5b01246a782bc537 relative flex items-center justify-center gap-2 px-6 py-3.5 text-white font-semibold",children:ac?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(s.Loader2,{className:"h-5 w-5 animate-spin"}),(0,b.jsx)("span",{className:"jsx-5b01246a782bc537",children:"Processing..."})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l.ShoppingCart,{className:"h-5 w-5"}),(0,b.jsx)("span",{className:"jsx-5b01246a782bc537",children:"Proceed to Sell"}),(0,b.jsx)(u.ArrowRight,{className:"h-5 w-5 group-hover:translate-x-1 transition-transform"})]})})]})]}),(0,b.jsxs)("div",{className:"jsx-5b01246a782bc537 flex gap-3 p-4 bg-gray-50 rounded-xl border border-gray-200",children:[(0,b.jsx)(B.Shield,{className:"h-5 w-5 text-gray-600 flex-shrink-0 mt-0.5"}),(0,b.jsx)("div",{className:"jsx-5b01246a782bc537 flex-1",children:(0,b.jsx)("p",{className:"jsx-5b01246a782bc537 text-xs text-gray-600 leading-relaxed",children:"This transaction is secured and will be recorded permanently. All sales are subject to verification and approval."})})]})]})]})]})]}),(0,b.jsx)(()=>{if(!ag)return null;let a=aa.find(a=>a._id===$),c=S?(parseFloat(S.quantity)-parseFloat(Y||0)).toFixed(2):"0";return(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-md",onClick:()=>ah(!1)}),(0,b.jsxs)("div",{className:"relative w-full max-w-2xl max-h-[90vh] bg-white rounded-3xl shadow-2xl overflow-auto animate-modalSlide no-scrollbar",children:[(0,b.jsx)("div",{className:"h-2 bg-gradient-to-r from-emerald-500 via-green-500 to-teal-500"}),(0,b.jsxs)("div",{className:"p-6 md:p-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-3 bg-gradient-to-br from-emerald-500 to-green-600 rounded-2xl shadow-lg",children:(0,b.jsx)(l.ShoppingCart,{className:"h-6 w-6 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Confirm Sale"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-0.5",children:"Review all details before confirming"})]})]}),(0,b.jsx)("button",{onClick:()=>ah(!1),className:"p-2.5 hover:bg-gray-100 rounded-xl transition-colors",children:(0,b.jsx)(g.X,{className:"h-5 w-5 text-gray-500"})})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-5 border border-blue-100",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,b.jsx)(f.User,{className:"h-5 w-5 text-blue-600"}),(0,b.jsx)("h4",{className:"font-semibold text-gray-800",children:"Farmer Details"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[(0,b.jsx)(ao,{label:"Name",value:K?.name}),(0,b.jsx)(ao,{label:"ID",value:K?.userId}),(0,b.jsx)(ao,{label:"Email",value:K?.email}),(0,b.jsx)(ao,{label:"Phone",value:K?.phone_number||"-"}),(0,b.jsx)(ao,{label:"Warehouse",value:a?.name||"-"}),(0,b.jsx)(ao,{label:"Location",value:a?.location||"-"})]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-5 border border-purple-100",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,b.jsx)(y.Wheat,{className:"h-5 w-5 text-purple-600"}),(0,b.jsx)("h4",{className:"font-semibold text-gray-800",children:"Grain Details"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[(0,b.jsx)(ao,{label:"Type",value:S?.grain_type}),(0,b.jsx)(ao,{label:"Quality",value:S?.quality}),(0,b.jsx)(ao,{label:"Available",value:`${S?.quantity} Qtl`}),(0,b.jsx)(ao,{label:"Selling",value:`${Y||0} Qtl`,highlight:!0}),(0,b.jsx)(ao,{label:"Remaining",value:`${c} Qtl`}),(0,b.jsx)(ao,{label:"Rate",value:`₹${W?.price||0}/Qtl`})]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-emerald-50 to-green-50 rounded-2xl p-5 border border-emerald-200",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,b.jsx)(t.Calculator,{className:"h-5 w-5 text-emerald-600"}),(0,b.jsx)("h4",{className:"font-semibold text-gray-800",children:"Transaction Summary"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Quantity × Rate"}),(0,b.jsxs)("span",{className:"text-gray-900 font-medium",children:[Y||0," × ₹",W?.price||0]})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center py-3 border-t border-emerald-200",children:[(0,b.jsx)("span",{className:"text-lg font-semibold text-gray-800",children:"Total Amount"}),(0,b.jsxs)("span",{className:"text-2xl font-bold text-emerald-600",children:["₹",an()]})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 p-4 bg-amber-50 border border-amber-200 rounded-xl",children:[(0,b.jsx)(m.AlertCircle,{className:"h-5 w-5 text-amber-600 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("p",{className:"text-sm text-amber-800",children:["This action will deduct ",Y||0," quintals from the farmer's inventory. Please ensure all details are correct before confirming."]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,b.jsx)("button",{onClick:()=>ah(!1),className:"flex-1 py-3.5 px-6 rounded-xl font-semibold border-2 border-gray-300 text-gray-700 hover:bg-gray-50 transition-all",children:"Cancel"}),(0,b.jsx)("button",{onClick:am,disabled:ac,className:"flex-1 py-3.5 px-6 rounded-xl font-semibold bg-gradient-to-r from-emerald-600 to-green-600 text-white hover:from-emerald-700 hover:to-green-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-lg",children:ac?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(s.Loader2,{className:"h-5 w-5 animate-spin"}),"Processing..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h.Check,{className:"h-5 w-5"}),"Confirm Sale"]})})]})]})]})]})},{className:"jsx-5b01246a782bc537"}),(0,b.jsx)(c.default,{id:"5b01246a782bc537",children:"@keyframes float{0%,to{transform:translateY(0)}50%{transform:translateY(-20px)}}.animate-float.jsx-5b01246a782bc537{animation:6s ease-in-out infinite float}.animation-delay-2000.jsx-5b01246a782bc537{animation-delay:2s}.animation-delay-4000.jsx-5b01246a782bc537{animation-delay:4s}@keyframes slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.animate-slideDown.jsx-5b01246a782bc537{animation:.3s ease-out slideDown}@keyframes slideUp{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.animate-slideUp.jsx-5b01246a782bc537{animation:.3s ease-out slideUp}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.animate-fadeIn.jsx-5b01246a782bc537{animation:.5s ease-out fadeIn}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{transform:scale(1.05)}70%{transform:scale(.9)}to{opacity:1;transform:scale(1)}}.animate-bounceIn.jsx-5b01246a782bc537{animation:.6s cubic-bezier(.68,-.55,.265,1.55) bounceIn}@keyframes modalSlide{0%{opacity:0;transform:scale(.9)translateY(20px)}to{opacity:1;transform:scale(1)translateY(0)}}.animate-modalSlide.jsx-5b01246a782bc537{animation:.3s ease-out modalSlide}"})]})}],44840)}];

//# sourceMappingURL=src_app_supervisor_sell_page_jsx_9483d279._.js.map