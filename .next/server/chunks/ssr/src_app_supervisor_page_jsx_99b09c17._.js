module.exports=[72117,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(83490),f=a.i(41710),g=a.i(16201),h=a.i(15618),i=a.i(23025),j=a.i(70893),k=a.i(4720),l=a.i(24669),m=a.i(53277),n=a.i(69520),o=a.i(32860),p=a.i(90669),q=a.i(73570),r=a.i(50522),s=a.i(96221),t=a.i(35050),u=a.i(24987),v=a.i(62722),w=a.i(69430),x=a.i(38784),y=a.i(66322),z=a.i(60779);function A(){let a=(0,d.useRouter)(),[A,B]=(0,c.useState)(null),[C,D]=(0,c.useState)([]),[E,F]=(0,c.useState)(!0),[G,H]=(0,c.useState)({}),[I,J]=(0,c.useState)(!0),[K,L]=(0,c.useState)(!0),[M,N]=(0,c.useState)(null),[O,P]=(0,c.useState)("all");(0,c.useEffect)(()=>{Q(),R(),S()},[]);let Q=async()=>{L(!0),N(null);try{let a=await fetch(`${z.default}/warehouse/inventory`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!a.ok)throw Error("Failed to fetch warehouse inventory");let b=await a.json();b.warehouseId&&b.categories?B(b):b.message?N(b.message):N("Failed to fetch data")}catch(a){N(a.message||"Network error. Please try again.")}finally{L(!1)}},R=async()=>{F(!0);try{let a=await e.default.get(`${z.default}/transaction/getalltransactions`,{params:{limit:6,page:1},headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});a.data.success&&D(a.data.data)}catch(a){console.error("Error fetching transactions:",a)}finally{F(!1)}},S=async()=>{J(!0);try{let a=await fetch(`${z.default}/pricehistory/todayprice`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!a.ok)throw Error("Failed to fetch market prices");let b=await a.json();H(b.todayprice||{})}catch(a){console.error("Error fetching market rates:",a)}finally{J(!1)}},T=A?.categories?A.categories.reduce((a,b)=>(a.deposit.completed.qty+=b.deposit?.completed?.qty||0,a.deposit.completed.amount+=b.deposit?.completed?.amount||0,a.deposit.pending.qty+=b.deposit?.pending?.qty||0,a.deposit.pending.amount+=b.deposit?.pending?.amount||0,a.deposit.rejected.qty+=b.deposit?.rejected?.qty||0,a.deposit.rejected.amount+=b.deposit?.rejected?.amount||0,a.deposit.failed.qty+=b.deposit?.failed?.qty||0,a.deposit.failed.amount+=b.deposit?.failed?.amount||0,a.sell.completed.qty+=b.sell?.completed?.qty||0,a.sell.completed.amount+=b.sell?.completed?.amount||0,a.sell.pending.qty+=b.sell?.pending?.qty||0,a.sell.pending.amount+=b.sell?.pending?.amount||0,a.withdraw.completed+=b.withdraw?.completed||0,a.withdraw.pending+=b.withdraw?.pending||0,a.loan.completed+=b.loan?.completed||0,a.loan.pending+=b.loan?.pending||0,a),{deposit:{completed:{qty:0,amount:0},pending:{qty:0,amount:0},rejected:{qty:0,amount:0},failed:{qty:0,amount:0}},sell:{completed:{qty:0,amount:0},pending:{qty:0,amount:0}},withdraw:{completed:0,pending:0},loan:{completed:0,pending:0}}):{deposit:{completed:{qty:0,amount:0},pending:{qty:0,amount:0},rejected:{qty:0,amount:0},failed:{qty:0,amount:0}},sell:{completed:{qty:0,amount:0},pending:{qty:0,amount:0}},withdraw:{completed:0,pending:0},loan:{completed:0,pending:0}},U={all:[{title:"Deposit Grain",description:"Add new grain stock",icon:h.Plus,href:"/supervisor/deposit",bg:"bg-gradient-to-br from-green-500 to-green-600",shadow:"shadow-green-200"},{title:"Withdraw Grain",description:"Process withdrawals",icon:i.Minus,href:"/supervisor/withdraw",bg:"bg-gradient-to-br from-orange-500 to-orange-600",shadow:"shadow-orange-200"},{title:"View Requests",description:`${T.deposit.pending.qty+T.sell.pending.qty} pending`,icon:f.Clock,href:"/supervisor/requests",bg:"bg-gradient-to-br from-blue-500 to-blue-600",shadow:"shadow-blue-200"},{title:"Transactions",description:"View all transactions",icon:k.FileText,href:"/supervisor/transactions",bg:"bg-gradient-to-br from-purple-500 to-purple-600",shadow:"shadow-purple-200"}],operations:[{title:"Deposit Grain",description:"Add new grain stock",icon:h.Plus,href:"/supervisor/deposit",bg:"bg-gradient-to-br from-green-500 to-green-600",shadow:"shadow-green-200"},{title:"Withdraw Grain",description:"Process withdrawals",icon:i.Minus,href:"/supervisor/withdraw",bg:"bg-gradient-to-br from-orange-500 to-orange-600",shadow:"shadow-orange-200"},{title:"Pending Requests",description:`${T.deposit.pending.qty} waiting`,icon:f.Clock,href:"/supervisor/requests",bg:"bg-gradient-to-br from-amber-500 to-amber-600",shadow:"shadow-amber-200"},{title:"Update Prices",description:"Set grain prices",icon:l.TrendingUp,href:"/supervisor/updateprice",bg:"bg-gradient-to-br from-indigo-500 to-indigo-600",shadow:"shadow-indigo-200"}],inventory:[{title:"Warehouses",description:"Manage storage",icon:j.Warehouse,href:"/supervisor/warehouses",bg:"bg-gradient-to-br from-slate-600 to-slate-700",shadow:"shadow-slate-200"},{title:"Update Prices",description:"Set grain prices",icon:l.TrendingUp,href:"/supervisor/updateprice",bg:"bg-gradient-to-br from-cyan-500 to-cyan-600",shadow:"shadow-cyan-200"},{title:"Transactions",description:"View history",icon:k.FileText,href:"/supervisor/transactions",bg:"bg-gradient-to-br from-rose-500 to-rose-600",shadow:"shadow-rose-200"}]},V=a=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(a),W=({title:a,qty:c,amount:d,icon:e,gradient:f,iconBg:g})=>(0,b.jsxs)("div",{className:`relative overflow-hidden rounded-2xl ${f} p-6 text-white shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1`,children:[(0,b.jsx)("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 h-24 w-24 rounded-full bg-white/10 blur-2xl"}),(0,b.jsx)("div",{className:"absolute bottom-0 left-0 -mb-4 -ml-4 h-20 w-20 rounded-full bg-white/10 blur-xl"}),(0,b.jsxs)("div",{className:"relative z-10",children:[(0,b.jsx)("div",{className:`inline-flex p-3 rounded-xl ${g} mb-4`,children:(0,b.jsx)(e,{className:"w-6 h-6 text-white"})}),(0,b.jsx)("h3",{className:"text-sm font-medium text-white/80 uppercase tracking-wide",children:a}),(0,b.jsxs)("div",{className:"mt-3 space-y-1",children:[(0,b.jsxs)("p",{className:"text-3xl font-bold",children:[c," ",(0,b.jsx)("span",{className:"text-lg font-normal text-white/80",children:"Qt"})]}),(0,b.jsx)("p",{className:"text-lg font-semibold text-white/90",children:V(d)})]})]})]});return(0,b.jsxs)("div",{className:"space-y-8 pb-8",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Welcome back, supervisor ðŸ‘‹"}),(0,b.jsx)("p",{className:"text-gray-500 mt-1",children:"Here's what's happening with your warehouse today."})]}),(0,b.jsx)("div",{className:"flex items-center space-x-3",children:(0,b.jsxs)("button",{onClick:()=>{Q(),R(),S()},disabled:K,className:"flex items-center space-x-2 px-4 py-2.5 bg-white border border-gray-200  rounded-xl text-gray-600 hover:bg-gray-50 transition-colors disabled:opacity-50",children:[(0,b.jsx)(n.RefreshCw,{className:`w-4 h-4 ${K?"animate-spin":""}`}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Refresh"})]})})]}),M&&(0,b.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 flex items-center space-x-3",children:[(0,b.jsx)(q.AlertTriangle,{className:"w-5 h-5 text-red-500"}),(0,b.jsx)("p",{className:"text-red-700",children:M}),(0,b.jsx)("button",{onClick:Q,className:"ml-auto text-red-600 hover:text-red-800 font-medium text-sm",children:"Retry"})]}),K?(0,b.jsx)(()=>(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"bg-white rounded-2xl border border-gray-100 p-6 animate-pulse",children:(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,b.jsx)("div",{className:"w-14 h-14 bg-gray-200 rounded-xl"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"w-48 h-6 bg-gray-200 rounded mb-2"}),(0,b.jsx)("div",{className:"w-32 h-4 bg-gray-200 rounded"})]})]})}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(a=>(0,b.jsx)("div",{className:"bg-gray-200 rounded-2xl h-40 animate-pulse"},a))})]}),{}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900 rounded-2xl p-6 text-white shadow-xl",children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"p-4 bg-white/10 rounded-2xl backdrop-blur-sm",children:(0,b.jsx)(j.Warehouse,{className:"w-8 h-8 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold",children:A?.warehouseName||"Warehouse"}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-1 text-slate-300",children:[(0,b.jsx)(u.MapPin,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:A?.warehouseLocation||"Location"})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"px-4 py-2 bg-white/10 rounded-xl backdrop-blur-sm",children:[(0,b.jsx)("p",{className:"text-xs text-slate-400",children:"Categories"}),(0,b.jsx)("p",{className:"text-xl font-bold",children:A?.categories?.length||0})]}),(0,b.jsxs)("div",{className:"px-4 py-2 bg-white/10 rounded-xl backdrop-blur-sm",children:[(0,b.jsx)("p",{className:"text-xs text-slate-400",children:"Total Stock"}),(0,b.jsxs)("p",{className:"text-xl font-bold",children:[T.deposit.completed.qty," Qt"]})]})]})]})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,b.jsx)(h.Plus,{className:"w-5 h-5 text-green-600"})}),(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Deposit Overview"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,b.jsx)(W,{title:"Completed",qty:T.deposit.completed.qty,amount:T.deposit.completed.amount,icon:g.CheckCircle,gradient:"bg-gradient-to-br from-emerald-500 via-emerald-600 to-green-700",iconBg:"bg-white/20"}),(0,b.jsx)(W,{title:"Pending",qty:T.deposit.pending.qty,amount:T.deposit.pending.amount,icon:f.Clock,gradient:"bg-gradient-to-br from-amber-500 via-amber-600 to-orange-600",iconBg:"bg-white/20"}),(0,b.jsx)(W,{title:"Rejected",qty:T.deposit.rejected.qty,amount:T.deposit.rejected.amount,icon:v.XCircle,gradient:"bg-gradient-to-br from-red-500 via-red-600 to-rose-700",iconBg:"bg-white/20"}),(0,b.jsx)(W,{title:"Failed",qty:T.deposit.failed.qty,amount:T.deposit.failed.amount,icon:w.AlertOctagon,gradient:"bg-gradient-to-br from-slate-500 via-slate-600 to-gray-700",iconBg:"bg-white/20"})]})]}),(0,b.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 p-6 shadow-sm hover:shadow-md transition-shadow",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,b.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,b.jsx)(x.ShoppingCart,{className:"w-5 h-5 text-blue-600"})}),(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Sell Overview"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-5 border border-blue-100",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,b.jsx)(g.CheckCircle,{className:"w-5 h-5 text-blue-600"}),(0,b.jsx)("span",{className:"text-sm font-medium text-blue-700",children:"Completed"})]}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[T.sell.completed.qty," Qt"]}),(0,b.jsx)("p",{className:"text-sm font-medium text-blue-600 mt-1",children:V(T.sell.completed.amount)})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl p-5 border border-amber-100",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,b.jsx)(f.Clock,{className:"w-5 h-5 text-amber-600"}),(0,b.jsx)("span",{className:"text-sm font-medium text-amber-700",children:"Pending"})]}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[T.sell.pending.qty," Qt"]}),(0,b.jsx)("p",{className:"text-sm font-medium text-amber-600 mt-1",children:V(T.sell.pending.amount)})]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 p-6 shadow-sm hover:shadow-md transition-shadow",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,b.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,b.jsx)(p.Activity,{className:"w-5 h-5 text-purple-600"})}),(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Withdraw & Loan"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-orange-50 to-red-50 rounded-xl border border-orange-100",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2.5 bg-orange-100 rounded-lg",children:(0,b.jsx)(i.Minus,{className:"w-5 h-5 text-orange-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Withdrawals"}),(0,b.jsx)("p",{className:"text-xs text-gray-400",children:"Stock removals"})]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("p",{className:"text-lg font-bold text-gray-900",children:[T.withdraw.completed," ",(0,b.jsx)("span",{className:"text-sm font-normal text-green-600",children:"completed"})]}),(0,b.jsxs)("p",{className:"text-sm text-amber-600",children:[T.withdraw.pending," pending"]})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-violet-50 to-purple-50 rounded-xl border border-violet-100",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2.5 bg-violet-100 rounded-lg",children:(0,b.jsx)(y.Banknote,{className:"w-5 h-5 text-violet-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Loans"}),(0,b.jsx)("p",{className:"text-xs text-gray-400",children:"Financial assistance"})]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("p",{className:"text-lg font-bold text-gray-900",children:[T.loan.completed," ",(0,b.jsx)("span",{className:"text-sm font-normal text-green-600",children:"completed"})]}),(0,b.jsxs)("p",{className:"text-sm text-amber-600",children:[T.loan.pending," pending"]})]})]})]})]})]}),A?.categories&&A.categories.length>0&&(0,b.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 p-6 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"p-2 bg-amber-100 rounded-lg",children:(0,b.jsx)(t.Wheat,{className:"w-5 h-5 text-amber-600"})}),(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Category Breakdown"})]}),(0,b.jsxs)("span",{className:"text-sm text-gray-500",children:[A.categories.length," categories"]})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-gray-100",children:[(0,b.jsx)("th",{className:"text-left py-3 px-4 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Grain"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Quality"}),(0,b.jsx)("th",{className:"text-center py-3 px-4 text-xs font-semibold text-green-600 uppercase tracking-wide",children:"Completed"}),(0,b.jsx)("th",{className:"text-center py-3 px-4 text-xs font-semibold text-amber-600 uppercase tracking-wide",children:"Pending"}),(0,b.jsx)("th",{className:"text-center py-3 px-4 text-xs font-semibold text-red-600 uppercase tracking-wide",children:"Rejected"}),(0,b.jsx)("th",{className:"text-center py-3 px-4 text-xs font-semibold text-blue-600 uppercase tracking-wide",children:"Sold"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-50",children:A.categories.map((a,c)=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,b.jsx)("td",{className:"py-4 px-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-amber-50 rounded-lg",children:(0,b.jsx)(t.Wheat,{className:"w-4 h-4 text-amber-600"})}),(0,b.jsx)("span",{className:"font-medium text-gray-900",children:a.grain_type})]})}),(0,b.jsx)("td",{className:"py-4 px-4",children:(0,b.jsxs)("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold
                            ${"A"===a.quality?"bg-green-100 text-green-700":"B"===a.quality?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,children:["Grade ",a.quality]})}),(0,b.jsxs)("td",{className:"py-4 px-4 text-center",children:[(0,b.jsxs)("p",{className:"font-semibold text-gray-900",children:[a.deposit?.completed?.qty||0," Qt"]}),(0,b.jsx)("p",{className:"text-xs text-green-600",children:V(a.deposit?.completed?.amount||0)})]}),(0,b.jsxs)("td",{className:"py-4 px-4 text-center",children:[(0,b.jsxs)("p",{className:"font-semibold text-gray-900",children:[a.deposit?.pending?.qty||0," Qt"]}),(0,b.jsx)("p",{className:"text-xs text-amber-600",children:V(a.deposit?.pending?.amount||0)})]}),(0,b.jsxs)("td",{className:"py-4 px-4 text-center",children:[(0,b.jsxs)("p",{className:"font-semibold text-gray-900",children:[a.deposit?.rejected?.qty||0," Qt"]}),(0,b.jsx)("p",{className:"text-xs text-red-600",children:V(a.deposit?.rejected?.amount||0)})]}),(0,b.jsxs)("td",{className:"py-4 px-4 text-center",children:[(0,b.jsxs)("p",{className:"font-semibold text-gray-900",children:[a.sell?.completed?.qty||0," Qt"]}),(0,b.jsx)("p",{className:"text-xs text-blue-600",children:V(a.sell?.completed?.amount||0)})]})]},a.category_id||c))})]})})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 p-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Quick Actions"}),(0,b.jsx)("div",{className:"flex bg-gray-100 rounded-xl p-1",children:[{id:"all",label:"Overview"},{id:"operations",label:"Operations"},{id:"inventory",label:"Inventory"}].map(a=>(0,b.jsx)("button",{onClick:()=>P(a.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all
                  ${O===a.id?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:a.label},a.id))})]}),(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:U[O]?.map(c=>(0,b.jsxs)("button",{onClick:()=>a.push(c.href),className:`${c.bg} ${c.shadow} p-5 rounded-xl text-white text-left
                hover:scale-105 hover:shadow-xl transition-all duration-300 group`,children:[(0,b.jsx)(c.icon,{className:"w-8 h-8 mb-3 opacity-90"}),(0,b.jsx)("p",{className:"font-semibold text-sm",children:c.title}),(0,b.jsx)("p",{className:"text-xs opacity-80 mt-1",children:c.description}),(0,b.jsx)(o.ArrowRight,{className:"w-4 h-4 mt-3 opacity-0 group-hover:opacity-100  transform translate-x-0 group-hover:translate-x-1 transition-all"})]},c.title))})]}),(0,b.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 bg-white rounded-2xl border border-gray-100 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Recent Transactions"}),(0,b.jsxs)("button",{onClick:()=>a.push("/supervisor/transactions"),className:"text-sm text-blue-600 hover:text-blue-800 font-medium flex items-center gap-1",children:["View All",(0,b.jsx)(r.ChevronRight,{className:"w-4 h-4"})]})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:E?(0,b.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,b.jsx)(s.Loader2,{className:"w-6 h-6 animate-spin text-gray-400"})}):0===C.length?(0,b.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No recent transactions found"}):(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"text-left text-xs text-gray-500 uppercase tracking-wide border-b",children:[(0,b.jsx)("th",{className:"pb-3 font-medium",children:"Transaction"}),(0,b.jsx)("th",{className:"pb-3 font-medium",children:"Grain"}),(0,b.jsx)("th",{className:"pb-3 font-medium",children:"Quantity"}),(0,b.jsx)("th",{className:"pb-3 font-medium",children:"Amount"}),(0,b.jsx)("th",{className:"pb-3 font-medium",children:"Status"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-100",children:C.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,b.jsx)("td",{className:"py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`p-2 rounded-lg ${"deposit"===a.transaction_type?"bg-green-100 text-green-600":"withdraw"===a.transaction_type?"bg-orange-100 text-orange-600":"sell"===a.transaction_type?"bg-blue-100 text-blue-600":"bg-purple-100 text-purple-600"}`,children:"deposit"===a.transaction_type?(0,b.jsx)(h.Plus,{className:"w-4 h-4"}):"withdraw"===a.transaction_type?(0,b.jsx)(i.Minus,{className:"w-4 h-4"}):(0,b.jsx)(k.FileText,{className:"w-4 h-4"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-gray-900",children:a.user_id?.name||"Unknown"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 capitalize",children:a.transaction_type})]})]})}),(0,b.jsx)("td",{className:"py-4 text-gray-600",children:a.grain?.[0]?.category_id?.grain_type||"-"}),(0,b.jsxs)("td",{className:"py-4 text-gray-600",children:[a.grain?.[0]?.quantity_quintal||0," Qt"]}),(0,b.jsx)("td",{className:"py-4 font-medium text-gray-900",children:V(a.total_amount||0)}),(0,b.jsx)("td",{className:"py-4",children:(0,b.jsx)("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium capitalize
                          ${"completed"===a.transaction_status?"bg-green-100 text-green-700":"rejected"===a.transaction_status?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:a.transaction_status})})]},a._id))})]})})]}),(0,b.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 p-6",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsxs)("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[(0,b.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,b.jsx)(l.TrendingUp,{className:"h-5 w-5 text-purple-600"})}),"Today's Market Rates"]}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Live market price updates"})]}),I?(0,b.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,b.jsx)(s.Loader2,{className:"w-6 h-6 animate-spin text-gray-400"})}):0===Object.keys(G).length?(0,b.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No market data available"}):(0,b.jsx)("div",{className:"space-y-3 overflow-y-auto max-h-[400px] pr-2",children:G&&Object.entries(G).map(([a,c])=>{let{max:d,avg:e,min:f,change:g}=c||{};return(0,b.jsxs)("div",{className:"bg-gradient-to-r from-gray-50 to-white border border-gray-100 rounded-xl p-4 hover:shadow-md transition-all",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,b.jsx)("div",{className:"p-2 bg-purple-50 rounded-lg",children:(0,b.jsx)(t.Wheat,{className:"h-5 w-5 text-purple-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold text-gray-900",children:a}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Per Quintal"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Max"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"font-semibold text-gray-900",children:V(d||0)}),g&&"number"==typeof g.max&&(0,b.jsx)("span",{className:`inline-flex items-center gap-0.5 px-2 py-0.5 rounded-full text-xs font-medium ${g.max>=0?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:g.max>=0?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l.TrendingUp,{className:"h-3 w-3"}),"+",g.max.toFixed(2),"%"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.TrendingDown,{className:"h-3 w-3"}),g.max.toFixed(2),"%"]})})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Avg"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"font-semibold text-gray-900",children:V(e||0)}),g&&"number"==typeof g.avg&&(0,b.jsx)("span",{className:`inline-flex items-center gap-0.5 px-2 py-0.5 rounded-full text-xs font-medium ${g.avg>=0?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:g.avg>=0?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l.TrendingUp,{className:"h-3 w-3"}),"+",g.avg.toFixed(2),"%"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.TrendingDown,{className:"h-3 w-3"}),g.avg.toFixed(2),"%"]})})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Min"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"font-semibold text-gray-900",children:V(f||0)}),g&&"number"==typeof g.min&&(0,b.jsx)("span",{className:`inline-flex items-center gap-0.5 px-2 py-0.5 rounded-full text-xs font-medium ${g.min>=0?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:g.min>=0?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l.TrendingUp,{className:"h-3 w-3"}),"+",g.min.toFixed(2),"%"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.TrendingDown,{className:"h-3 w-3"}),g.min.toFixed(2),"%"]})})]})]})]})]},a)})}),(0,b.jsxs)("button",{onClick:()=>a.push("/supervisor/updateprice"),className:"w-full mt-4 py-3 bg-gray-900 text-white rounded-xl font-medium hover:bg-gray-800 transition-colors flex items-center justify-center gap-2",children:["Update Prices",(0,b.jsx)(o.ArrowRight,{className:"w-4 h-4"})]})]})]})]})}a.s(["default",()=>A])}];

//# sourceMappingURL=src_app_supervisor_page_jsx_99b09c17._.js.map