module.exports=[14833,54823,12227,92319,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(33508),e=a.i(33441),f=a.i(62722),g=a.i(46842),h=a.i(11156),i=a.i(67900),j=a.i(60246),k=a.i(4720),l=a.i(38632),m=a.i(92e3),n=a.i(67453),o=a.i(4416),p=a.i(24987),q=a.i(63519),r=a.i(92258),s=a.i(41675),t=a.i(2835),u=a.i(49853),v=a.i(50522),w=a.i(84505),x=a.i(13749),y=a.i(34044),z=a.i(41815),A=a.i(77156),B=a.i(8406),C=a.i(62219),D=a.i(41710),E=a.i(32860),F=a.i(70106);let G=(0,F.default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);var H=a.i(73570);let I=(0,F.default)("undo-2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);var J=a.i(96221),K=a.i(69520),L=a.i(97063);let M=(0,F.default)("file-x",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]]);var N=a.i(60779),O=a.i(6704);a.s(["default",0,({isOpen:a,onClose:F,farmerId:P,onVerificationComplete:Q})=>{let R,[S,T]=(0,c.useState)({}),[U,V]=(0,c.useState)("identity"),[W,X]=(0,c.useState)(null),[Y,Z]=(0,c.useState)(0),[$,_]=(0,c.useState)([]),[aa,ab]=(0,c.useState)(0),[ac,ad]=(0,c.useState)({isOpen:!1,field:null,label:""}),[ae,af]=(0,c.useState)(""),[ag,ah]=(0,c.useState)(null),[ai,aj]=(0,c.useState)("pending"),[ak,al]=(0,c.useState)(!1),[am,an]=(0,c.useState)(!1),[ao,ap]=(0,c.useState)(null),aq=(0,c.useCallback)(async()=>{if(P){al(!0),ap(null);try{let a=await fetch(`${N.default}/user/checkfarmerverification?farmerId=${P}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!a.ok)throw Error(`Failed to fetch verification data: ${a.statusText}`);let b=await a.json();ah(b.data),aj(b.data.overallStatus||"pending"),Object.keys(b.data).forEach(a=>{if("overallStatus"!==a&&b.data[a]?.status==="pending"){let c=b.data[a];ar(c)}}),T({})}catch(a){ap(a.message),console.error("Error fetching verification data:",a)}finally{al(!1)}}},[P]),ar=a=>{if(!a)return!1;let b=a.value;return!(null==b||Array.isArray(b)&&0===b.length)&&("object"!=typeof b||!!b.$numberDecimal||0!==Object.keys(b).length)},as=async()=>{let a={};if(Object.keys(S).forEach(b=>{let c=S[b];c&&c.status&&(a[b]={status:"accepted"===c.status?"approved":c.status,reason:c.reason||null})}),0===Object.keys(a).length)return void O.default.error("No changes to submit");an(!0),ap(null);try{let b=await fetch(`${N.default}/user/updatefarmerverification?farmerId=${P}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({verifications:a})});if(console.log("Verification Response:",b),!b.ok)throw Error(`Failed to update verification: ${b.statusText}`);let c=await b.json();Q&&Q(c),O.default.success("Verification updated successfully"),F()}catch(a){ap(a.message),O.default.error("Failed to update verification"),console.error("Error updating verification:",a)}finally{an(!1)}};if((0,c.useEffect)(()=>{a&&P&&aq()},[a,P,aq]),(0,c.useEffect)(()=>{a||(T({}),V("identity"),X(null),ap(null),ah(null))},[a]),!a)return null;let at=a=>{if(!ag||!ag[a])return null;let b=ag[a];return b.value?.$numberDecimal?b.value.$numberDecimal:b.value},au=a=>ag&&ag[a]?ag[a].status:null,av=()=>{if(!ag)return[];let a=ag.khatauni_images;return a?.value&&Array.isArray(a.value)?a.value.map(a=>a.image_url):[]},aw=a=>{if(S[a])return{status:S[a].status,reason:S[a].reason,isLocal:!0};let b=au(a),c=ag&&ag[a]?ag[a].reason:null;return b?{status:"approved"===b?"accepted":b,reason:c,isLocal:!1}:null},ax=a=>{let b=au(a),c=at(a);return"pending"===b&&("khatauni_images"===a?av().length>0:null!=c)},ay=a=>!!S[a],az=(a,b)=>{ax(a)&&("rejected"===b?ad({isOpen:!0,field:a,label:a.replace(/_/g," ")}):T(b=>({...b,[a]:{status:"accepted",reason:""}})))},aA=()=>{ae.trim()&&(T(a=>({...a,[ac.field]:{status:"rejected",reason:ae}})),ad({isOpen:!1,field:null,label:""}),af(""))},aB=a=>{for(let[c,d]of Object.entries({aadhaar:t.Hash,pan:h.CreditCard,account:h.CreditCard,ifsc:u.Landmark,phone:q.Phone,email:r.Mail,dob:s.Calendar,address:p.MapPin,name:g.User,bank:i.Building2,branch:u.Landmark,relation:j.Users,gender:g.User}))if(a.toLowerCase().includes(c))return(0,b.jsx)(d,{className:"w-4 h-4"});return(0,b.jsx)(k.FileText,{className:"w-4 h-4"})},aC=async a=>{try{let b=await fetch(a),c=await b.blob(),d=window.URL.createObjectURL(c),e=document.createElement("a");e.href=d,e.download=`document-${Date.now()}.jpg`,document.body.appendChild(e),e.click(),document.body.removeChild(e),window.URL.revokeObjectURL(d)}catch(b){console.error("Download failed:",b),window.open(a,"_blank")}},aD=(a,b=[a])=>{let c=Array.isArray(b)?b:[b];_(c),ab(-1!==c.indexOf(a)?c.indexOf(a):0),X(a),Z(0)},aE=a=>{let b="next"===a?(aa+1)%$.length:(aa-1+$.length)%$.length;ab(b),X($[b]),Z(0)},aF={identity:[{field:"aadhaar_image",label:"Aadhaar Image",type:"image",icon:(0,b.jsx)(l.Image,{className:"w-4 h-4"})},{field:"aadhaar_number",label:"Aadhaar Number",type:"text",icon:(0,b.jsx)(t.Hash,{className:"w-4 h-4"})},{field:"pan_number",label:"PAN Number",type:"text",icon:(0,b.jsx)(h.CreditCard,{className:"w-4 h-4"})},{field:"pan_image",label:"PAN Image",type:"image",icon:(0,b.jsx)(l.Image,{className:"w-4 h-4"})},{field:"khatauni_images",label:"Khatauni Documents",type:"multi-image",icon:(0,b.jsx)(k.FileText,{className:"w-4 h-4"})}],address:[{field:"address",label:"Address",type:"text",icon:(0,b.jsx)(p.MapPin,{className:"w-4 h-4"})},{field:"tehsil",label:"Tehsil",type:"text",icon:(0,b.jsx)(p.MapPin,{className:"w-4 h-4"})},{field:"district",label:"District",type:"text",icon:(0,b.jsx)(p.MapPin,{className:"w-4 h-4"})},{field:"state",label:"State",type:"text",icon:(0,b.jsx)(p.MapPin,{className:"w-4 h-4"})},{field:"landmark",label:"Landmark",type:"text",icon:(0,b.jsx)(p.MapPin,{className:"w-4 h-4"})},{field:"pin_code",label:"PIN Code",type:"text",icon:(0,b.jsx)(t.Hash,{className:"w-4 h-4"})}],land:[{field:"land_size",label:"Land Size",type:"text",suffix:" Acres",icon:(0,b.jsx)(k.FileText,{className:"w-4 h-4"}),relatedImageField:"khatauni_images"}],bank:[{field:"bank_passbook_img",label:"Bank Passbook Image",type:"image",icon:(0,b.jsx)(l.Image,{className:"w-4 h-4"})},{field:"account_number",label:"Account Number",type:"text",icon:(0,b.jsx)(h.CreditCard,{className:"w-4 h-4"})},{field:"ifsc_code",label:"IFSC Code",type:"text",icon:(0,b.jsx)(t.Hash,{className:"w-4 h-4"})},{field:"account_holder",label:"Account Holder Name",type:"text",icon:(0,b.jsx)(g.User,{className:"w-4 h-4"})},{field:"bank_name",label:"Bank Name",type:"text",icon:(0,b.jsx)(i.Building2,{className:"w-4 h-4"})},{field:"branch_name",label:"Branch Name",type:"text",icon:(0,b.jsx)(u.Landmark,{className:"w-4 h-4"})}],nominee:[{field:"nominee_image",label:"Nominee Image",type:"image",icon:(0,b.jsx)(l.Image,{className:"w-4 h-4"})},{field:"nominee_aadhaar_image",label:"Nominee Aadhaar Image",type:"image",icon:(0,b.jsx)(l.Image,{className:"w-4 h-4"})},{field:"nominee_pan_image",label:"Nominee PAN Image",type:"image",icon:(0,b.jsx)(l.Image,{className:"w-4 h-4"})},{field:"nominee_name",label:"Nominee Name",type:"text",icon:(0,b.jsx)(g.User,{className:"w-4 h-4"})},{field:"nominee_dob",label:"Date of Birth",type:"text",icon:(0,b.jsx)(s.Calendar,{className:"w-4 h-4"})},{field:"nominee_phone",label:"Phone Number",type:"text",icon:(0,b.jsx)(q.Phone,{className:"w-4 h-4"})},{field:"nominee_email",label:"Email Address",type:"text",icon:(0,b.jsx)(r.Mail,{className:"w-4 h-4"})},{field:"nominee_aadhaar",label:"Nominee Aadhaar",type:"text",icon:(0,b.jsx)(t.Hash,{className:"w-4 h-4"})},{field:"nominee_pan",label:"Nominee PAN",type:"text",icon:(0,b.jsx)(h.CreditCard,{className:"w-4 h-4"})},{field:"nominee_relation",label:"Relationship",type:"text",icon:(0,b.jsx)(j.Users,{className:"w-4 h-4"})},{field:"nominee_gender",label:"Gender",type:"text",icon:(0,b.jsx)(g.User,{className:"w-4 h-4"})},{field:"nominee_address",label:"Nominee Address",type:"text",icon:(0,b.jsx)(p.MapPin,{className:"w-4 h-4"})}]},aG=()=>{let a=0,b=0,c=0,d=0,e=0;return Object.values(aF).flat().forEach(f=>{let g=at(f.field),h=au(f.field),i=aw(f.field);if("multi-image"===f.type){if(0===av().length&&"pending"===h)return void e++}else if(null===g&&"pending"===h)return void e++;a++;let j=i?.status;"accepted"===j||"approved"===j?b++:"rejected"===j?c++:d++}),{total:a,approved:b,rejected:c,pending:d,notSubmitted:e}},aH=()=>{let a=aG();return 0===a.total?0:Math.round((a.approved+a.rejected)/a.total*100)},aI=({src:a,alt:c,onClick:d})=>(0,b.jsx)("div",{className:"relative group cursor-pointer",onClick:d,children:(0,b.jsxs)("div",{className:"w-20 h-20 rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 transform hover:scale-105 ring-1 ring-gray-200 hover:ring-indigo-400",children:[(0,b.jsx)("img",{src:a,alt:c,className:"w-full h-full object-cover"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-all duration-300 flex items-center justify-center",children:(0,b.jsx)("div",{className:"p-1.5 bg-white/20 backdrop-blur-sm rounded-full transform scale-0 group-hover:scale-100 transition-transform duration-300",children:(0,b.jsx)(A.Eye,{className:"w-4 h-4 text-white"})})})]})}),aJ=({label:a,value:c,field:g,relatedImage:h=null,icon:i,fieldType:j})=>{let k,o,p,q,r,s,t,u=aw(g),v=u?.status,w=u?.reason,x=ax(g),y=ay(g),z=(a=>{let b=ag&&ag[a]?.verifiedBy?ag[a].verifiedBy:null;if(!b)return null;let{manager:c,supervisor:d,admin:e}=b;return e?.status&&e?.user_id?{name:e.user_id.name,role:e.user_id.role,date:e.date}:d?.status&&d?.user_id?{name:d.user_id.name,role:d.user_id.role,date:d.date}:c?.status&&c?.user_id?{name:c.user_id.name,role:c.user_id.role,date:c.date}:null})(g),A=au(g),B=at(g);return"multi-image"===j&&0===av().length&&"pending"===A||null===B&&"pending"===A&&"multi-image"!==j?(0,b.jsx)("div",{className:"p-4 rounded-xl border bg-gray-50 border-gray-200",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg shadow bg-gray-400",children:(0,b.jsx)("div",{className:"text-white",children:i||aB(g)})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2.5 mb-1",children:[(0,b.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:a}),(0,b.jsxs)("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-gray-100 rounded-full",children:[(0,b.jsx)(M,{className:"w-3.5 h-3.5 text-gray-500"}),(0,b.jsx)("span",{className:"text-xs font-semibold text-gray-500",children:"Not Submitted"})]})]}),(0,b.jsx)("p",{className:"text-sm text-gray-400 italic",children:"Awaiting farmer submission"})]})]})}):c||h||"image"!==j&&"multi-image"!==j?(0,b.jsx)("div",{className:`p-4 rounded-xl border transition-all duration-300 ${(k=aw(g),"accepted"===(o=k?.status)||"approved"===o?"bg-gradient-to-br from-green-50 to-emerald-50 border-green-300 shadow-md":"rejected"===o?"bg-gradient-to-br from-red-50 to-rose-50 border-red-300 shadow-md":"bg-white border-gray-200 hover:border-indigo-300 hover:shadow-md")} ${y?"ring-2 ring-indigo-400 ring-offset-2":""}`,children:(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:`p-2 rounded-lg shadow ${"accepted"===v||"approved"===v?"bg-gradient-to-br from-green-500 to-emerald-600":"rejected"===v?"bg-gradient-to-br from-red-500 to-rose-600":"bg-gradient-to-br from-indigo-500 to-purple-600"}`,children:(0,b.jsx)("div",{className:"text-white",children:i||aB(g)})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2.5 mb-1.5 flex-wrap",children:[(0,b.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:a}),(p=aw(g),q=p?.status,r=ay(g),s=at(g),t=au(g),null===s&&"pending"===t?(0,b.jsxs)("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-gray-100 rounded-full",children:[(0,b.jsx)(M,{className:"w-3.5 h-3.5 text-gray-500"}),(0,b.jsx)("span",{className:"text-xs font-semibold text-gray-500",children:"Not Submitted"})]}):"accepted"===q||"approved"===q?(0,b.jsx)("div",{className:"flex items-center gap-1.5",children:(0,b.jsxs)("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full",children:[(0,b.jsx)(n.CheckCircle2,{className:"w-3.5 h-3.5 text-white"}),(0,b.jsx)("span",{className:"text-xs font-semibold text-white",children:r?"Approved (New)":"Approved"})]})}):"rejected"===q?(0,b.jsx)("div",{className:"flex items-center gap-1.5",children:(0,b.jsxs)("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-gradient-to-r from-red-500 to-rose-500 rounded-full",children:[(0,b.jsx)(f.XCircle,{className:"w-3.5 h-3.5 text-white"}),(0,b.jsx)("span",{className:"text-xs font-semibold text-white",children:r?"Rejected (New)":"Rejected"})]})}):(0,b.jsxs)("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-amber-100 rounded-full",children:[(0,b.jsx)(D.Clock,{className:"w-3.5 h-3.5 text-amber-600"}),(0,b.jsx)("span",{className:"text-xs font-semibold text-amber-600",children:"Pending Review"})]})),y&&(0,b.jsx)("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 text-xs font-medium rounded-full",children:"Modified"})]}),c&&(0,b.jsx)("p",{className:"text-base font-semibold text-gray-900",children:c}),z&&!x&&(0,b.jsxs)("div",{className:"mt-2 flex items-center gap-2 text-xs text-gray-500",children:[(0,b.jsx)(L.Info,{className:"w-3.5 h-3.5"}),(0,b.jsxs)("span",{children:["Verified by ",(0,b.jsx)("span",{className:"font-medium text-gray-700",children:z.name}),(0,b.jsxs)("span",{className:"text-gray-400",children:[" (",z.role,")"]}),z.date&&(0,b.jsxs)("span",{className:"text-gray-400",children:[" on ",new Date(z.date).toLocaleDateString()]})]})]}),"rejected"===v&&w&&(0,b.jsx)("div",{className:"mt-3 p-3 bg-red-100 border border-red-200 rounded-lg",children:(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)(m.AlertCircle,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-red-700 uppercase tracking-wide mb-1",children:"Rejection Reason"}),(0,b.jsx)("p",{className:"text-sm text-red-600",children:w})]})]})}),h&&(0,b.jsxs)("div",{className:"mt-3",children:[(0,b.jsxs)("p",{className:"text-xs text-gray-500 mb-2.5 flex items-center gap-1.5",children:[(0,b.jsx)(l.Image,{className:"w-3.5 h-3.5"}),"image"===j?"Document":"Supporting Documents"]}),(0,b.jsx)("div",{className:"flex gap-2.5 flex-wrap",children:Array.isArray(h)?h.map((c,d)=>(0,b.jsx)(aI,{src:c,alt:`${a} ${d+1}`,onClick:()=>aD(c,h)},d)):(0,b.jsx)(aI,{src:h,alt:a,onClick:()=>aD(h)})})]})]})]})}),(0,b.jsx)("div",{className:"flex flex-col items-center gap-2",children:x?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"text-[10px] font-semibold text-gray-400 uppercase tracking-wider",children:"Verify"}),(0,b.jsxs)("div",{className:"flex items-center gap-1.5 p-1 bg-gray-50 rounded-lg",children:[(0,b.jsxs)("button",{onClick:()=>az(g,"accepted"),className:`relative p-2 rounded-lg font-medium transition-all duration-300 ${"accepted"===v?"bg-gradient-to-br from-green-500 to-emerald-600 text-white shadow-lg scale-105":"bg-white text-green-600 hover:bg-green-50 border border-green-300"}`,title:"Approve",children:[(0,b.jsx)(e.Check,{className:"w-4 h-4"}),"accepted"===v&&y&&(0,b.jsx)("span",{className:"absolute -top-0.5 -right-0.5 w-2.5 h-2.5 bg-green-400 rounded-full animate-ping"})]}),(0,b.jsxs)("button",{onClick:()=>az(g,"rejected"),className:`relative p-2 rounded-lg font-medium transition-all duration-300 ${"rejected"===v?"bg-gradient-to-br from-red-500 to-rose-600 text-white shadow-lg scale-105":"bg-white text-red-600 hover:bg-red-50 border border-red-300"}`,title:"Reject",children:[(0,b.jsx)(d.X,{className:"w-4 h-4"}),"rejected"===v&&y&&(0,b.jsx)("span",{className:"absolute -top-0.5 -right-0.5 w-2.5 h-2.5 bg-red-400 rounded-full animate-ping"})]}),y&&(0,b.jsx)("button",{onClick:()=>{T(a=>{let b={...a};return delete b[g],b})},className:"p-2 rounded-lg font-medium transition-all duration-300 bg-white text-gray-500 hover:bg-gray-100 border border-gray-300",title:"Reset",children:(0,b.jsx)(I,{className:"w-4 h-4"})})]})]}):"pending"!==A?(0,b.jsxs)("div",{className:"flex flex-col items-center",children:[(0,b.jsx)("span",{className:"text-[10px] font-semibold text-gray-400 uppercase tracking-wider mb-1",children:"Verified"}),(0,b.jsx)("div",{className:`p-2 rounded-lg ${"accepted"===v||"approved"===v?"bg-green-100":"bg-red-100"}`,children:"accepted"===v||"approved"===v?(0,b.jsx)(n.CheckCircle2,{className:"w-5 h-5 text-green-600"}):(0,b.jsx)(f.XCircle,{className:"w-5 h-5 text-red-600"})})]}):null})]})}):null},aK=[{id:"identity",label:"Identity",icon:g.User,color:"from-blue-500 to-indigo-600"},{id:"address",label:"Address",icon:p.MapPin,color:"from-orange-500 to-amber-600"},{id:"land",label:"Land Details",icon:k.FileText,color:"from-green-500 to-emerald-600"},{id:"bank",label:"Bank Details",icon:i.Building2,color:"from-cyan-500 to-teal-600"},{id:"nominee",label:"Nominee Info",icon:j.Users,color:"from-purple-500 to-pink-600"}],aL=aG();return ak?(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 flex flex-col items-center gap-4",children:[(0,b.jsx)(J.Loader2,{className:"w-12 h-12 text-indigo-600 animate-spin"}),(0,b.jsx)("p",{className:"text-gray-600 font-medium",children:"Loading verification data..."})]})}):ao&&!ag?(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,b.jsx)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md mx-4",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-4 text-center",children:[(0,b.jsx)("div",{className:"p-3 bg-red-100 rounded-full",children:(0,b.jsx)(m.AlertCircle,{className:"w-8 h-8 text-red-600"})}),(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Error Loading Data"}),(0,b.jsx)("p",{className:"text-gray-600",children:ao}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:F,className:"px-5 py-2.5 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-100",children:"Close"}),(0,b.jsxs)("button",{onClick:aq,className:"px-5 py-2.5 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 flex items-center gap-2",children:[(0,b.jsx)(K.RefreshCw,{className:"w-4 h-4"}),"Retry"]})]})]})})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[92vh] overflow-hidden flex flex-col",children:[(0,b.jsxs)("div",{className:"relative overflow-hidden flex-shrink-0",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600",children:(0,b.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48Y2lyY2xlIGN4PSIzMCIgY3k9IjMwIiByPSIyIi8+PC9nPjwvZz48L3N2Zz4=')] opacity-20"})}),(0,b.jsx)("div",{className:"relative px-5 py-3.5",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"absolute -inset-1 bg-white/20 rounded-lg blur animate-pulse"}),(0,b.jsx)("div",{className:"relative w-10 h-10 bg-white/20 backdrop-blur-sm rounded-lg flex items-center justify-center border border-white/30",children:(0,b.jsx)(o.ShieldCheck,{className:"w-5 h-5 text-white"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:["Farmer Verification",(0,b.jsx)(B.Sparkles,{className:"w-4 h-4 text-yellow-300 animate-pulse"})]}),(0,b.jsx)("p",{className:"text-white/70 text-xs",children:"Review and verify all farmer documents"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(()=>{switch(ai){case"approved":return(0,b.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-green-500/20 backdrop-blur-sm rounded-lg border border-green-400/30",children:[(0,b.jsx)(n.CheckCircle2,{className:"w-4 h-4 text-green-300"}),(0,b.jsx)("span",{className:"text-white font-semibold text-sm",children:"Fully Approved"})]});case"rejected":return(0,b.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-red-500/20 backdrop-blur-sm rounded-lg border border-red-400/30",children:[(0,b.jsx)(f.XCircle,{className:"w-4 h-4 text-red-300"}),(0,b.jsx)("span",{className:"text-white font-semibold text-sm",children:"Has Rejections"})]});default:return(0,b.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-amber-500/20 backdrop-blur-sm rounded-lg border border-amber-400/30",children:[(0,b.jsx)(D.Clock,{className:"w-4 h-4 text-amber-300"}),(0,b.jsx)("span",{className:"text-white font-semibold text-sm",children:"Pending Review"})]})}})(),(0,b.jsxs)("div",{className:"flex items-center gap-2.5 bg-white/10 backdrop-blur-sm rounded-lg px-3 py-1.5 border border-white/20",children:[(0,b.jsx)("span",{className:"text-white/70 text-xs",children:"Progress:"}),(0,b.jsx)("div",{className:"w-20 h-2 bg-white/20 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-gradient-to-r from-green-400 to-emerald-400 transition-all duration-500 rounded-full",style:{width:`${aH()}%`}})}),(0,b.jsxs)("span",{className:"text-white font-bold text-sm",children:[aH(),"%"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1.5 bg-green-500/20 backdrop-blur-sm rounded-lg px-2.5 py-1.5 border border-green-400/30",children:[(0,b.jsx)(n.CheckCircle2,{className:"w-3.5 h-3.5 text-green-300"}),(0,b.jsx)("span",{className:"text-white font-bold text-sm",children:aL.approved})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1.5 bg-red-500/20 backdrop-blur-sm rounded-lg px-2.5 py-1.5 border border-red-400/30",children:[(0,b.jsx)(f.XCircle,{className:"w-3.5 h-3.5 text-red-300"}),(0,b.jsx)("span",{className:"text-white font-bold text-sm",children:aL.rejected})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1.5 bg-amber-500/20 backdrop-blur-sm rounded-lg px-2.5 py-1.5 border border-amber-400/30",children:[(0,b.jsx)(D.Clock,{className:"w-3.5 h-3.5 text-amber-300"}),(0,b.jsx)("span",{className:"text-white font-bold text-sm",children:aL.pending})]}),(0,b.jsx)("button",{onClick:F,className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg transition-all duration-300 hover:scale-110 hover:rotate-90 ml-2",children:(0,b.jsx)(d.X,{className:"w-4 h-4 text-white"})})]})]})})]}),ao&&(0,b.jsxs)("div",{className:"mx-4 mt-3 p-3 bg-red-50 border border-red-200 rounded-xl flex items-center gap-3",children:[(0,b.jsx)(m.AlertCircle,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),(0,b.jsx)("p",{className:"text-sm text-red-600 flex-1",children:ao}),(0,b.jsx)("button",{onClick:()=>ap(null),className:"p-1.5 hover:bg-red-100 rounded-lg transition-colors",children:(0,b.jsx)(d.X,{className:"w-4 h-4 text-red-500"})})]}),(0,b.jsx)("div",{className:"flex bg-gradient-to-r from-gray-50 to-gray-100 px-3 py-2 gap-2 flex-shrink-0 border-b border-gray-200 overflow-x-auto",children:aK.map(a=>{let c=a.icon;return(0,b.jsxs)("button",{onClick:()=>V(a.id),className:`flex-shrink-0 px-4 py-2 flex items-center justify-center gap-2 font-medium rounded-lg transition-all duration-300 ${U===a.id?"bg-white text-gray-800 shadow-md scale-[1.02] border border-gray-200":"text-gray-500 hover:bg-white/50 hover:text-gray-700"}`,children:[(0,b.jsx)("div",{className:`p-1.5 rounded-lg bg-gradient-to-br ${U===a.id?a.color:"from-gray-300 to-gray-400"} shadow-sm`,children:(0,b.jsx)(c,{className:"w-3.5 h-3.5 text-white"})}),(0,b.jsx)("span",{className:"text-sm whitespace-nowrap",children:a.label})]},a.id)})}),(0,b.jsx)("div",{className:"flex-1 p-4 overflow-y-auto bg-gradient-to-br from-gray-50 via-white to-gray-50",children:(0,b.jsx)("div",{className:"space-y-3",children:(R=aF[U]||[],ag?(0,b.jsx)(b.Fragment,{children:R.map(a=>{var c;let d=(a=>{if("image"===a.type||"multi-image"===a.type)return null;let b=at(a.field);return b&&a.suffix?`${b}${a.suffix}`:b})(a),e="image"===(c=a).type?at(c.field):"multi-image"===c.type?av():c.relatedImageField?"khatauni_images"===c.relatedImageField?av():at(c.relatedImageField):null;return(0,b.jsx)(aJ,{label:a.label,value:d,field:a.field,relatedImage:e,icon:a.icon,fieldType:a.type},a.field)})}):(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)("p",{className:"text-gray-500",children:"No data available"})}))})}),(0,b.jsx)("div",{className:"border-t border-gray-200 bg-gradient-to-r from-gray-50 via-white to-gray-50 px-5 py-3 flex-shrink-0",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-2.5 h-2.5 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full"}),(0,b.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:["Approved (",aL.approved,")"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-2.5 h-2.5 bg-gradient-to-r from-red-500 to-rose-500 rounded-full"}),(0,b.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:["Rejected (",aL.rejected,")"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-2.5 h-2.5 bg-amber-400 rounded-full"}),(0,b.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:["Pending (",aL.pending,")"]})]}),aL.notSubmitted>0&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-2.5 h-2.5 bg-gray-400 rounded-full"}),(0,b.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:["Not Submitted (",aL.notSubmitted,")"]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:F,disabled:am,className:"px-5 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-all duration-300 font-medium text-sm hover:shadow-md disabled:opacity-50",children:"Cancel"}),(0,b.jsx)("button",{onClick:as,disabled:am||!(Object.keys(S).length>0),className:"group px-5 py-2 bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 text-white rounded-lg hover:shadow-lg transition-all duration-300 font-medium text-sm transform hover:scale-105 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:am?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(J.Loader2,{className:"w-4 h-4 animate-spin"}),"Submitting..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(C.BadgeCheck,{className:"w-4 h-4"}),"Submit Verification (",Object.keys(S).length,")",(0,b.jsx)(E.ArrowRight,{className:"w-3.5 h-3.5 group-hover:translate-x-1 transition-transform"})]})})]})]})})]})}),(0,b.jsx)(()=>ac.isOpen?(0,b.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[70]",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-4 overflow-hidden animate-in fade-in zoom-in duration-300",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-red-500 via-rose-500 to-pink-500 px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-white/20 backdrop-blur-sm rounded-xl",children:(0,b.jsx)(H.AlertTriangle,{className:"w-6 h-6 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white",children:"Rejection Reason"}),(0,b.jsx)("p",{className:"text-white/80 text-sm capitalize",children:ac.label})]})]})}),(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Please provide a reason for rejecting this field. This will help the farmer understand what needs to be corrected."}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 block",children:"Quick Select"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:["Document is blurry or unclear","Information mismatch","Document expired","Invalid document format","Missing required information","Suspected fraudulent document"].map((a,c)=>(0,b.jsx)("button",{onClick:()=>af(a),className:`px-3 py-1.5 text-xs font-medium rounded-full border transition-all duration-200 ${ae===a?"bg-red-100 border-red-300 text-red-700":"bg-gray-50 border-gray-200 text-gray-600 hover:bg-red-50 hover:border-red-200 hover:text-red-600"}`,children:a},c))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 block",children:"Rejection Reason"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(G,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),(0,b.jsx)("textarea",{value:ae,onChange:a=>af(a.target.value),placeholder:"Enter detailed reason for rejection...",className:"w-full pl-11 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none transition-all duration-200",rows:3})]}),(0,b.jsxs)("p",{className:"text-xs text-gray-400 mt-1.5",children:[ae.length,"/500 characters"]})]})]}),(0,b.jsxs)("div",{className:"border-t border-gray-100 px-6 py-4 bg-gray-50 flex items-center justify-end gap-3",children:[(0,b.jsx)("button",{onClick:()=>{ad({isOpen:!1,field:null,label:""}),af("")},className:"px-5 py-2.5 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-100 transition-all duration-200 font-medium text-sm",children:"Cancel"}),(0,b.jsxs)("button",{onClick:aA,disabled:!ae.trim(),className:`px-5 py-2.5 rounded-xl font-medium text-sm flex items-center gap-2 transition-all duration-200 ${ae.trim()?"bg-gradient-to-r from-red-500 to-rose-500 text-white hover:shadow-lg hover:scale-105":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:[(0,b.jsx)(f.XCircle,{className:"w-4 h-4"}),"Confirm Rejection"]})]})]})}):null,{}),W&&(0,b.jsx)(({image:a,onClose:c})=>a?(0,b.jsxs)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex items-center justify-center z-[60]",onClick:c,children:[(0,b.jsx)("button",{onClick:c,className:"absolute top-4 right-4 p-2.5 bg-white/10 hover:bg-white/20 rounded-xl transition-all duration-300 hover:scale-110 group z-10",children:(0,b.jsx)(d.X,{className:"w-5 h-5 text-white group-hover:rotate-90 transition-transform duration-300"})}),$.length>1&&(0,b.jsx)("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 px-3 py-1.5 bg-white/10 backdrop-blur-sm rounded-full",children:(0,b.jsxs)("span",{className:"text-white text-sm font-medium",children:[aa+1," / ",$.length]})}),$.length>1&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:a=>{a.stopPropagation(),aE("prev")},className:"absolute left-4 top-1/2 -translate-y-1/2 p-3 bg-white/10 hover:bg-white/20 rounded-xl transition-all duration-300 hover:scale-110 group",children:(0,b.jsx)(x.ChevronLeft,{className:"w-6 h-6 text-white group-hover:-translate-x-1 transition-transform"})}),(0,b.jsx)("button",{onClick:a=>{a.stopPropagation(),aE("next")},className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 bg-white/10 hover:bg-white/20 rounded-xl transition-all duration-300 hover:scale-110 group",children:(0,b.jsx)(v.ChevronRight,{className:"w-6 h-6 text-white group-hover:translate-x-1 transition-transform"})})]}),(0,b.jsxs)("div",{className:"relative max-w-[85vw] max-h-[85vh] p-4",onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl bg-white/5 backdrop-blur-sm border border-white/10",children:[(0,b.jsx)("img",{src:a,alt:"Document",className:"max-w-full max-h-[75vh] object-contain transition-transform duration-500",style:{transform:`rotate(${Y}deg)`}}),(0,b.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-black/70 to-transparent"})]}),(0,b.jsx)("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 flex items-center gap-3",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2.5 bg-white/10 backdrop-blur-xl rounded-xl border border-white/20",children:[(0,b.jsx)("button",{onClick:()=>Z(a=>a-90),className:"p-2.5 hover:bg-white/20 rounded-lg transition-all duration-200 group",title:"Rotate Left",children:(0,b.jsx)(z.RotateCw,{className:"w-4 h-4 text-white transform -scale-x-100 group-hover:rotate-[-90deg] transition-transform duration-300"})}),(0,b.jsx)("div",{className:"w-px h-6 bg-white/20"}),(0,b.jsx)("button",{onClick:()=>Z(a=>a+90),className:"p-2.5 hover:bg-white/20 rounded-lg transition-all duration-200 group",title:"Rotate Right",children:(0,b.jsx)(z.RotateCw,{className:"w-4 h-4 text-white group-hover:rotate-90 transition-transform duration-300"})}),(0,b.jsx)("div",{className:"w-px h-6 bg-white/20"}),(0,b.jsx)("button",{onClick:()=>window.open(a,"_blank"),className:"p-2.5 hover:bg-white/20 rounded-lg transition-all duration-200 group",title:"Open in New Tab",children:(0,b.jsx)(y.Maximize2,{className:"w-4 h-4 text-white group-hover:scale-110 transition-transform duration-300"})}),(0,b.jsx)("div",{className:"w-px h-6 bg-white/20"}),(0,b.jsxs)("button",{onClick:()=>aC(a),className:"flex items-center gap-2 px-3.5 py-2.5 bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 rounded-lg transition-all duration-300 hover:scale-105",title:"Download",children:[(0,b.jsx)(w.Download,{className:"w-4 h-4 text-white"}),(0,b.jsx)("span",{className:"text-white font-medium text-sm",children:"Download"})]})]})})]}),$.length>1&&(0,b.jsx)("div",{className:"absolute bottom-24 left-1/2 -translate-x-1/2 flex items-center gap-2 px-3 py-2.5 bg-white/10 backdrop-blur-xl rounded-xl",children:$.map((a,c)=>(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),ab(c),X(a),Z(0)},className:`w-14 h-14 rounded-lg overflow-hidden transition-all duration-300 ${c===aa?"ring-2 ring-white scale-110 shadow-lg":"opacity-60 hover:opacity-100"}`,children:(0,b.jsx)("img",{src:a,alt:"",className:"w-full h-full object-cover"})},c))})]}):null,{image:W,onClose:()=>X(null)})]})}],14833);var P=a.i(35050),Q=a.i(3314),R=a.i(49625),R=R,S=a.i(52495),T=a.i(83415),U=a.i(81010);let V=(0,F.default)("file-image",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);var W=a.i(76472);a.s(["default",0,({isOpen:a,onClose:e,farmerId:l})=>{var m,o;let[v,x]=(0,c.useState)("profile"),[y,z]=(0,c.useState)(null),[B,D]=(0,c.useState)(!1),[E,F]=(0,c.useState)(null),[G,H]=(0,c.useState)(null);(0,c.useEffect)(()=>{a&&l&&I()},[a,l]);let I=async()=>{D(!0),F(null);try{let a=await fetch(`${N.default}/user/getfarmerdetails?farmerId=${l}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}}),b=await a.json();b.success?z(b.data):F(b.message||"Failed to fetch farmer details")}catch(a){F("Network error. Please try again."),console.error("Error fetching farmer details:",a)}finally{D(!1)}};if(!a)return null;let K=[{id:"profile",label:"Profile",icon:g.User},{id:"documents",label:"Documents",icon:V},{id:"bank",label:"Bank Details",icon:i.Building2},{id:"nominee",label:"Nominee",icon:W.Heart}],L=a=>{let c={approved:{bg:"bg-green-50",text:"text-green-700",border:"border-green-200",dot:"bg-green-500"},active:{bg:"bg-green-50",text:"text-green-700",border:"border-green-200",dot:"bg-green-500"},pending:{bg:"bg-amber-50",text:"text-amber-700",border:"border-amber-200",dot:"bg-amber-500"},rejected:{bg:"bg-red-50",text:"text-red-700",border:"border-red-200",dot:"bg-red-500"},inactive:{bg:"bg-gray-50",text:"text-gray-700",border:"border-gray-200",dot:"bg-gray-500"}},d=c[a?.toLowerCase()]||c.pending;return(0,b.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-semibold ${d.bg} ${d.text} border ${d.border}`,children:[(0,b.jsx)("span",{className:`w-1.5 h-1.5 rounded-full ${d.dot} animate-pulse`}),a?.charAt(0).toUpperCase()+a?.slice(1)]})},M=a=>a?new Date(a).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"N/A",O=a=>a?10===a.length?`+91 ${a}`:a:"N/A",X=({icon:a,label:c,value:d,color:e="indigo",copyable:f=!1})=>(0,b.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors group",children:[(0,b.jsx)("div",{className:`p-2 bg-gradient-to-br from-${e}-500 to-${e}-600 rounded-lg shadow-sm`,children:(0,b.jsx)(a,{className:"w-4 h-4 text-white"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 font-medium",children:c}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-900 truncate",children:d||"N/A"})]}),f&&d&&(0,b.jsx)("button",{onClick:()=>navigator.clipboard.writeText(d),className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-gray-200 rounded transition-all",title:"Copy",children:(0,b.jsx)(k.FileText,{className:"w-3 h-3 text-gray-500"})})]}),Y=({label:a,imageUrl:c,onView:d})=>(0,b.jsxs)("div",{className:"bg-gray-50 rounded-xl p-3 hover:bg-gray-100 transition-colors",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 font-medium mb-2",children:a}),(0,b.jsx)("div",{className:"relative aspect-video bg-gray-200 rounded-lg overflow-hidden group",children:c?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("img",{src:c,alt:a,className:"w-full h-full object-cover"}),(0,b.jsxs)("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>d(c),className:"p-2 bg-white rounded-lg hover:bg-gray-100 transition-colors",title:"View",children:(0,b.jsx)(A.Eye,{className:"w-4 h-4 text-gray-700"})}),(0,b.jsx)("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-white rounded-lg hover:bg-gray-100 transition-colors",title:"Open in new tab",children:(0,b.jsx)(S.ExternalLink,{className:"w-4 h-4 text-gray-700"})})]})]}):(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,b.jsx)(R.default,{className:"w-8 h-8 text-gray-400"})})})]});return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[92vh] overflow-hidden flex flex-col",children:[B&&(0,b.jsx)("div",{className:"flex-1 flex items-center justify-center py-20",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(J.Loader2,{className:"w-12 h-12 text-indigo-600 animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-600 font-medium",children:"Loading farmer details..."})]})}),E&&!B&&(0,b.jsx)("div",{className:"flex-1 flex items-center justify-center py-20",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(f.XCircle,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-900 font-semibold mb-2",children:"Failed to load data"}),(0,b.jsx)("p",{className:"text-gray-500 mb-4",children:E}),(0,b.jsx)("button",{onClick:I,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Try Again"})]})}),y&&!B&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"relative overflow-hidden flex-shrink-0",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600",children:(0,b.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48Y2lyY2xlIGN4PSIzMCIgY3k9IjMwIiByPSIyIi8+PC9nPjwvZz48L3N2Zz4=')] opacity-20"})}),(0,b.jsx)("div",{className:"relative px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"relative",children:[y.user_image?(0,b.jsx)("img",{src:y.user_image,alt:y.name,className:"w-16 h-16 rounded-2xl object-cover border-2 border-white/30 shadow-xl cursor-pointer hover:scale-105 transition-transform",onClick:()=>H(y.user_image)}):(0,b.jsx)("div",{className:"w-16 h-16 rounded-2xl bg-white/20 backdrop-blur-sm flex items-center justify-center text-white font-bold text-xl border border-white/30 shadow-xl",children:(m=y.name)?m.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2):"NA"}),(0,b.jsx)("div",{className:`absolute -bottom-1 -right-1 w-5 h-5 rounded-full border-2 border-white flex items-center justify-center ${y.is_active?"bg-green-500":"bg-gray-500"}`,children:y.is_active?(0,b.jsx)(n.CheckCircle2,{className:"w-3 h-3 text-white"}):(0,b.jsx)(f.XCircle,{className:"w-3 h-3 text-white"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-white capitalize",children:y.name}),"approved"===y.overallStatus&&(0,b.jsx)(C.BadgeCheck,{className:"w-5 h-5 text-yellow-300"})]}),(0,b.jsxs)("p",{className:"text-white/70 text-sm",children:["ID: ",y.farmerId]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 mt-1 flex-wrap",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1 text-white/80 text-xs",children:[(0,b.jsx)(q.Phone,{className:"w-3 h-3"}),O(y.phone_number)]}),(0,b.jsxs)("span",{className:"flex items-center gap-1 text-white/80 text-xs",children:[(0,b.jsx)(s.Calendar,{className:"w-3 h-3"}),"Joined ",M(y.registration_date)]})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"hidden sm:block",children:L(y.overallStatus)}),(0,b.jsx)("button",{onClick:e,className:"p-2 bg-white/10 hover:bg-white/20 rounded-xl transition-all duration-300 hover:scale-110 hover:rotate-90",children:(0,b.jsx)(d.X,{className:"w-5 h-5 text-white"})})]})]})})]}),(0,b.jsx)("div",{className:"flex bg-gray-50 px-4 py-2 gap-2 flex-shrink-0 border-b border-gray-200 overflow-x-auto",children:K.map(a=>{let c=a.icon;return(0,b.jsxs)("button",{onClick:()=>x(a.id),className:`flex-1 min-w-fit px-4 py-2 flex items-center justify-center gap-2 font-medium rounded-xl transition-all duration-300 ${v===a.id?"bg-white text-gray-800 shadow-md":"text-gray-500 hover:bg-white/50 hover:text-gray-700"}`,children:[(0,b.jsx)(c,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"text-sm whitespace-nowrap",children:a.label})]},a.id)})}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 bg-gradient-to-br from-gray-50 via-white to-gray-50",children:["profile"===v&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-white rounded-2xl p-5 border border-gray-100 shadow-sm",children:[(0,b.jsxs)("h3",{className:"text-sm font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,b.jsx)(g.User,{className:"w-4 h-4 text-indigo-600"}),"Personal Information"]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[(0,b.jsx)(X,{icon:g.User,label:"Full Name",value:y.name}),(0,b.jsx)(X,{icon:q.Phone,label:"Phone Number",value:O(y.phone_number),copyable:!0}),(0,b.jsx)(X,{icon:r.Mail,label:"Email Address",value:y.email,copyable:!0}),(0,b.jsx)(X,{icon:s.Calendar,label:"Date of Birth",value:M(y.dob)}),(0,b.jsx)(X,{icon:T.UserCircle,label:"Gender",value:y.gender?.charAt(0).toUpperCase()+y.gender?.slice(1)}),(0,b.jsx)(X,{icon:t.Hash,label:"Farmer ID",value:y.farmerId,copyable:!0})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-2xl p-5 border border-gray-100 shadow-sm",children:[(0,b.jsxs)("h3",{className:"text-sm font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,b.jsx)(p.MapPin,{className:"w-4 h-4 text-indigo-600"}),"Address & Land Details"]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[(0,b.jsx)(X,{icon:U.Home,label:"Address",value:y.address}),(0,b.jsx)(X,{icon:p.MapPin,label:"Landmark",value:y.landmark}),(0,b.jsx)(X,{icon:p.MapPin,label:"Tehsil",value:y.tehsil}),(0,b.jsx)(X,{icon:p.MapPin,label:"District",value:y.district}),(0,b.jsx)(X,{icon:p.MapPin,label:"State",value:y.state}),(0,b.jsx)(X,{icon:t.Hash,label:"PIN Code",value:y.pin_code,copyable:!0}),(0,b.jsx)(X,{icon:P.Wheat,label:"Land Size",value:(o=y.land_size)?"object"==typeof o&&o.$numberDecimal?`${o.$numberDecimal} Acres`:`${o} Acres`:"N/A"})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-2xl p-5 border border-gray-100 shadow-sm",children:[(0,b.jsxs)("h3",{className:"text-sm font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,b.jsx)(Q.Shield,{className:"w-4 h-4 text-indigo-600"}),"Account Status"]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Overall Status"}),L(y.overallStatus)]}),(0,b.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Account Status"}),L(y.is_active?"active":"inactive")]}),(0,b.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Registration Date"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:M(y.registration_date)})]})]})]})]}),"documents"===v&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-white rounded-2xl p-5 border border-gray-100 shadow-sm",children:[(0,b.jsxs)("h3",{className:"text-sm font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,b.jsx)(h.CreditCard,{className:"w-4 h-4 text-indigo-600"}),"Identity Documents"]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,b.jsx)(X,{icon:t.Hash,label:"Aadhaar Number",value:y.aadhaar_number,copyable:!0}),(0,b.jsx)(X,{icon:h.CreditCard,label:"PAN Number",value:y.pan_number,copyable:!0})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[(0,b.jsx)(Y,{label:"User Photo",imageUrl:y.user_image,onView:H}),(0,b.jsx)(Y,{label:"Aadhaar Card",imageUrl:y.aadhaar_image,onView:H}),(0,b.jsx)(Y,{label:"PAN Card",imageUrl:y.pan_image,onView:H})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-2xl p-5 border border-gray-100 shadow-sm",children:[(0,b.jsxs)("h3",{className:"text-sm font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,b.jsx)(k.FileText,{className:"w-4 h-4 text-indigo-600"}),"Khatauni Documents (",y.khatauni_images?.length||0,")"]}),y.khatauni_images&&y.khatauni_images.length>0?(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:y.khatauni_images.map((a,c)=>(0,b.jsxs)("div",{className:"bg-gray-50 rounded-xl p-3",children:[(0,b.jsxs)("p",{className:"text-xs text-gray-500 font-medium mb-2 truncate",title:a.khatauni_id,children:["Khatauni ",c+1]}),(0,b.jsxs)("div",{className:"relative aspect-video bg-gray-200 rounded-lg overflow-hidden group",children:[(0,b.jsx)("img",{src:a.image_url,alt:`Khatauni ${c+1}`,className:"w-full h-full object-cover"}),(0,b.jsxs)("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>H(a.image_url),className:"p-2 bg-white rounded-lg hover:bg-gray-100 transition-colors",title:"View",children:(0,b.jsx)(A.Eye,{className:"w-4 h-4 text-gray-700"})}),(0,b.jsx)("a",{href:a.image_url,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-white rounded-lg hover:bg-gray-100 transition-colors",title:"Open in new tab",children:(0,b.jsx)(S.ExternalLink,{className:"w-4 h-4 text-gray-700"})})]})]}),(0,b.jsxs)("p",{className:"text-xs text-gray-400 mt-2 truncate",title:a.khatauni_id,children:["ID: ",a.khatauni_id]})]},a.khatauni_id))}):(0,b.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,b.jsx)(k.FileText,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),(0,b.jsx)("p",{children:"No khatauni documents uploaded"})]})]})]}),"bank"===v&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-white rounded-2xl p-5 border border-gray-100 shadow-sm",children:[(0,b.jsxs)("h3",{className:"text-sm font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,b.jsx)(i.Building2,{className:"w-4 h-4 text-indigo-600"}),"Bank Account Details"]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[(0,b.jsx)(X,{icon:g.User,label:"Account Holder",value:y.account_holder}),(0,b.jsx)(X,{icon:h.CreditCard,label:"Account Number",value:y.account_number,copyable:!0}),(0,b.jsx)(X,{icon:t.Hash,label:"IFSC Code",value:y.ifsc_code,copyable:!0}),(0,b.jsx)(X,{icon:i.Building2,label:"Bank Name",value:y.bank_name}),(0,b.jsx)(X,{icon:u.Landmark,label:"Branch Name",value:y.branch_name})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-2xl p-5 border border-gray-100 shadow-sm",children:[(0,b.jsxs)("h3",{className:"text-sm font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,b.jsx)(V,{className:"w-4 h-4 text-indigo-600"}),"Bank Passbook / Cancelled Cheque"]}),(0,b.jsx)("div",{className:"max-w-md",children:(0,b.jsx)(Y,{label:"Bank Passbook Image",imageUrl:y.bank_passbook_img,onView:H})})]})]}),"nominee"===v&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-white rounded-2xl p-5 border border-gray-100 shadow-sm",children:[(0,b.jsxs)("h3",{className:"text-sm font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,b.jsx)(j.Users,{className:"w-4 h-4 text-indigo-600"}),"Nominee Information"]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[(0,b.jsx)(X,{icon:g.User,label:"Nominee Name",value:y.nominee_name}),(0,b.jsx)(X,{icon:W.Heart,label:"Relationship",value:y.nominee_relation?.charAt(0).toUpperCase()+y.nominee_relation?.slice(1)}),(0,b.jsx)(X,{icon:T.UserCircle,label:"Gender",value:y.nominee_gender?.charAt(0).toUpperCase()+y.nominee_gender?.slice(1)}),(0,b.jsx)(X,{icon:s.Calendar,label:"Date of Birth",value:M(y.nominee_dob)}),(0,b.jsx)(X,{icon:q.Phone,label:"Phone Number",value:O(y.nominee_phone),copyable:!0}),(0,b.jsx)(X,{icon:r.Mail,label:"Email Address",value:y.nominee_email,copyable:!0}),(0,b.jsx)(X,{icon:t.Hash,label:"Aadhaar Number",value:y.nominee_aadhaar,copyable:!0}),(0,b.jsx)(X,{icon:h.CreditCard,label:"PAN Number",value:y.nominee_pan,copyable:!0}),(0,b.jsx)(X,{icon:U.Home,label:"Address",value:y.nominee_address})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-2xl p-5 border border-gray-100 shadow-sm",children:[(0,b.jsxs)("h3",{className:"text-sm font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,b.jsx)(V,{className:"w-4 h-4 text-indigo-600"}),"Nominee Documents"]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[(0,b.jsx)(Y,{label:"Nominee Photo",imageUrl:y.nominee_image,onView:H}),(0,b.jsx)(Y,{label:"Nominee Aadhaar Card",imageUrl:y.nominee_aadhaar_image,onView:H}),(0,b.jsx)(Y,{label:"Nominee PAN Card",imageUrl:y.nominee_pan_image,onView:H})]})]})]})]}),(0,b.jsx)("div",{className:"border-t border-gray-200 bg-gray-50 px-6 py-3 flex-shrink-0",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:["Farmer ID: ",y.farmerId," | Last updated: ",M(y.registration_date)]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-100 transition-all duration-200 text-sm font-medium",children:[(0,b.jsx)(w.Download,{className:"w-4 h-4"}),"Export"]}),(0,b.jsx)("button",{onClick:e,className:"px-5 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl hover:shadow-lg transition-all duration-300 text-sm font-semibold",children:"Close"})]})]})})]}),(B||E)&&(0,b.jsx)("div",{className:"border-t border-gray-200 bg-gray-50 px-6 py-3 flex-shrink-0",children:(0,b.jsx)("div",{className:"flex justify-end",children:(0,b.jsx)("button",{onClick:e,className:"px-5 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl hover:shadow-lg transition-all duration-300 text-sm font-semibold",children:"Close"})})})]})}),G&&(0,b.jsx)(({imageUrl:a,onClose:c})=>(0,b.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[60] p-4",onClick:c,children:(0,b.jsxs)("div",{className:"relative max-w-4xl max-h-[90vh]",onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("button",{onClick:c,className:"absolute -top-10 right-0 p-2 text-white hover:bg-white/20 rounded-full transition-colors",children:(0,b.jsx)(d.X,{className:"w-6 h-6"})}),(0,b.jsx)("img",{src:a,alt:"Preview",className:"max-w-full max-h-[85vh] object-contain rounded-lg"})]})}),{imageUrl:G,onClose:()=>H(null)})]})}],54823);var X=a.i(14548),Y=a.i(13513),Z=a.i(68976),$=a.i(41379),_=a.i(1027);let aa=(0,F.default)("power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]),ab=(0,F.default)("toggle-left",[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]]),ac=(0,F.default)("toggle-right",[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]]);var ad=a.i(83490);let ae=({label:a,field:d,type:e="text",placeholder:f,icon:g,required:h=!1,disabled:i=!1,options:j=null,showToggle:k=!1,value:l,onChange:o,error:p,touched:q,isChanged:r,originalValue:s})=>{let t=p&&q,u=q&&!p&&l,[v,w]=(0,c.useState)(!k);return(0,b.jsxs)("div",{className:"space-y-1.5 group",children:[(0,b.jsxs)("label",{className:"flex items-center justify-between text-xs font-semibold text-gray-600 uppercase tracking-wide",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1.5",children:[g&&(0,b.jsx)(g,{className:"w-3.5 h-3.5 text-gray-400"}),a,h&&(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),r&&(0,b.jsxs)("span",{className:"flex items-center gap-1 text-amber-600 normal-case text-[10px] font-medium bg-amber-50 px-2 py-0.5 rounded-full",children:[(0,b.jsx)(_.Zap,{className:"w-3 h-3"}),"Modified"]})]}),(0,b.jsxs)("div",{className:"relative",children:[j?(0,b.jsxs)("select",{value:l,onChange:a=>o(d,a.target.value),disabled:i,className:`w-full px-4 py-2.5 bg-gray-50 border rounded-xl text-sm font-medium transition-all duration-200 appearance-none cursor-pointer pr-10
              ${t?"border-red-300 bg-red-50 focus:ring-2 focus:ring-red-200 focus:border-red-400":r?"border-amber-300 bg-amber-50 focus:ring-2 focus:ring-amber-200 focus:border-amber-400":u?"border-green-300 bg-green-50 focus:ring-2 focus:ring-green-200 focus:border-green-400":"border-gray-200 focus:ring-2 focus:ring-indigo-200 focus:border-indigo-400 focus:bg-white"}
              ${i?"opacity-60 cursor-not-allowed":"hover:border-gray-300"}
            `,children:[(0,b.jsxs)("option",{value:"",children:["Select ",a]}),j.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))]}):(0,b.jsx)("input",{type:k?v?"text":"password":e,value:l,onChange:a=>o(d,a.target.value),placeholder:f,disabled:i,className:`w-full px-4 py-2.5 bg-gray-50 border rounded-xl text-sm font-medium transition-all duration-200 pr-10
              ${t?"border-red-300 bg-red-50 focus:ring-2 focus:ring-red-200 focus:border-red-400":r?"border-amber-300 bg-amber-50 focus:ring-2 focus:ring-amber-200 focus:border-amber-400":u?"border-green-300 bg-green-50 focus:ring-2 focus:ring-green-200 focus:border-green-400":"border-gray-200 focus:ring-2 focus:ring-indigo-200 focus:border-indigo-400 focus:bg-white"}
              ${i?"opacity-60 cursor-not-allowed":"hover:border-gray-300"}
            `}),(0,b.jsxs)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-1",children:[k&&(0,b.jsx)("button",{type:"button",onClick:()=>w(!v),className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:v?(0,b.jsx)($.EyeOff,{className:"w-4 h-4 text-gray-400"}):(0,b.jsx)(A.Eye,{className:"w-4 h-4 text-gray-400"})}),t&&(0,b.jsx)(m.AlertCircle,{className:"w-4 h-4 text-red-500"}),r&&!t&&(0,b.jsx)(_.Zap,{className:"w-4 h-4 text-amber-500"}),u&&!r&&(0,b.jsx)(n.CheckCircle2,{className:"w-4 h-4 text-green-500"})]})]}),t&&(0,b.jsxs)("p",{className:"text-xs text-red-500 flex items-center gap-1",children:[(0,b.jsx)(m.AlertCircle,{className:"w-3 h-3"}),p]}),r&&s&&(0,b.jsxs)("p",{className:"text-xs text-amber-600 flex items-center gap-1",children:[(0,b.jsx)(L.Info,{className:"w-3 h-3"}),"Original: ",s]})]})},af=({title:a,icon:c,children:d,color:e="indigo",badge:f=null})=>(0,b.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden hover:shadow-md transition-shadow duration-300",children:[(0,b.jsx)("div",{className:`px-5 py-3 bg-gradient-to-r from-${e}-50 to-${e}-100/50 border-b border-gray-100`,children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("h3",{className:"text-sm font-semibold text-gray-800 flex items-center gap-2",children:[(0,b.jsx)("div",{className:`p-1.5 bg-gradient-to-br from-${e}-500 to-${e}-600 rounded-lg shadow-sm`,children:(0,b.jsx)(c,{className:"w-3.5 h-3.5 text-white"})}),a]}),f&&(0,b.jsx)("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${f.className}`,children:f.text})]})}),(0,b.jsx)("div",{className:"p-5",children:d})]}),ag=({src:a,label:c,icon:d})=>a?(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsx)("div",{className:"aspect-video rounded-xl overflow-hidden border border-gray-200 bg-gray-50",children:(0,b.jsx)("img",{src:a,alt:c,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"})}),(0,b.jsx)("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-xl flex items-center justify-center",children:(0,b.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-white rounded-lg shadow-lg hover:bg-gray-100 transition-colors",children:(0,b.jsx)(A.Eye,{className:"w-5 h-5 text-gray-700"})})}),(0,b.jsxs)("p",{className:"mt-2 text-xs font-medium text-gray-600 flex items-center gap-1.5",children:[(0,b.jsx)(d,{className:"w-3.5 h-3.5 text-gray-400"}),c]})]}):null,ah=[{value:"male",label:"Male"},{value:"female",label:"Female"},{value:"other",label:"Other"}],ai=[{value:"Uttar Pradesh",label:"Uttar Pradesh"},{value:"Bihar",label:"Bihar"},{value:"Madhya Pradesh",label:"Madhya Pradesh"},{value:"Maharashtra",label:"Maharashtra"},{value:"Rajasthan",label:"Rajasthan"},{value:"Punjab",label:"Punjab"},{value:"Haryana",label:"Haryana"},{value:"Gujarat",label:"Gujarat"},{value:"Tamil Nadu",label:"Tamil Nadu"},{value:"Karnataka",label:"Karnataka"}],aj=[{value:"spouse",label:"Spouse"},{value:"father",label:"Father"},{value:"mother",label:"Mother"},{value:"son",label:"Son"},{value:"daughter",label:"Daughter"},{value:"brother",label:"Brother"},{value:"sister",label:"Sister"},{value:"other",label:"Other"}];a.s(["default",0,({isOpen:a,onClose:e,farmerId:f,onSave:l})=>{let[o,w]=(0,c.useState)("personal"),[x,y]=(0,c.useState)(!0),[z,A]=(0,c.useState)(!1),[D,E]=(0,c.useState)({}),[F,G]=(0,c.useState)({}),[I,M]=(0,c.useState)(null),[O,R]=(0,c.useState)(!1),[S,T]=(0,c.useState)({}),[U,V]=(0,c.useState)({}),[W,$]=(0,c.useState)(!1),[ak,al]=(0,c.useState)(null),[am,an]=(0,c.useState)({is_active:!0,name:"",phone_number:"",email:"",dob:"",gender:"",aadhaar_number:"",pan_number:"",user_image:"",aadhaar_image:"",pan_image:"",address:"",tehsil:"",district:"",state:"",pin_code:"",landmark:"",land_size:"",account_number:"",ifsc_code:"",account_holder:"",bank_name:"",branch_name:"",bank_passbook_img:"",nominee_name:"",nominee_relation:"",nominee_phone:"",nominee_email:"",nominee_dob:"",nominee_gender:"",nominee_aadhaar:"",nominee_pan:"",nominee_address:"",nominee_image:"",nominee_aadhaar_image:"",nominee_pan_image:""}),ao=(0,c.useCallback)(async()=>{if(f){y(!0),M(null);try{let a=await ad.default.get(`${N.default}/user/getfarmerdetails?farmerId=${f}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(a.data.success){let b=a.data.data;al(b);let c=b.land_size?.$numberDecimal||b.land_size||"",d={is_active:b.is_active??!0,name:b.name||"",phone_number:b.phone_number||"",email:b.email||"",dob:b.dob||"",gender:b.gender||"",aadhaar_number:b.aadhaar_number||"",pan_number:b.pan_number||"",user_image:b.user_image||"",aadhaar_image:b.aadhaar_image||"",pan_image:b.pan_image||"",address:b.address||"",tehsil:b.tehsil||"",district:b.district||"",state:b.state||"",pin_code:b.pin_code||"",landmark:b.landmark||"",land_size:c,account_number:b.account_number||"",ifsc_code:b.ifsc_code||"",account_holder:b.account_holder||"",bank_name:b.bank_name||"",branch_name:b.branch_name||"",bank_passbook_img:b.bank_passbook_img||"",nominee_name:b.nominee_name||"",nominee_relation:b.nominee_relation||"",nominee_phone:b.nominee_phone||"",nominee_email:b.nominee_email||"",nominee_dob:b.nominee_dob||"",nominee_gender:b.nominee_gender||"",nominee_aadhaar:b.nominee_aadhaar||"",nominee_pan:b.nominee_pan||"",nominee_address:b.nominee_address||"",nominee_image:b.nominee_image||"",nominee_aadhaar_image:b.nominee_aadhaar_image||"",nominee_pan_image:b.nominee_pan_image||""};an(d),T(d),V({})}else M(a.data.message||"Failed to fetch farmer details")}catch(a){console.error("Error fetching farmer details:",a),M(a.response?.data?.message||"Failed to connect to server")}finally{y(!1)}}},[f]);if((0,c.useEffect)(()=>{a&&f&&ao()},[a,f,ao]),(0,c.useEffect)(()=>{a||(w("personal"),E({}),G({}),R(!1),V({}))},[a]),!a)return null;let ap=[{id:"personal",label:"Personal Info",icon:g.User,color:"from-blue-500 to-indigo-600"},{id:"address",label:"Address & Land",icon:p.MapPin,color:"from-green-500 to-emerald-600"},{id:"bank",label:"Bank Details",icon:i.Building2,color:"from-purple-500 to-pink-600"},{id:"nominee",label:"Nominee Info",icon:j.Users,color:"from-amber-500 to-orange-600"}],aq=(a,b)=>{an(c=>({...c,[a]:b})),G(b=>({...b,[a]:!0})),b!==S[a]?V(c=>({...c,[a]:b})):V(b=>{let c={...b};return delete c[a],c}),D[a]&&E(b=>({...b,[a]:null})),O&&R(!1)},ar=async()=>{let a,b;if(0===Object.keys(U).length)return void E({general:"No changes to save"});if(a={},(b=Object.keys(U)).includes("name")&&!am.name.trim()&&(a.name="Name is required"),b.includes("phone_number")&&(am.phone_number.trim()?/^[0-9]{10,12}$/.test(am.phone_number.replace(/\s/g,""))||(a.phone_number="Invalid phone number"):a.phone_number="Phone is required"),b.includes("email")&&am.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(am.email)&&(a.email="Invalid email address"),b.includes("aadhaar_number")&&!am.aadhaar_number.trim()&&(a.aadhaar_number="Aadhaar is required"),b.includes("address")&&!am.address.trim()&&(a.address="Address is required"),b.includes("district")&&!am.district.trim()&&(a.district="District is required"),b.includes("state")&&!am.state.trim()&&(a.state="State is required"),b.includes("pin_code")&&!am.pin_code.trim()&&(a.pin_code="PIN code is required"),b.includes("account_number")&&!am.account_number.trim()&&(a.account_number="Account number is required"),b.includes("ifsc_code")&&!am.ifsc_code.trim()&&(a.ifsc_code="IFSC code is required"),b.includes("bank_name")&&!am.bank_name.trim()&&(a.bank_name="Bank name is required"),E(a),0!==Object.keys(a).length){let a=Object.keys(D);a.length>0&&(["name","phone_number","email","dob","gender","aadhaar_number","pan_number"].some(b=>a.includes(b))?w("personal"):["address","tehsil","district","state","pin_code","landmark","land_size"].some(b=>a.includes(b))?w("address"):["account_number","ifsc_code","account_holder","bank_name","branch_name"].some(b=>a.includes(b))?w("bank"):w("nominee"));return}A(!0),E({});try{let a={farmerId:f,...U};console.log("Updating with payload:",a);let b=await ad.default.put(`${N.default}/user/updatefarmerdetails?farmerId=${f}`,a,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});b.data.success?(R(!0),T({...am}),V({}),l?.(am),setTimeout(()=>{e()},1500)):E({general:b.data.message||"Failed to update farmer details"})}catch(a){console.error("Save failed:",a),E({general:a.response?.data?.message||"Failed to save changes. Please try again."})}finally{A(!1)}},as=a=>(0,b.jsx)(ae,{...a,value:am[a.field],onChange:aq,error:D[a.field],touched:F[a.field],isChanged:void 0!==U[a.field],originalValue:S[a.field]}),at=()=>{let a=Object.keys(am);return Math.round(a.filter(a=>am[a]&&am[a].toString().trim()).length/a.length*100)};return x?(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8 flex flex-col items-center gap-4",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"w-16 h-16 border-4 border-indigo-100 rounded-full"}),(0,b.jsx)("div",{className:"absolute inset-0 w-16 h-16 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Loading Farmer Details"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Please wait while we fetch the data..."})]})]})}):I?(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8 flex flex-col items-center gap-4",children:[(0,b.jsx)("div",{className:"p-4 bg-red-100 rounded-full",children:(0,b.jsx)(H.AlertTriangle,{className:"w-8 h-8 text-red-600"})}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Failed to Load Data"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:I})]}),(0,b.jsxs)("div",{className:"flex gap-3 mt-2",children:[(0,b.jsx)("button",{onClick:e,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors text-sm font-medium",children:"Cancel"}),(0,b.jsxs)("button",{onClick:ao,className:"px-4 py-2 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition-colors text-sm font-medium flex items-center gap-2",children:[(0,b.jsx)(K.RefreshCw,{className:"w-4 h-4"}),"Retry"]})]})]})}):(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[92vh] overflow-hidden flex flex-col animate-in slide-in-from-bottom-4 duration-300",children:[(0,b.jsxs)("div",{className:"relative overflow-hidden flex-shrink-0",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600",children:(0,b.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48Y2lyY2xlIGN4PSIzMCIgY3k9IjMwIiByPSIyIi8+PC9nPjwvZz48L3N2Zz4=')] opacity-20"})}),(0,b.jsx)("div",{className:"relative px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"relative group",children:[ak?.user_image?(0,b.jsx)("img",{src:ak.user_image,alt:am.name,className:"w-16 h-16 rounded-2xl object-cover border-2 border-white/30 shadow-xl"}):(0,b.jsx)("div",{className:"w-16 h-16 rounded-2xl bg-white/20 backdrop-blur-sm flex items-center justify-center text-white font-bold text-xl border border-white/30 shadow-xl",children:am.name?am.name.split(" ").map(a=>a[0]).join("").substring(0,2).toUpperCase():"NA"}),(0,b.jsx)("button",{className:"absolute inset-0 bg-black/40 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:(0,b.jsx)(Y.Camera,{className:"w-5 h-5 text-white"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,b.jsx)(Z.Edit3,{className:"w-5 h-5"}),"Edit Farmer Profile"]}),(0,b.jsx)(B.Sparkles,{className:"w-4 h-4 text-yellow-300 animate-pulse"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 mt-1",children:[(0,b.jsxs)("p",{className:"text-white/70 text-sm",children:["ID: ",ak?.farmerId||f]}),ak?.overallStatus&&(0,b.jsx)("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${"approved"===ak.overallStatus?"bg-green-400/20 text-green-100":"pending"===ak.overallStatus?"bg-yellow-400/20 text-yellow-100":"bg-red-400/20 text-red-100"}`,children:ak.overallStatus.charAt(0).toUpperCase()+ak.overallStatus.slice(1)})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[Object.keys(U).length>0&&(0,b.jsxs)("div",{className:"hidden sm:flex items-center gap-2 bg-amber-400/20 backdrop-blur-sm rounded-xl px-3 py-2 border border-amber-300/30",children:[(0,b.jsx)(_.Zap,{className:"w-4 h-4 text-amber-300"}),(0,b.jsxs)("span",{className:"text-amber-100 text-sm font-medium",children:[Object.keys(U).length," change",Object.keys(U).length>1?"s":""]})]}),(0,b.jsxs)("div",{className:"hidden sm:flex items-center gap-3 bg-white/10 backdrop-blur-sm rounded-xl px-4 py-2 border border-white/20",children:[(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("p",{className:"text-white font-bold text-sm",children:[at(),"%"]}),(0,b.jsx)("p",{className:"text-white/60 text-xs",children:"Complete"})]}),(0,b.jsxs)("div",{className:"w-12 h-12 relative",children:[(0,b.jsxs)("svg",{className:"w-12 h-12 -rotate-90",children:[(0,b.jsx)("circle",{cx:"24",cy:"24",r:"20",fill:"none",stroke:"rgba(255,255,255,0.2)",strokeWidth:"4"}),(0,b.jsx)("circle",{cx:"24",cy:"24",r:"20",fill:"none",stroke:"white",strokeWidth:"4",strokeDasharray:`${1.26*at()} 126`,strokeLinecap:"round",className:"transition-all duration-500"})]}),(0,b.jsx)(n.CheckCircle2,{className:"w-5 h-5 text-white absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"})]})]}),(0,b.jsx)("button",{onClick:e,className:"p-2 bg-white/10 hover:bg-white/20 rounded-xl transition-all duration-300 hover:scale-110 hover:rotate-90",children:(0,b.jsx)(d.X,{className:"w-5 h-5 text-white"})})]})]})})]}),O&&(0,b.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-b border-green-200 px-6 py-3 flex items-center gap-3 animate-in slide-in-from-top-2 duration-300",children:[(0,b.jsx)("div",{className:"p-1.5 bg-green-100 rounded-full",children:(0,b.jsx)(n.CheckCircle2,{className:"w-5 h-5 text-green-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-green-800",children:"Changes saved successfully!"}),(0,b.jsx)("p",{className:"text-xs text-green-600",children:"Closing in a moment..."})]})]}),D.general&&(0,b.jsxs)("div",{className:"bg-gradient-to-r from-red-50 to-rose-50 border-b border-red-200 px-6 py-3 flex items-center gap-3 animate-in slide-in-from-top-2 duration-300",children:[(0,b.jsx)("div",{className:"p-1.5 bg-red-100 rounded-full",children:(0,b.jsx)(m.AlertCircle,{className:"w-5 h-5 text-red-600"})}),(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)("p",{className:"text-sm font-semibold text-red-800",children:D.general})}),(0,b.jsx)("button",{onClick:()=>E(a=>({...a,general:null})),className:"p-1 hover:bg-red-100 rounded-lg transition-colors",children:(0,b.jsx)(d.X,{className:"w-4 h-4 text-red-500"})})]}),(0,b.jsx)("div",{className:"flex bg-gray-50 px-4 py-2 gap-2 flex-shrink-0 border-b border-gray-200 overflow-x-auto",children:ap.map(a=>{let c=a.icon,d=({personal:["name","phone_number","email","dob","gender","aadhaar_number","pan_number"],address:["address","tehsil","district","state","pin_code","landmark","land_size"],bank:["account_number","ifsc_code","account_holder","bank_name","branch_name"],nominee:["nominee_name","nominee_relation","nominee_phone","nominee_email","nominee_dob","nominee_gender","nominee_aadhaar","nominee_pan","nominee_address"]})[a.id]?.filter(a=>void 0!==U[a]).length||0;return(0,b.jsxs)("button",{onClick:()=>w(a.id),className:`flex-1 min-w-[140px] px-4 py-2 flex items-center justify-center gap-2 font-medium rounded-xl transition-all duration-300 relative ${o===a.id?"bg-white text-gray-800 shadow-md scale-[1.02]":"text-gray-500 hover:bg-white/50 hover:text-gray-700"}`,children:[(0,b.jsx)("div",{className:`p-1.5 rounded-lg bg-gradient-to-br ${o===a.id?a.color:"from-gray-300 to-gray-400"}`,children:(0,b.jsx)(c,{className:"w-3.5 h-3.5 text-white"})}),(0,b.jsx)("span",{className:"text-sm whitespace-nowrap",children:a.label}),d>0&&(0,b.jsx)("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-amber-500 text-white text-xs font-bold rounded-full flex items-center justify-center",children:d})]},a.id)})}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 bg-gradient-to-br from-gray-50 via-white to-gray-50",children:["personal"===o&&(0,b.jsxs)("div",{className:"space-y-5",children:[(0,b.jsxs)(af,{title:"Basic Information",icon:g.User,color:"blue",children:[(0,b.jsxs)("div",{className:"mb-5 p-4 bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl border border-gray-200",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`p-2.5 rounded-xl shadow-sm ${am.is_active?"bg-gradient-to-br from-green-500 to-emerald-600":"bg-gradient-to-br from-red-500 to-rose-600"}`,children:(0,b.jsx)(aa,{className:"w-5 h-5 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:"Account Status"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:am.is_active?"Farmer can access the system":"Farmer access is disabled"})]})]}),(0,b.jsx)("button",{type:"button",onClick:()=>aq("is_active",!am.is_active),className:`flex items-center gap-2 px-4 py-2 rounded-xl font-medium text-sm transition-all duration-300 ${am.is_active?"bg-green-100 text-green-700 hover:bg-green-200":"bg-red-100 text-red-700 hover:bg-red-200"}`,children:am.is_active?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ac,{className:"w-5 h-5"}),"Active"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ab,{className:"w-5 h-5"}),"Inactive"]})})]}),void 0!==U.is_active&&(0,b.jsxs)("div",{className:"mt-3 flex items-center gap-2 text-amber-600 bg-amber-50 px-3 py-1.5 rounded-lg text-xs font-medium",children:[(0,b.jsx)(_.Zap,{className:"w-3.5 h-3.5"}),"Status will change from ",S.is_active?"Active":"Inactive"," to ",am.is_active?"Active":"Inactive"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[as({label:"Full Name",field:"name",icon:g.User,placeholder:"Enter full name",required:!0}),as({label:"Phone Number",field:"phone_number",icon:q.Phone,placeholder:"9876543210",required:!0}),as({label:"Email Address",field:"email",icon:r.Mail,type:"email",placeholder:"email@example.com"}),as({label:"Date of Birth",field:"dob",icon:s.Calendar,type:"date"}),as({label:"Gender",field:"gender",icon:g.User,options:ah})]})]}),(0,b.jsxs)(af,{title:"Identity Documents",icon:Q.Shield,color:"indigo",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[as({label:"Aadhaar Number",field:"aadhaar_number",icon:t.Hash,placeholder:"123456789012",required:!0}),as({label:"PAN Number",field:"pan_number",icon:h.CreditCard,placeholder:"ABCDE1234F"})]}),(am.aadhaar_image||am.pan_image)&&(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide mb-3",children:"Document Images"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,b.jsx)(ag,{src:am.user_image,label:"Profile Photo",icon:g.User}),(0,b.jsx)(ag,{src:am.aadhaar_image,label:"Aadhaar Card",icon:h.CreditCard}),(0,b.jsx)(ag,{src:am.pan_image,label:"PAN Card",icon:k.FileText})]})]}),(0,b.jsx)("div",{className:"mt-4 p-4 bg-blue-50 rounded-xl border border-blue-100",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(L.Info,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"Document Verification"}),(0,b.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"Identity documents were verified during registration. Contact admin to update document images."})]})]})})]})]}),"address"===o&&(0,b.jsxs)("div",{className:"space-y-5",children:[(0,b.jsx)(af,{title:"Residential Address",icon:p.MapPin,color:"green",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,b.jsx)("div",{className:"lg:col-span-2",children:as({label:"Address",field:"address",icon:p.MapPin,placeholder:"Village, Post Office",required:!0})}),as({label:"Landmark",field:"landmark",icon:p.MapPin,placeholder:"Near landmark"}),as({label:"Tehsil",field:"tehsil",icon:p.MapPin,placeholder:"Enter tehsil"}),as({label:"District",field:"district",icon:p.MapPin,placeholder:"Enter district",required:!0}),as({label:"State",field:"state",icon:p.MapPin,options:ai,required:!0}),as({label:"PIN Code",field:"pin_code",icon:t.Hash,placeholder:"273402",required:!0})]})}),(0,b.jsxs)(af,{title:"Land Details",icon:P.Wheat,color:"amber",children:[(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:as({label:"Land Size (Acres)",field:"land_size",icon:P.Wheat,type:"number",placeholder:"2.5"})}),ak?.khatauni_images?.length>0&&(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide mb-3",children:"Khatauni Documents"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ak.khatauni_images.map((a,c)=>(0,b.jsx)(ag,{src:a.image_url,label:`Khatauni ${c+1}`,icon:k.FileText},a.khatauni_id))})]}),(0,b.jsx)("div",{className:"mt-4 p-4 bg-amber-50 rounded-xl border border-amber-100",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(k.FileText,{className:"w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-amber-800",children:"Khatauni Documents"}),(0,b.jsx)("p",{className:"text-xs text-amber-600 mt-1",children:"Land ownership documents are verified separately. Contact admin to update Khatauni records."})]})]})})]})]}),"bank"===o&&(0,b.jsxs)("div",{className:"space-y-5",children:[(0,b.jsxs)(af,{title:"Bank Account Details",icon:i.Building2,color:"purple",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[as({label:"Account Number",field:"account_number",icon:h.CreditCard,placeholder:"Enter account number",required:!0,showToggle:!0}),as({label:"IFSC Code",field:"ifsc_code",icon:t.Hash,placeholder:"SBIN0001234",required:!0}),as({label:"Account Holder Name",field:"account_holder",icon:g.User,placeholder:"Name as per bank"}),as({label:"Bank Name",field:"bank_name",icon:i.Building2,placeholder:"State Bank of India",required:!0}),as({label:"Branch Name",field:"branch_name",icon:u.Landmark,placeholder:"Main Branch"})]}),am.bank_passbook_img&&(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide mb-3",children:"Bank Documents"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(0,b.jsx)(ag,{src:am.bank_passbook_img,label:"Bank Passbook",icon:k.FileText})})]})]}),(0,b.jsx)("div",{className:"p-5 bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl border border-purple-100",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2.5 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl shadow-lg",children:(0,b.jsx)(Q.Shield,{className:"w-5 h-5 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:"Bank Account Status"}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:["Registered on"," ",new Date(ak?.registration_date).toLocaleDateString()]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-green-100 rounded-full",children:[(0,b.jsx)(C.BadgeCheck,{className:"w-4 h-4 text-green-600"}),(0,b.jsx)("span",{className:"text-xs font-semibold text-green-700",children:"Linked"})]})]})})]}),"nominee"===o&&(0,b.jsxs)("div",{className:"space-y-5",children:[(0,b.jsx)(af,{title:"Nominee Personal Information",icon:j.Users,color:"orange",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[as({label:"Nominee Name",field:"nominee_name",icon:g.User,placeholder:"Enter nominee name"}),as({label:"Relationship",field:"nominee_relation",icon:j.Users,options:aj}),as({label:"Phone Number",field:"nominee_phone",icon:q.Phone,placeholder:"9876543210"}),as({label:"Email Address",field:"nominee_email",icon:r.Mail,type:"email",placeholder:"email@example.com"}),as({label:"Date of Birth",field:"nominee_dob",icon:s.Calendar,type:"date"}),as({label:"Gender",field:"nominee_gender",icon:g.User,options:ah})]})}),(0,b.jsxs)(af,{title:"Nominee Identity & Address",icon:Q.Shield,color:"red",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[as({label:"Aadhaar Number",field:"nominee_aadhaar",icon:t.Hash,placeholder:"123456789012"}),as({label:"PAN Number",field:"nominee_pan",icon:h.CreditCard,placeholder:"ABCDE1234F"}),(0,b.jsx)("div",{className:"md:col-span-2",children:as({label:"Address",field:"nominee_address",icon:p.MapPin,placeholder:"Complete address"})})]}),(am.nominee_image||am.nominee_aadhaar_image||am.nominee_pan_image)&&(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide mb-3",children:"Nominee Documents"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,b.jsx)(ag,{src:am.nominee_image,label:"Nominee Photo",icon:g.User}),(0,b.jsx)(ag,{src:am.nominee_aadhaar_image,label:"Nominee Aadhaar",icon:h.CreditCard}),(0,b.jsx)(ag,{src:am.nominee_pan_image,label:"Nominee PAN",icon:k.FileText})]})]})]}),(0,b.jsx)("div",{className:"p-4 bg-orange-50 rounded-xl border border-orange-100",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(L.Info,{className:"w-5 h-5 text-orange-500 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-orange-800",children:"Nominee Information"}),(0,b.jsx)("p",{className:"text-xs text-orange-600 mt-1",children:"The nominee will be the beneficiary in case of any claims. Ensure all details are accurate and up-to-date."})]})]})})]})]}),(0,b.jsx)("div",{className:"border-t border-gray-200 bg-gradient-to-r from-gray-50 via-white to-gray-50 px-6 py-4 flex-shrink-0",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,b.jsx)("span",{className:"text-xs text-gray-500",children:"Required fields marked with *"})]}),Object.keys(U).length>0&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-amber-600 bg-amber-50 px-3 py-1 rounded-full",children:[(0,b.jsx)(_.Zap,{className:"w-4 h-4"}),(0,b.jsxs)("span",{className:"text-xs font-medium",children:[Object.keys(U).length," unsaved change",Object.keys(U).length>1?"s":""]})]}),Object.keys(D).filter(a=>"general"!==a).length>0&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-red-500",children:[(0,b.jsx)(m.AlertCircle,{className:"w-4 h-4"}),(0,b.jsxs)("span",{className:"text-xs font-medium",children:[Object.keys(D).filter(a=>"general"!==a).length," ","error",Object.keys(D).filter(a=>"general"!==a).length>1?"s":""," ","found"]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("button",{onClick:()=>{an({...S}),V({}),G({}),E({})},disabled:z||0===Object.keys(U).length,className:"px-4 py-2.5 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-100 transition-all duration-200 text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[(0,b.jsx)(K.RefreshCw,{className:"w-4 h-4"}),"Reset"]}),(0,b.jsx)("button",{onClick:e,disabled:z,className:"px-5 py-2.5 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-100 transition-all duration-200 text-sm font-medium disabled:opacity-50",children:"Cancel"}),(0,b.jsx)("button",{onClick:ar,disabled:z||0===Object.keys(U).length,className:"group px-6 py-2.5 bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 text-white rounded-xl hover:shadow-lg hover:shadow-indigo-200 transition-all duration-300 text-sm font-semibold flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:shadow-none",children:z?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(J.Loader2,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(X.Save,{className:"w-4 h-4"}),"Save Changes",Object.keys(U).length>0&&(0,b.jsx)("span",{className:"bg-white/20 px-1.5 py-0.5 rounded text-xs",children:Object.keys(U).length}),(0,b.jsx)(v.ChevronRight,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})})]})]})})]})})}],12227);let ak=(0,F.default)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);a.s(["UserX",()=>ak],92319)}];

//# sourceMappingURL=src_components_admin_FarmerApproval_jsx_6e556bc1._.js.map